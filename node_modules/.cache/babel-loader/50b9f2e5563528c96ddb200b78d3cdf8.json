{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Cabecera de IsoTracker con diferentes desplegables y botones\nimport React,{useEffect,useRef,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Button from'@material-ui/core/Button';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import'./navBar.css';import{useHistory}from\"react-router\";import Trash from\"../../assets/images/Trash.png\";import Bell from\"../../assets/images/bell.svg\";import BellActive from\"../../assets/images/bell_active.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},title:{flexGrow:1},label:{},label2:{}};});var NavBar=function NavBar(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElUser=_React$useState2[0],setAnchorElUser=_React$useState2[1];var history=useHistory();var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),username=_React$useState4[0],setUsername=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),progressButtons=_React$useState6[0],setProgressButtons=_React$useState6[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMenuOpen=_useState2[0],setIsMenuOpen=_useState2[1];var ref=useRef();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notifications=_useState4[0],setNotifications=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),updateData=_useState6[0],setUpdateData=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),bellImage=_useState8[0],setBellImage=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),emptyNotifications=_useState10[0],setEmptyNotifications=_useState10[1];var handleClickUser=function handleClickUser(event){setAnchorElUser(event.currentTarget);};var handleCloseUser=function handleCloseUser(){setAnchorElUser(null);};var handleClickIsotracker=function handleClickIsotracker(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/isotracker\");};var handleLogOut=function handleLogOut(){localStorage.clear();history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/\");};var handleChangePassword=function handleChangePassword(){setAnchorElUser(null);history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/changepassword\");};var handleClickEquipments=function handleClickEquipments(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/equipments\");};var handleClickInstrument=function handleClickInstrument(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/instrumentation\");};var handleClickCivil=function handleClickCivil(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/civil\");};var handleClickElectrical=function handleClickElectrical(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/electrical\");};var handleClickPiping=function handleClickPiping(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/piping\");};var handleClickHome=function handleClickHome(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/home\");};var handleClickSP=function handleClickSP(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/csptracker\");};var handleClickPIT=function handleClickPIT(){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/pitrequests\");};useEffect(function(){var checkIfClickedOutside=function checkIfClickedOutside(e){// If the menu is open and the clicked target is not within the menu,\n// then close the menu\nif(isMenuOpen&&ref.current&&!ref.current.contains(e.target)){setIsMenuOpen(false);}};document.addEventListener(\"mousedown\",checkIfClickedOutside);return function(){// Cleanup the event listener\ndocument.removeEventListener(\"mousedown\",checkIfClickedOutside);};},[isMenuOpen]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var bodyUsername,optionsUsername;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:bodyUsername={email:secureStorage.getItem(\"user\")};optionsUsername={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(bodyUsername)};_context.next=4;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/findByEmail\",optionsUsername).then(function(response){return response.json();}).then(function(json){setUsername(json.name);});case 4:if(process.env.REACT_APP_PROGRESS===\"1\"){if(process.env.REACT_APP_SP===\"1\"){setProgressButtons(/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"3%\",float:\"left\"},children:[/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickHome,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Home \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickPiping,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Piping \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickInstrument,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Instrumentation \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickEquipments,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Equipment \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickCivil,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Civil \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickElectrical,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Electrical \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickIsotracker,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"})})]}));}else{setProgressButtons(/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"3%\",float:\"left\"},children:[/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickHome,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Home \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickPiping,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Piping \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickInstrument,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Instrumentation \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickEquipments,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Equipment \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickCivil,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Civil \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickElectrical,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"Electrical \"})}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickIsotracker,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"})})]}));}}case 5:case\"end\":return _context.stop();}}},_callee);})),[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var options;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context3.next=3;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/notifications/\"+secureStorage.getItem(\"user\"),options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(json){var notif,alert,_loop,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:notif=[];alert=false;if(!json.rows[0]){_context2.next=9;break;}_loop=function _loop(i){if(json.rows[i].read===0){alert=true;notif.push(/*#__PURE__*/_jsxs(\"div\",{className:\"notification__container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notification__text\",style:{fontWeight:\"bold\"},children:json.rows[i].text}),/*#__PURE__*/_jsx(\"button\",{className:\"markAsReadNotification__button\",style:{marginLeft:\"170px\"},onClick:function onClick(){return markAsRead(json.rows[i].id);},children:\"Mark as read\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteNotification__button\",children:/*#__PURE__*/_jsx(\"img\",{src:Trash,alt:\"trash\",className:\"notificationTrash__icon\",onClick:function onClick(){return deleteNotification(json.rows[i].id);}})})]}));}else{notif.push(/*#__PURE__*/_jsxs(\"div\",{className:\"notification__container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notification__text\",children:json.rows[i].text}),/*#__PURE__*/_jsx(\"button\",{className:\"markAsReadNotification__button\",style:{marginLeft:\"157px\"},onClick:function onClick(){return markAsUnread(json.rows[i].id);},children:\"Mark as unread\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteNotification__button\",children:/*#__PURE__*/_jsx(\"img\",{src:Trash,alt:\"trash\",className:\"notificationTrash__icon\",onClick:function onClick(){return deleteNotification(json.rows[i].id);}})})]}));}};for(i=0;i<json.rows.length;i++){_loop(i);}_context2.next=7;return setEmptyNotifications(null);case 7:_context2.next=11;break;case 9:_context2.next=11;return setEmptyNotifications(/*#__PURE__*/_jsx(\"div\",{className:\"emptyNotifications__container\",children:/*#__PURE__*/_jsx(\"p\",{className:\"emptyNotifications__text\",children:\"No new notifications\"})}));case 11:if(!alert){_context2.next=16;break;}_context2.next=14;return setBellImage(/*#__PURE__*/_jsx(\"img\",{src:BellActive,alt:\"bellActive\",className:\"notificationBell__icon\"}));case 14:_context2.next=18;break;case 16:_context2.next=18;return setBellImage(/*#__PURE__*/_jsx(\"img\",{src:Bell,alt:\"bell\",className:\"notificationBell__icon\"}));case 18:_context2.next=20;return setNotifications(notif);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}());case 3:case\"end\":return _context3.stop();}}},_callee3);})),[updateData]);useEffect(function(){var interval=setInterval(function(){var options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/notifications/\"+secureStorage.getItem(\"user\"),options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(json){var notif,alert,_loop2,i;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:notif=[];alert=false;if(!json.rows[0]){_context4.next=9;break;}_loop2=function _loop2(i){if(json.rows[i].read===0){alert=true;notif.push(/*#__PURE__*/_jsxs(\"div\",{className:\"notification__container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notification__text\",style:{fontWeight:\"bold\"},children:json.rows[i].text}),/*#__PURE__*/_jsx(\"button\",{className:\"markAsReadNotification__button\",style:{marginLeft:\"170px\"},onClick:function onClick(){return markAsRead(json.rows[i].id);},children:\"Mark as read\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteNotification__button\",children:/*#__PURE__*/_jsx(\"img\",{src:Trash,alt:\"trash\",className:\"notificationTrash__icon\",onClick:function onClick(){return deleteNotification(json.rows[i].id);}})})]}));}else{notif.push(/*#__PURE__*/_jsxs(\"div\",{className:\"notification__container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notification__text\",children:json.rows[i].text}),/*#__PURE__*/_jsx(\"button\",{className:\"markAsReadNotification__button\",style:{marginLeft:\"157px\"},onClick:function onClick(){return markAsUnread(json.rows[i].id);},children:\"Mark as unread\"}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteNotification__button\",children:/*#__PURE__*/_jsx(\"img\",{src:Trash,alt:\"trash\",className:\"notificationTrash__icon\",onClick:function onClick(){return deleteNotification(json.rows[i].id);}})})]}));}};for(i=0;i<json.rows.length;i++){_loop2(i);}_context4.next=7;return setEmptyNotifications(null);case 7:_context4.next=10;break;case 9:setEmptyNotifications(/*#__PURE__*/_jsx(\"div\",{className:\"emptyNotifications__container\",children:/*#__PURE__*/_jsx(\"p\",{className:\"emptyNotifications__text\",children:\"No new notifications\"})}));case 10:if(alert){setBellImage(/*#__PURE__*/_jsx(\"img\",{src:BellActive,alt:\"bellActive\",className:\"notificationBell__icon\"}));}else{setBellImage(/*#__PURE__*/_jsx(\"img\",{src:Bell,alt:\"bell\",className:\"notificationBell__icon\"}));}_context4.next=13;return setNotifications(notif);case 13:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref4.apply(this,arguments);};}());},10000);return function(){return clearInterval(interval);};},[]);var projectBtn,pitButton,spbutton,pitButtonProgress,rightButtons=null;if(process.env.REACT_APP_PROGRESS===\"1\"){if(process.env.REACT_APP_SP===\"1\"){if(process.env.REACT_APP_PIT===\"1\"){projectBtn=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",disabled:true,style:{marginRight:\"20px\",float:\"right\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"30%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"17%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}else{projectBtn=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",disabled:true,style:{marginRight:\"20px\",float:\"right\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"40%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"26%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}}else{if(process.env.REACT_APP_PIT===\"1\"){projectBtn=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"40%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"27%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}else{projectBtn=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"48%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"34%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}}}else{if(process.env.REACT_APP_SP===\"1\"){if(process.env.REACT_APP_PIT===\"1\"){projectBtn=/*#__PURE__*/_jsx(Button,{classes:{label:classes.label2},class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"76%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"62%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}else{projectBtn=/*#__PURE__*/_jsx(Button,{classes:{label:classes.label2},class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"82%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"68%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}}else{if(process.env.REACT_APP_PIT===\"1\"){projectBtn=/*#__PURE__*/_jsx(Button,{classes:{label:classes.label2},class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"82%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"68%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}else{projectBtn=/*#__PURE__*/_jsx(Button,{classes:{label:classes.label2},class:\"btn nohover\",disabled:true,style:{float:\"right\",marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text__projectname\",children:process.env.REACT_APP_APP_NAMEPROJ})});rightButtons=/*#__PURE__*/_jsxs(\"div\",{style:{width:\"90%\"},children:[/*#__PURE__*/_jsx(\"button\",{style:{float:\"right\",marginLeft:\"20px\",marginTop:\"4px\",border:\"none\",background:\"none\"},onClick:function onClick(){return setIsMenuOpen(!isMenuOpen);},children:bellImage}),/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",style:{float:\"right\",marginTop:\"4px\"},classes:{label:classes.label},onClick:handleClickUser,children:/*#__PURE__*/_jsxs(\"i\",{className:\"dropdown__text\",children:[username,\"\\xA0\\uD83E\\uDC17\"]})}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"notifications__container\",style:{marginLeft:\"75%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationPanel__header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"notificationHeader__text\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"markAllAsRead__button\",onClick:function onClick(){return markAllAsRead();},children:\"Mark all as read\"})]}),notifications,emptyNotifications]}),projectBtn]});}}}var isotrackerBtnNoProgress=null;if(process.env.REACT_APP_SP===\"1\"){if(process.env.REACT_APP_PROGRESS===\"1\"){spbutton=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickSP,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"SPTracker\"})});}else{spbutton=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickSP,style:{marginLeft:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"SPTracker\"})});isotrackerBtnNoProgress=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickIsotracker,style:{marginLeft:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"})});}}if(process.env.REACT_APP_PIT===\"1\"){if(process.env.REACT_APP_PROGRESS===\"1\"){pitButtonProgress=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickPIT,style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"PITRequests\"})});}else{pitButton=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickPIT,style:{marginLeft:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"PITRequests\"})});isotrackerBtnNoProgress=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickIsotracker,style:{marginLeft:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"})});}}if(process.env.REACT_APP_PROGRESS===\"0\"&&process.env.REACT_APP_SP===\"0\"&&process.env.REACT_APP_PIT===\"0\"){isotrackerBtnNoProgress=/*#__PURE__*/_jsx(Button,{class:\"btn nohover\",onClick:handleClickIsotracker,style:{marginLeft:\"50px\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"})});}function markAllAsRead(){var body={email:secureStorage.getItem(\"user\")};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markAllNotificationsAsRead\",options).then(function(response){return response.json();}).then(function(json){if(json.success){setUpdateData(!updateData);}});}function markAsRead(id){var body={id:id};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markNotificationAsRead\",options).then(function(response){return response.json();}).then(function(json){if(json.success){setUpdateData(!updateData);}});}function markAsUnread(id){var body={id:id};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markNotificationAsUnread\",options).then(function(response){return response.json();}).then(function(json){if(json.success){setUpdateData(!updateData);}});}function deleteNotification(id){var body={id:id};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/deleteNotification\",options).then(function(response){return response.json();}).then(function(json){if(json.success){setUpdateData(!updateData);}});}return/*#__PURE__*/_jsx(\"div\",{ref:ref,children:/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",className:\"navBar__container\",style:{height:\"62px\",borderBottomColor:\"rgb(211, 224, 233)\",borderLeftColor:\"rgb(211, 224, 233)\",bordeRightColor:\"rgb(211, 224, 233)\",borderTopColor:\"rgb(211, 224, 233)\",backgroundColor:\"#383838\"},children:/*#__PURE__*/_jsxs(Toolbar,{children:[progressButtons,isotrackerBtnNoProgress,pitButtonProgress,pitButton,spbutton,/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu\",anchorEl:anchorElUser,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"},open:Boolean(anchorElUser),onClose:handleCloseUser,PaperProps:{style:{left:'50%',transform:'translateX(+200%)'}},children:[/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:handleChangePassword,children:\"Change password\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:handleLogOut,children:/*#__PURE__*/_jsx(\"b\",{children:\"Logout\"})})]}),rightButtons]})})})})});};export default NavBar;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/navBar/navBar.js"],"names":["React","useEffect","useRef","useState","makeStyles","AppBar","Toolbar","Button","Menu","MenuItem","useHistory","Trash","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","label","label2","NavBar","props","classes","anchorElUser","setAnchorElUser","history","username","setUsername","progressButtons","setProgressButtons","isMenuOpen","setIsMenuOpen","ref","notifications","setNotifications","updateData","setUpdateData","bellImage","setBellImage","emptyNotifications","setEmptyNotifications","handleClickUser","event","currentTarget","handleCloseUser","handleClickIsotracker","push","process","env","REACT_APP_PROJECT","handleLogOut","clear","handleChangePassword","handleClickEquipments","handleClickInstrument","handleClickCivil","handleClickElectrical","handleClickPiping","handleClickHome","handleClickSP","handleClickPIT","checkIfClickedOutside","e","current","contains","target","document","addEventListener","removeEventListener","bodyUsername","email","getItem","optionsUsername","method","headers","body","JSON","stringify","fetch","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","name","REACT_APP_PROGRESS","REACT_APP_SP","marginLeft","float","options","notif","alert","rows","i","read","fontWeight","text","markAsRead","id","deleteNotification","markAsUnread","length","BellActive","Bell","interval","setInterval","clearInterval","projectBtn","pitButton","spbutton","pitButtonProgress","rightButtons","REACT_APP_PIT","REACT_APP_APP_NAMEPROJ","width","marginTop","border","background","markAllAsRead","isotrackerBtnNoProgress","success","height","borderBottomColor","borderLeftColor","bordeRightColor","borderTopColor","backgroundColor","vertical","horizontal","Boolean","style","left","transform","fontFamily","fontSize"],"mappings":"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","sourcesContent":["//Cabecera de IsoTracker con diferentes desplegables y botones\r\n\r\nimport React, { useEffect ,useRef, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport './navBar.css';\r\nimport {useHistory} from \"react-router\";\r\nimport Trash from \"../../assets/images/Trash.png\"\r\nimport Bell from \"../../assets/images/bell.svg\"\r\nimport BellActive from \"../../assets/images/bell_active.svg\"\r\n\r\nconst CryptoJS = require(\"crypto-js\");\r\nconst SecureStorage = require(\"secure-web-storage\");\r\nvar SECRET_KEY = 'sanud2ha8shd72h';\r\n\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n\r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n\r\n        data = data.toString();\r\n\r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n\r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n\r\n        return data;\r\n    }\r\n});\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    label: {\r\n      },\r\n      label2: {\r\n      },\r\n  }));\r\n\r\n\r\nconst NavBar = (props) =>{\r\n    const classes = useStyles();\r\n    const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n    const history = useHistory();\r\n    const [username, setUsername] = React.useState(\"\");\r\n    const [progressButtons, setProgressButtons] = React.useState(null);\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n    const ref = useRef()\r\n    const [notifications, setNotifications] = useState(false)\r\n    const [updateData, setUpdateData] = useState(false)\r\n    const [bellImage, setBellImage] = useState()\r\n    const [emptyNotifications, setEmptyNotifications] = useState()\r\n\r\n    const handleClickUser = (event) => {\r\n        setAnchorElUser(event.currentTarget);\r\n    };\r\n    \r\n    const handleCloseUser = () => {\r\n        setAnchorElUser(null);\r\n    };\r\n\r\n    const handleClickIsotracker = () => {\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/isotracker\");\r\n    };\r\n\r\n    const handleLogOut = () => {\r\n        localStorage.clear();\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/\");\r\n    };\r\n\r\n    const handleChangePassword = () =>{\r\n        setAnchorElUser(null);\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/changepassword\");\r\n    }\r\n\r\n    const handleClickEquipments = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/equipments\");\r\n    }\r\n\r\n    const handleClickInstrument = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/instrumentation\");\r\n    }\r\n    const handleClickCivil = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/civil\");\r\n    }\r\n    const handleClickElectrical = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/electrical\");\r\n    }\r\n    const handleClickPiping = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/piping\");\r\n    }\r\n    const handleClickHome = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/home\");\r\n    }\r\n    const handleClickSP = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/csptracker\");\r\n    }\r\n    const handleClickPIT = () =>{\r\n        history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/pitrequests\");\r\n    }\r\n     \r\n\r\n    useEffect(() => {\r\n        const checkIfClickedOutside = e => {\r\n          // If the menu is open and the clicked target is not within the menu,\r\n          // then close the menu\r\n          if (isMenuOpen && ref.current && !ref.current.contains(e.target)) {\r\n              \r\n            setIsMenuOpen(false)\r\n          }\r\n        }\r\n\r\n    \r\n        document.addEventListener(\"mousedown\", checkIfClickedOutside)\r\n    \r\n        return () => {\r\n          // Cleanup the event listener\r\n          document.removeEventListener(\"mousedown\", checkIfClickedOutside)\r\n        }\r\n      }, [isMenuOpen])\r\n\r\n    useEffect(async() =>{\r\n        const bodyUsername = {\r\n            email: secureStorage.getItem(\"user\")\r\n          }\r\n        const optionsUsername = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(bodyUsername)\r\n        }\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/findByEmail\", optionsUsername)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            setUsername(json.name);\r\n        })\r\n\r\n        if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n            if(process.env.REACT_APP_SP === \"1\"){\r\n                setProgressButtons(<div style={{ marginLeft: \"3%\", float:\"left\"}}>\r\n                    <Button class=\"btn nohover\" onClick={handleClickHome} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Home </i>\r\n                    </Button><Button class=\"btn nohover\" onClick={handleClickPiping} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Piping </i>\r\n                    </Button><Button class=\"btn nohover\" onClick={handleClickInstrument} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Instrumentation </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickEquipments} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Equipment </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickCivil} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Civil </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickElectrical} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Electrical </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickIsotracker} style={{marginRight:\"50px\"}}>\r\n                                    <i className=\"dropdown__text\" >IsoTracker </i>\r\n                    </Button></div>)\r\n            }else{\r\n                setProgressButtons(<div style={{ marginLeft: \"3%\", float:\"left\" }}>\r\n                    <Button class=\"btn nohover\" onClick={handleClickHome} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Home </i>\r\n                    </Button><Button class=\"btn nohover\" onClick={handleClickPiping} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Piping </i>\r\n                    </Button><Button class=\"btn nohover\" onClick={handleClickInstrument} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Instrumentation </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickEquipments} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Equipment </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickCivil} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Civil </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickElectrical} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\">Electrical </i>\r\n                    </Button>\r\n                    <Button class=\"btn nohover\" onClick={handleClickIsotracker} style={{marginRight:\"50px\"}}>\r\n                        <i className=\"dropdown__text\" >IsoTracker </i>\r\n                    </Button></div>)\r\n            }\r\n\r\n        }\r\n      \r\n    },[])\r\n\r\n    useEffect (async ()=>{\r\n\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/notifications/\"+ secureStorage.getItem(\"user\"), options)\r\n        .then(response => response.json())\r\n        .then(async json => {\r\n            let notif = []\r\n            let alert = false\r\n            if(json.rows[0]){\r\n                for(let i = 0; i < json.rows.length; i++){           \r\n                    if(json.rows[i].read === 0){\r\n                        alert = true\r\n                        notif.push(<div className=\"notification__container\" >\r\n                                    <p className=\"notification__text\" style={{fontWeight:\"bold\"}}>{json.rows[i].text}</p>\r\n                                    <button className=\"markAsReadNotification__button\" style={{marginLeft:\"170px\"}} onClick={()=> markAsRead(json.rows[i].id)}>Mark as read</button>\r\n                                    <button className=\"deleteNotification__button\"><img src={Trash} alt=\"trash\" className=\"notificationTrash__icon\" onClick={()=> deleteNotification(json.rows[i].id)}></img></button>\r\n                                </div>)\r\n                    }else{\r\n                        notif.push(<div className=\"notification__container\" >\r\n                                    <p className=\"notification__text\">{json.rows[i].text}</p>\r\n                                    <button className=\"markAsReadNotification__button\" style={{marginLeft:\"157px\"}} onClick={()=> markAsUnread(json.rows[i].id)}>Mark as unread</button>\r\n                                    <button className=\"deleteNotification__button\"><img src={Trash} alt=\"trash\" className=\"notificationTrash__icon\" onClick={()=> deleteNotification(json.rows[i].id)}></img></button>\r\n                                </div>)\r\n                    }\r\n                    \r\n                }\r\n                await setEmptyNotifications(null)\r\n            }else{\r\n                await setEmptyNotifications(<div className=\"emptyNotifications__container\">\r\n                    <p className=\"emptyNotifications__text\">No new notifications</p>\r\n                </div>)\r\n            }\r\n\r\n            if(alert){\r\n                await setBellImage(<img src={BellActive} alt=\"bellActive\" className=\"notificationBell__icon\"></img>)\r\n            }else{\r\n                await setBellImage(<img src={Bell} alt=\"bell\" className=\"notificationBell__icon\"></img>)\r\n            }\r\n            await setNotifications(notif)\r\n        })\r\n    },[updateData])\r\n\r\n    \r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            const options = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n            }\r\n    \r\n            fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/notifications/\"+ secureStorage.getItem(\"user\"), options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                let notif = []\r\n                let alert = false\r\n                if(json.rows[0]){\r\n                    for(let i = 0; i < json.rows.length; i++){           \r\n                        if(json.rows[i].read === 0){\r\n                            alert = true\r\n                            notif.push(<div className=\"notification__container\" >\r\n                                        <p className=\"notification__text\" style={{fontWeight:\"bold\"}}>{json.rows[i].text}</p>\r\n                                        <button className=\"markAsReadNotification__button\" style={{marginLeft:\"170px\"}} onClick={()=> markAsRead(json.rows[i].id)}>Mark as read</button>\r\n                                        <button className=\"deleteNotification__button\"><img src={Trash} alt=\"trash\" className=\"notificationTrash__icon\" onClick={()=> deleteNotification(json.rows[i].id)}></img></button>\r\n                                    </div>)\r\n                        }else{\r\n                            notif.push(<div className=\"notification__container\" >\r\n                                        <p className=\"notification__text\">{json.rows[i].text}</p>\r\n                                        <button className=\"markAsReadNotification__button\" style={{marginLeft:\"157px\"}} onClick={()=> markAsUnread(json.rows[i].id)}>Mark as unread</button>\r\n                                        <button className=\"deleteNotification__button\"><img src={Trash} alt=\"trash\" className=\"notificationTrash__icon\" onClick={()=> deleteNotification(json.rows[i].id)}></img></button>\r\n                                    </div>)\r\n                        }\r\n                        \r\n                    }\r\n                    await setEmptyNotifications(null)\r\n                }else{\r\n                    setEmptyNotifications(<div className=\"emptyNotifications__container\">\r\n                        <p className=\"emptyNotifications__text\">No new notifications</p>\r\n                    </div>)\r\n                }\r\n    \r\n                if(alert){\r\n                    setBellImage(<img src={BellActive} alt=\"bellActive\" className=\"notificationBell__icon\"></img>)\r\n                }else{\r\n                    setBellImage(<img src={Bell} alt=\"bell\" className=\"notificationBell__icon\"></img>)\r\n                }\r\n                await setNotifications(notif)\r\n            })\r\n        }, 10000);\r\n        return () => clearInterval(interval);\r\n      }, []);\r\n      \r\n\r\n    let projectBtn, pitButton, spbutton, pitButtonProgress, rightButtons = null\r\n    if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n        if(process.env.REACT_APP_SP === \"1\"){\r\n            if(process.env.REACT_APP_PIT === \"1\"){\r\n            projectBtn = <Button class=\"btn nohover\" disabled style={{marginRight:\"20px\", float:\"right\"}}>\r\n            <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n        </Button>\r\n            rightButtons = <div style={{width:\"30%\"}}>\r\n                    \r\n                            \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"17%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }else{\r\n                projectBtn = <Button class=\"btn nohover\" disabled style={{marginRight:\"20px\", float:\"right\"}}>\r\n            <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n        </Button>\r\n            rightButtons = <div style={{width:\"40%\"}}>\r\n                    \r\n                            \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"26%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }\r\n        }else{\r\n            if(process.env.REACT_APP_PIT === \"1\"){\r\n                projectBtn = <Button class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n                <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n            </Button>\r\n                rightButtons= <div style={{width:\"40%\"}}>\r\n                        \r\n                            \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"27%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }else{\r\n                projectBtn = <Button class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n                <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n            </Button>\r\n                rightButtons= <div style={{width:\"48%\"}}>\r\n                        \r\n                            \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"34%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }\r\n        }\r\n        \r\n        \r\n    }else{\r\n        if(process.env.REACT_APP_SP === \"1\"){\r\n            if(process.env.REACT_APP_PIT === \"1\"){\r\n            projectBtn = <Button classes={{label: classes.label2}} class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n            <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n        </Button>\r\n        rightButtons= <div style={{width:\"76%\"}}>\r\n                    \r\n                        \r\n            <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n            <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n            <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n            </Button>\r\n            \r\n\r\n            {isMenuOpen && (\r\n                <div className=\"notifications__container\" style={{marginLeft: \"62%\"}}>\r\n                    <div className=\"notificationPanel__header\">\r\n                        <p className=\"notificationHeader__text\">Notifications</p>\r\n                        <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                    </div>\r\n                    {notifications}\r\n                    {emptyNotifications}\r\n                </div>\r\n            )}\r\n            \r\n            {projectBtn}\r\n        </div>\r\n            }else{\r\n                projectBtn = <Button classes={{label: classes.label2}} class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n                <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n            </Button>\r\n            rightButtons= <div style={{width:\"82%\"}}>\r\n                        \r\n                            \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n    \r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"68%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n                </div>\r\n            }\r\n        \r\n        }else{\r\n            if(process.env.REACT_APP_PIT === \"1\"){\r\n                projectBtn = <Button classes={{label: classes.label2}} class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n                <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n                </Button>\r\n                \r\n                \r\n                rightButtons= <div style={{width:\"82%\"}}>\r\n                            \r\n                                \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"68%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }else{\r\n                projectBtn = <Button classes={{label: classes.label2}} class=\"btn nohover\" disabled style={{float:\"right\", marginRight:\"20px\"}}>\r\n                <i className=\"dropdown__text__projectname\" >{process.env.REACT_APP_APP_NAMEPROJ}</i>\r\n                </Button>\r\n                \r\n                \r\n                rightButtons= <div style={{width:\"90%\"}}>\r\n                            \r\n                                \r\n                <button style={{float:\"right\", marginLeft:\"20px\", marginTop:\"4px\", border:\"none\", background:\"none\"}} onClick={()=>setIsMenuOpen(!isMenuOpen)}>{bellImage}</button>\r\n                <Button class=\"btn nohover\" style={{float: \"right\", marginTop:\"4px\"}} classes={{label: classes.label}} onClick={handleClickUser}>\r\n                <i className=\"dropdown__text\">{username}&nbsp;🠗</i>\r\n                </Button>\r\n                \r\n\r\n                {isMenuOpen && (\r\n                    <div className=\"notifications__container\" style={{marginLeft: \"75%\"}}>\r\n                        <div className=\"notificationPanel__header\">\r\n                            <p className=\"notificationHeader__text\">Notifications</p>\r\n                            <button className=\"markAllAsRead__button\" onClick={()=> markAllAsRead()}>Mark all as read</button>            \r\n                        </div>\r\n                        {notifications}\r\n                        {emptyNotifications}\r\n                    </div>\r\n                )}\r\n                \r\n                {projectBtn}\r\n            </div>\r\n            }\r\n        }\r\n\r\n    }\r\n    let isotrackerBtnNoProgress = null\r\n    if(process.env.REACT_APP_SP === \"1\"){\r\n        if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n            spbutton = <Button class=\"btn nohover\" onClick={handleClickSP} style={{marginRight:\"50px\"}}>\r\n            <i className=\"dropdown__text\" >SPTracker</i>\r\n            </Button>\r\n        }else{\r\n            spbutton = <Button class=\"btn nohover\" onClick={handleClickSP} style={{marginLeft:\"50px\"}}>\r\n            <i className=\"dropdown__text\" >SPTracker</i>\r\n            </Button>\r\n            isotrackerBtnNoProgress = <Button class=\"btn nohover\" onClick={handleClickIsotracker} style={{marginLeft:\"50px\"}}>\r\n                        <i className=\"dropdown__text\" >IsoTracker </i>\r\n            </Button>\r\n        }    \r\n    }\r\n\r\n    if(process.env.REACT_APP_PIT === \"1\"){\r\n        if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n            pitButtonProgress = <Button class=\"btn nohover\" onClick={handleClickPIT} style={{marginRight:\"50px\"}}>\r\n            <i className=\"dropdown__text\" >PITRequests</i>\r\n            </Button>\r\n        }else{\r\n            pitButton = <Button class=\"btn nohover\" onClick={handleClickPIT} style={{marginLeft:\"50px\"}}>\r\n            <i className=\"dropdown__text\" >PITRequests</i>\r\n            </Button>\r\n            isotrackerBtnNoProgress = <Button class=\"btn nohover\" onClick={handleClickIsotracker} style={{marginLeft:\"50px\"}}>\r\n                        <i className=\"dropdown__text\" >IsoTracker </i>\r\n            </Button>\r\n        }    \r\n    }    \r\n\r\n    if(process.env.REACT_APP_PROGRESS === \"0\" && process.env.REACT_APP_SP === \"0\" && process.env.REACT_APP_PIT === \"0\"){\r\n        isotrackerBtnNoProgress = <Button class=\"btn nohover\" onClick={handleClickIsotracker} style={{marginLeft:\"50px\"}}>\r\n        <i className=\"dropdown__text\" >IsoTracker </i>\r\n        </Button>\r\n    }\r\n\r\n    function markAllAsRead(){\r\n        const body = {\r\n            email: secureStorage.getItem(\"user\")\r\n          }\r\n          const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n          }\r\n          fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markAllNotificationsAsRead\", options)\r\n          .then(response => response.json())\r\n          .then(json =>{\r\n              if(json.success){\r\n                setUpdateData(!updateData)\r\n              }\r\n          })\r\n   \r\n    }\r\n\r\n    function markAsRead(id){\r\n        const body = {\r\n            id: id\r\n          }\r\n          const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n          }\r\n          fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markNotificationAsRead\", options)\r\n          .then(response => response.json())\r\n          .then(json =>{\r\n              if(json.success){\r\n                setUpdateData(!updateData)\r\n              }\r\n          })\r\n   \r\n    }\r\n\r\n    function markAsUnread(id){\r\n        const body = {\r\n            id: id\r\n          }\r\n          const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n          }\r\n          fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/markNotificationAsUnread\", options)\r\n          .then(response => response.json())\r\n          .then(json =>{\r\n              if(json.success){\r\n                setUpdateData(!updateData)\r\n              }\r\n          })\r\n   \r\n    }\r\n\r\n    function deleteNotification(id){\r\n        const body = {\r\n            id: id\r\n          }\r\n          const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n          }\r\n          fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/deleteNotification\", options)\r\n          .then(response => response.json())\r\n          .then(json =>{\r\n              if(json.success){\r\n                setUpdateData(!updateData)\r\n              }\r\n          })\r\n    }\r\n\r\n\r\n    \r\n    return(\r\n        <div ref={ref}>\r\n        <div className={classes.root}>\r\n            <div>\r\n            <AppBar position=\"fixed\" className=\"navBar__container\" style={{height:\"62px\", borderBottomColor: \"rgb(211, 224, 233)\", borderLeftColor: \"rgb(211, 224, 233)\", bordeRightColor: \"rgb(211, 224, 233)\", borderTopColor: \"rgb(211, 224, 233)\", backgroundColor: \"#383838\"}}>\r\n            \r\n                <Toolbar>\r\n                    \r\n                    {progressButtons}   \r\n                    {isotrackerBtnNoProgress}        \r\n                    {pitButtonProgress}\r\n                    {pitButton}\r\n                    \r\n                    {spbutton}\r\n\r\n                    <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={anchorElUser}\r\n                        getContentAnchorEl={null}\r\n                        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n                        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                        open={Boolean(anchorElUser)}\r\n                        onClose={handleCloseUser}\r\n                        PaperProps={{\r\n                            style: {\r\n                            left: '50%',\r\n                            transform: 'translateX(+200%)',\r\n                            }\r\n                        }}\r\n                    >\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={handleChangePassword}>Change password</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={handleLogOut}><b>Logout</b></MenuItem>\r\n                    </Menu>\r\n                    {rightButtons}\r\n                </Toolbar>\r\n\r\n            </AppBar>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}