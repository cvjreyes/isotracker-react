{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import NavisTable from'../../components/navisTable/navisTable';import\"./navis.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navis=function Navis(){var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentRole=_useState2[0],setCurrentRole=_useState2[1];useEffect(function(){var body={user:currentUser};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\",options).then(function(response){return response.json();}).then(function(json){if(secureStorage.getItem('role')!==null){setCurrentRole(secureStorage.getItem('role'));}else{secureStorage.setItem('role',json.roles[0]);setCurrentRole(secureStorage.getItem('role'));}}).catch(function(error){console.log(error);});},[currentRole]);var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});document.body.style.zoom=0.8;document.title=process.env.REACT_APP_APP_NAMEPROJ;var _useState3=useState(secureStorage.getItem(\"civ_tab\")),_useState4=_slicedToArray(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];if(currentTab===\"\"||currentTab===null){setCurrentTab(\"Estimated\");}var currentUser=secureStorage.getItem('user');var table=null;table=/*#__PURE__*/_jsx(NavisTable,{});return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"navis__container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),table]})})});};export default Navis;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/pages/navis/navis.js"],"names":["React","useState","useEffect","NavisTable","Navis","CryptoJS","require","SecureStorage","SECRET_KEY","currentRole","setCurrentRole","body","user","currentUser","options","method","headers","JSON","stringify","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","secureStorage","getItem","setItem","roles","catch","error","console","log","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","document","style","zoom","title","REACT_APP_APP_NAMEPROJ","currentTab","setCurrentTab","table"],"mappings":"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","sourcesContent":["import React, { useState , useEffect} from 'react'\r\nimport NavisTable from '../../components/navisTable/navisTable';\r\nimport \"./navis.css\"\r\n\r\nconst Navis = () => {\r\n\r\n    const CryptoJS = require(\"crypto-js\");\r\n    const SecureStorage = require(\"secure-web-storage\");\r\n    var SECRET_KEY = 'sanud2ha8shd72h';\r\n    const [currentRole, setCurrentRole] = useState();\r\n    \r\n\r\n    useEffect(()=>{\r\n        const body = {\r\n            user: currentUser,\r\n        }\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n       \r\n\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\", options)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                if(secureStorage.getItem('role') !== null){\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }else{\r\n                    secureStorage.setItem('role', json.roles[0])\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }\r\n                }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })       \r\n            \r\n    },[currentRole]);\r\n\r\n\r\n    \r\n    var secureStorage = new SecureStorage(localStorage, {\r\n        hash: function hash(key) {\r\n            key = CryptoJS.SHA256(key, SECRET_KEY);\r\n    \r\n            return key.toString();\r\n        },\r\n        encrypt: function encrypt(data) {\r\n            data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString();\r\n    \r\n            return data;\r\n        },\r\n        decrypt: function decrypt(data) {\r\n            data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString(CryptoJS.enc.Utf8);\r\n    \r\n            return data;\r\n        }\r\n    });\r\n\r\n\r\n\r\n    document.body.style.zoom = 0.8\r\n    document.title= process.env.REACT_APP_APP_NAMEPROJ\r\n    const [currentTab, setCurrentTab] = useState(secureStorage.getItem(\"civ_tab\"))\r\n    if(currentTab === \"\" || currentTab === null){\r\n        setCurrentTab(\"Estimated\")\r\n    }\r\n\r\n    var currentUser = secureStorage.getItem('user')\r\n    var table = null\r\n\r\n\r\n    table = <NavisTable/>\r\n\r\n    \r\n\r\n    return(\r\n        \r\n        <body>\r\n            <div className=\"navis__container\">  \r\n                <div>\r\n                    <br></br>\r\n                    <br></br> \r\n\r\n                    <br></br> \r\n                    {table}\r\n                </div>         \r\n            </div>\r\n         </body>\r\n    )\r\n}\r\n\r\nexport default Navis;"]},"metadata":{},"sourceType":"module"}