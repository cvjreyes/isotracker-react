{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'antd/dist/antd.css';import{Table}from'antd';import Highlighter from'react-highlight-words';import'./usersDataTable.css';import{Link}from'react-router-dom';import ManageRolesPopUp from'../manageRolesPopUp/manageRolesPopUp';import DeleteUserConfPopUp from'../deleteUserConfPopUp/deleteUserConfPopUp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UsersDataTable=/*#__PURE__*/function(_React$Component){_inherits(UsersDataTable,_React$Component);var _super=_createSuper(UsersDataTable);function UsersDataTable(){var _this;_classCallCheck(this,UsersDataTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchText:'',searchedColumn:'',data:[],displayData:[],filterData:[\"\",\"\",\"\",\"\",\"\",\"\",\"\"],weights:[],role:_this.props.role,selectedRows:[],selectedRowsKeys:[],dataAux:[],update:_this.props.updateData,users:[],mounted:false,filters:[]};_this.getColumnSearchProps=function(dataIndex){return{render:function render(text){return text!=null?text.props&&text.type!==\"div\"?/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return _this.getMaster(text.props.children);},children:text.props.children}):_this.state.searchedColumn===dataIndex?/*#__PURE__*/_jsx(Highlighter,{highlightStyle:{backgroundColor:'#ffc069',padding:0},searchWords:[_this.state.searchText],autoEscape:true,textToHighlight:text?text:''}):text:text;}};};_this.handleReset=function(clearFilters){clearFilters();_this.setState({searchText:''});};_this.onSelectChange=function(selectedRowKeys,selectedRows){var ids=[];for(var i=0;i<selectedRows.length;i++){ids.push(selectedRows[i].id.props.children);}_this.setState({selectedRowsKeys:selectedRowKeys,selectedRows:selectedRows});_this.props.onChange(ids);};return _this;}_createClass(UsersDataTable,[{key:\"deleteUser\",value:function deleteUser(id){this.props.deleteUser(id);}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this2=this;var options,rolesBtnsDict,filterRow;return _regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};rolesBtnsDict={\"Design\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#00FF7F\"},children:\"DES\"}),\"DesignLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"lightgreen\"},children:\"LDE\"}),\"Stress\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#00BFFF\"},children:\"STR\"}),\"StressLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#87CEEB\"},children:\"LST\"}),\"Supports\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#1E90FF\"},children:\"SUP\"}),\"SupportsLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#6495ED\"},children:\"LSP\"}),\"Materials\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#6A5ACD\"},children:\"MAT\"}),\"Issuer\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FFC0CB\"},children:\"ISS\"}),\"SpecialityLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"\t#FFA500\"},children:\"LOS\"}),\"Process\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FF4500\"},children:\"PRO\"}),\"Instrument\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FFD700\"},children:\"INS\"}),\"Review\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"white\"},children:\"REV\"}),\"Project\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",color:\"white\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#F033FF\"},children:\"PRJ\"}),\"3D Admin\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{width:\"32px\",color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#CD853F\"},children:\"3D\"})};_context4.next=4;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/users\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(json){var _loop,i;return _regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_loop=/*#__PURE__*/_regeneratorRuntime.mark(function _loop(i){var row,users,body,options;return _regeneratorRuntime.wrap(function _loop$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:row={user_id:json[i].id,username:json[i].name,email:json[i].email,roles:null,actions:null};users=_this2.state.users;users.push(json[i].email);_this2.setState({users:users});body={user:json[i].email,id:json[i].id};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context2.next=8;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(json){var roles,j,currentData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:row[\"actions\"]=/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(DeleteUserConfPopUp,{deleteUser:_this2.deleteUser.bind(_this2),id:row.user_id,username:row.username}),/*#__PURE__*/_jsx(ManageRolesPopUp,{roles:json.roles,id:row.user_id,email:json.email,submitRoles:_this2.submitRoles.bind(_this2)})]});roles=[rolesBtnsDict[json.roles[0]]];for(j=1;j<json.roles.length;j++){roles.push(rolesBtnsDict[json.roles[j]]);}row[\"roles\"]=/*#__PURE__*/_jsxs(\"div\",{children:[\" \",roles,\" \"]});if(i%2===0){row[\"color\"]=\"#fff\";}else{row[\"color\"]=\"#eee\";}currentData=_this2.state.dataAux;currentData.push(row);_context.next=9;return _this2.setState({dataAux:currentData});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 8:case\"end\":return _context2.stop();}}},_loop);});i=0;case 2:if(!(i<json.length)){_context3.next=7;break;}return _context3.delegateYield(_loop(i),\"t0\",4);case 4:i++;_context3.next=2;break;case 7:case\"end\":return _context3.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());case 4:filterRow=[{key:0,username:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"filter__input\",placeholder:\"Username\",onChange:function onChange(e){return _this2.filter(0,e.target.value);}})}),email:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"filter__input\",placeholder:\"Email\",onChange:function onChange(e){return _this2.filter(1,e.target.value);}})}),roles:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"filter__input\",placeholder:\"Roles\",onChange:function onChange(e){return _this2.filter(2,e.target.value);}})})}];this.setState({data:this.state.dataAux,selectedRows:[],displayData:this.state.dataAux});_context4.next=8;return this.setState({filters:filterRow});case 8:_context4.next=10;return this.setState({mounted:true});case 10:case\"end\":return _context4.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(prevProps,prevState){var _this3=this;var options,rolesBtnsDict,auxDisplayData,resultData,fil,exists,i,column,filter_roles,r1,exist_role,r2;return _regeneratorRuntime.wrap(function _callee6$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!(prevProps.updateData===false&&this.props.updateData===true||prevProps.updateData===true&&this.props.updateData===false&&this.state.mounted===true)){_context8.next=15;break;}options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};rolesBtnsDict={\"Design\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#00FF7F\"},children:\"DES\"}),\"DesignLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"lightgreen\"},children:\"LDE\"}),\"Stress\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#00BFFF\"},children:\"STR\"}),\"StressLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#87CEEB\"},children:\"LST\"}),\"Supports\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#1E90FF\"},children:\"SUP\"}),\"SupportsLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#6495ED\"},children:\"LSP\"}),\"Materials\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#6A5ACD\"},children:\"MAT\"}),\"Issuer\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FFC0CB\"},children:\"ISS\"}),\"SpecialityLead\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"\t#FFA500\"},children:\"LOS\"}),\"Process\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FF4500\"},children:\"PRO\"}),\"Instrument\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#FFD700\"},children:\"INS\"}),\"Review\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"white\"},children:\"REV\"}),\"Project\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{fontSize:\"12px\",color:\"white\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#F033FF\"},children:\"PRJ\"}),\"3D Admin\":/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,style:{width:\"32px\",color:\"white\",fontSize:\"12px\",padding:\"2px 5px 2px 5px\",marginRight:\"5px\",backgroundColor:\"#CD853F\"},children:\"3D\"})};_context8.next=5;return this.setState({dataAux:[]});case 5:_context8.next=7;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/users\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(json){var _loop2,i;return _regeneratorRuntime.wrap(function _callee5$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_loop2=/*#__PURE__*/_regeneratorRuntime.mark(function _loop2(i){var row,body,options;return _regeneratorRuntime.wrap(function _loop2$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:row={user_id:json[i].id,username:json[i].name,email:json[i].email,roles:null,actions:null};body={user:json[i].email,id:json[i].id};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context6.next=5;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(json){var roles,j,currentData;return _regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:row[\"actions\"]=/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(DeleteUserConfPopUp,{deleteUser:_this3.deleteUser.bind(_this3),id:row.user_id,username:row.username}),/*#__PURE__*/_jsx(ManageRolesPopUp,{roles:json.roles,id:row.user_id,email:json.email,submitRoles:_this3.submitRoles.bind(_this3)})]});roles=[rolesBtnsDict[json.roles[0]]];for(j=1;j<json.roles.length;j++){roles.push(rolesBtnsDict[json.roles[j]]);}row[\"roles\"]=/*#__PURE__*/_jsxs(\"div\",{children:[\" \",roles,\" \"]});if(i%2===0){row[\"color\"]=\"#fff\";}else{row[\"color\"]=\"#eee\";}currentData=_this3.state.dataAux;_context5.next=8;return currentData.push(row);case 8:_context5.next=10;return _this3.setState({dataAux:currentData});case 10:case\"end\":return _context5.stop();}}},_callee4);}));return function(_x6){return _ref4.apply(this,arguments);};}());case 5:case\"end\":return _context6.stop();}}},_loop2);});i=0;case 2:if(!(i<json.length)){_context7.next=7;break;}return _context7.delegateYield(_loop2(i),\"t0\",4);case 4:i++;_context7.next=2;break;case 7:case\"end\":return _context7.stop();}}},_callee5);}));return function(_x5){return _ref3.apply(this,arguments);};}());case 7:_context8.next=9;return this.setState({data:this.state.dataAux});case 9:auxDisplayData=this.state.data;resultData=[];exists=null;for(i=0;i<auxDisplayData.length;i++){exists=true;for(column=0;column<Object.keys(auxDisplayData[i]).length-2;column++){fil=Object.keys(auxDisplayData[i])[column+1];if(fil===\"roles\"){if(this.state.filterData[column]!==\"\"&&this.state.filterData[column]){filter_roles=this.state.filterData[column].split(\" \");for(r1=0;r1<filter_roles.length;r1++){exist_role=false;for(r2=0;r2<auxDisplayData[i][fil].props.children[1].length;r2++){if(auxDisplayData[i][fil].props.children[1][r2].props.children.includes(filter_roles[r1])){exist_role=true;}}if(!exist_role){exists=false;}}}}else{if(auxDisplayData[i][fil]){if(this.state.filterData[column]!==\"\"&&this.state.filterData[column]&&!auxDisplayData[i][fil].includes(this.state.filterData[column])){exists=false;}}else{exists=false;}}}if(exists){resultData.push(auxDisplayData[i]);}}_context8.next=15;return this.setState({displayData:resultData});case 15:case\"end\":return _context8.stop();}}},_callee6,this);}));function componentDidUpdate(_x3,_x4){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"filter\",value:function(){var _filter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(column,value){var fd,auxDisplayData,resultData,fil,exists,i,_column,filter_roles,r1,exist_role,r2;return _regeneratorRuntime.wrap(function _callee7$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:fd=this.state.filterData;fd[column]=value;_context9.next=4;return this.setState({filterData:fd});case 4:auxDisplayData=this.state.data;resultData=[];exists=null;for(i=0;i<auxDisplayData.length;i++){exists=true;for(_column=0;_column<Object.keys(auxDisplayData[i]).length-2;_column++){fil=Object.keys(auxDisplayData[i])[_column+1];if(fil===\"roles\"){if(this.state.filterData[_column]!==\"\"&&this.state.filterData[_column]){filter_roles=this.state.filterData[_column].split(\" \");for(r1=0;r1<filter_roles.length;r1++){exist_role=false;for(r2=0;r2<auxDisplayData[i][fil].props.children[1].length;r2++){if(auxDisplayData[i][fil].props.children[1][r2].props.children.includes(filter_roles[r1])){exist_role=true;}}if(!exist_role){exists=false;}}}}else{if(auxDisplayData[i][fil]){if(this.state.filterData[_column]!==\"\"&&this.state.filterData[_column]&&!auxDisplayData[i][fil].includes(this.state.filterData[_column])){exists=false;}}else{exists=false;}}}if(exists){resultData.push(auxDisplayData[i]);}}_context9.next=10;return this.setState({displayData:resultData});case 10:case\"end\":return _context9.stop();}}},_callee7,this);}));function filter(_x7,_x8){return _filter.apply(this,arguments);}return filter;}()},{key:\"submitRoles\",value:function submitRoles(id,roles){this.props.submitRoles(id,roles);}},{key:\"render\",value:function render(){var columns=[_objectSpread(_objectSpread({title:/*#__PURE__*/_jsx(\"div\",{className:\"dataTable__header__text\",children:\"Username\"}),dataIndex:'username',key:'username',width:'20%'},this.getColumnSearchProps('username')),{},{sorter:{compare:function compare(a,b){return a.username.localeCompare(b.username);}}}),_objectSpread(_objectSpread({title:/*#__PURE__*/_jsx(\"center\",{className:\"dataTable__header__text\",children:\"Email\"}),dataIndex:'email',key:'email',width:'30%'},this.getColumnSearchProps('email')),{},{sorter:{compare:function compare(a,b){return a.email.localeCompare(b.email);}}}),_objectSpread(_objectSpread({title:/*#__PURE__*/_jsx(\"div\",{className:\"dataTable__header__text\",children:\"Roles\"}),dataIndex:'roles',key:'roles'},this.getColumnSearchProps('roles')),{},{sorter:{compare:function compare(a,b){return a.roles.localeCompare(b.roles);}}}),_objectSpread({title:/*#__PURE__*/_jsx(\"div\",{className:\"dataTable__header__text\",children:\"Actions\"}),dataIndex:'actions',key:'actions',width:'250px'},this.getColumnSearchProps('actions'))];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dataTable__container\",children:[/*#__PURE__*/_jsx(Table,{className:\"customTable\",bordered:true,columns:columns,style:{height:'540px'},dataSource:this.state.displayData,scroll:{y:437},pagination:{disabled:true,defaultPageSize:5000},size:\"small\",rowClassName:function rowClassName(record){return record.color.replace('#','');}}),/*#__PURE__*/_jsx(Table,{className:\"filter__table\",pagination:{disabled:true},scroll:{y:437},showHeader:false,bordered:true,columns:columns,dataSource:this.state.filters,size:\"small\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:25,left:0},children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Total elements: \",this.state.data.length]})})]})});}}]);return UsersDataTable;}(React.Component);export default UsersDataTable;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/usersDataTable/usersDataTable.js"],"names":["React","Table","Highlighter","Link","ManageRolesPopUp","DeleteUserConfPopUp","UsersDataTable","state","searchText","searchedColumn","data","displayData","filterData","weights","role","props","selectedRows","selectedRowsKeys","dataAux","update","updateData","users","mounted","filters","getColumnSearchProps","dataIndex","render","text","type","getMaster","children","backgroundColor","padding","handleReset","clearFilters","setState","onSelectChange","selectedRowKeys","ids","i","length","push","id","onChange","deleteUser","options","method","headers","rolesBtnsDict","fontSize","marginRight","color","width","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","row","user_id","username","name","email","roles","actions","body","user","JSON","stringify","display","bind","submitRoles","j","currentData","filterRow","key","e","filter","target","value","prevProps","prevState","auxDisplayData","resultData","exists","column","Object","keys","fil","filter_roles","split","r1","exist_role","r2","includes","fd","columns","title","sorter","compare","a","b","localeCompare","height","y","disabled","defaultPageSize","record","replace","position","bottom","left","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport { Table } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport './usersDataTable.css'\r\nimport { Link } from 'react-router-dom';\r\nimport ManageRolesPopUp from '../manageRolesPopUp/manageRolesPopUp';\r\nimport DeleteUserConfPopUp from '../deleteUserConfPopUp/deleteUserConfPopUp';\r\n\r\n\r\nclass UsersDataTable extends React.Component{\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    data: [],\r\n    displayData: [],\r\n    filterData: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\r\n    weights: [],\r\n    role: this.props.role,\r\n    selectedRows: [],\r\n    selectedRowsKeys: [],\r\n    dataAux : [],\r\n    update: this.props.updateData,\r\n    users: [],\r\n    mounted: false,\r\n    filters: []\r\n  };\r\n\r\n  deleteUser(id){\r\n    this.props.deleteUser(id)\r\n  }\r\n  \r\n  \r\n\r\n  async componentDidMount(){\r\n    const options = {\r\n      method: \"GET\",\r\n      headers: {\r\n          \"Content-Type\": \"application/json\"\r\n      },\r\n\r\n  }\r\n\r\n\r\n    const rolesBtnsDict = {\"Design\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#00FF7F\"}}>DES</button>, \r\n    \"DesignLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"lightgreen\"}}>LDE</button>, \r\n    \"Stress\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#00BFFF\"}}>STR</button>, \r\n    \"StressLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#87CEEB\"}}>LST</button>, \r\n    \"Supports\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#1E90FF\"}}>SUP</button>, \r\n    \"SupportsLead\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#6495ED\"}}>LSP</button>, \r\n    \"Materials\": <button className=\"btn\"  disabled style={{color:\"white\", fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#6A5ACD\"}}>MAT</button>, \r\n    \"Issuer\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FFC0CB\"}}>ISS</button>, \r\n    \"SpecialityLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"\t#FFA500\"}}>LOS</button>, \r\n    \"Process\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FF4500\"}}>PRO</button>, \r\n    \"Instrument\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FFD700\"}}>INS</button>, \r\n    \"Review\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"white\"}}>REV</button>,\r\n    \"Project\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", color:\"white\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#F033FF\"}}>PRJ</button>,\r\n    \"3D Admin\": <button className=\"btn\"  disabled style={{width:\"32px\", color:\"white\", fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#CD853F\"}}>3D</button>}\r\n    \r\n\r\n    await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/users\", options)\r\n        .then(response => response.json())\r\n        .then(async json => {\r\n          for(let i = 0; i < json.length; i++){\r\n              let row = {user_id: json[i].id, username: json[i].name, email: json[i].email, roles: null, actions: null}\r\n              \r\n              let users = this.state.users\r\n              users.push(json[i].email)\r\n              this.setState({\r\n                users: users\r\n              })\r\n              const body = {\r\n                  user: json[i].email,\r\n                  id: json[i].id\r\n              }\r\n              const options = {\r\n                  method: \"POST\",\r\n                  headers: {\r\n                      \"Content-Type\": \"application/json\"\r\n                  },\r\n                  body: JSON.stringify(body)\r\n              }\r\n\r\n              await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\", options)\r\n                  .then(response => response.json())\r\n                  .then(async json => {\r\n                      row[\"actions\"] = <div style={{display:\"flex\"}}><DeleteUserConfPopUp  deleteUser={this.deleteUser.bind(this)} id={row.user_id} username={row.username}/><ManageRolesPopUp roles={json.roles} id={row.user_id} email={json.email} submitRoles={this.submitRoles.bind(this)}/></div>                  \r\n                      let roles = [rolesBtnsDict[json.roles[0]]]\r\n                          for(let j = 1; j < json.roles.length; j++){\r\n                              roles.push(rolesBtnsDict[json.roles[j]])\r\n\r\n                          }\r\n\r\n                      \r\n                      row[\"roles\"] = <div> {roles} </div>\r\n                      if(i % 2 === 0){\r\n                          row[\"color\"] = \"#fff\"\r\n                      }else{\r\n                          row[\"color\"] = \"#eee\"\r\n                      }\r\n                      \r\n                      let currentData = this.state.dataAux\r\n                      currentData.push(row)\r\n                      await this.setState({dataAux: currentData})\r\n                  })\r\n              \r\n          }\r\n      })\r\n      const filterRow = [{key:0, username: <div><input type=\"text\" className=\"filter__input\" placeholder=\"Username\" onChange={(e) => this.filter(0, e.target.value)}/></div>, email: <div><input type=\"text\" className=\"filter__input\" placeholder=\"Email\" onChange={(e) => this.filter(1,e.target.value)}/></div>, roles: <div><input type=\"text\" className=\"filter__input\" placeholder=\"Roles\" onChange={(e) => this.filter(2,e.target.value)}/></div>}]\r\n                \r\n      this.setState({data : this.state.dataAux, selectedRows: [], displayData: this.state.dataAux});\r\n      await this.setState({filters : filterRow})\r\n      await this.setState({mounted: true})\r\n}\r\n  \r\n\r\n\r\n  async componentDidUpdate(prevProps, prevState){\r\n\r\n    if((prevProps.updateData === false && this.props.updateData === true) || (prevProps.updateData === true && this.props.updateData === false && this.state.mounted === true)){\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n    \r\n        }\r\n    \r\n          const rolesBtnsDict = {\"Design\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#00FF7F\"}}>DES</button>, \r\n          \"DesignLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"lightgreen\"}}>LDE</button>, \r\n          \"Stress\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#00BFFF\"}}>STR</button>, \r\n          \"StressLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#87CEEB\"}}>LST</button>, \r\n          \"Supports\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#1E90FF\"}}>SUP</button>, \r\n          \"SupportsLead\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#6495ED\"}}>LSP</button>, \r\n          \"Materials\": <button className=\"btn\"  disabled style={{color:\"white\", fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#6A5ACD\"}}>MAT</button>, \r\n          \"Issuer\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FFC0CB\"}}>ISS</button>, \r\n          \"SpecialityLead\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"\t#FFA500\"}}>LOS</button>, \r\n          \"Process\": <button className=\"btn\"  disabled style={{color: \"white\",fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FF4500\"}}>PRO</button>, \r\n          \"Instrument\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#FFD700\"}}>INS</button>, \r\n          \"Review\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"white\"}}>REV</button>,\r\n          \"Project\": <button className=\"btn\"  disabled style={{fontSize:\"12px\", color:\"white\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#F033FF\"}}>PRJ</button>,\r\n          \"3D Admin\": <button className=\"btn\"  disabled style={{width: \"32px\",color:\"white\", fontSize:\"12px\", padding:\"2px 5px 2px 5px\", marginRight: \"5px\", backgroundColor:\"#CD853F\"}}>3D</button>}\r\n          \r\n          await this.setState({dataAux: []})\r\n\r\n          await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/users\", options)\r\n              .then(response => response.json())\r\n              .then(async json => {\r\n                for(let i = 0; i < json.length; i++){\r\n                    \r\n                    let row = {user_id: json[i].id, username: json[i].name, email: json[i].email, roles: null, actions: null}\r\n                    \r\n                    const body = {\r\n                        user: json[i].email,\r\n                        id: json[i].id\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n    \r\n                    await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\", options)\r\n                        .then(response => response.json())\r\n                        .then(async json => {\r\n\r\n                          row[\"actions\"] = <div style={{display:\"flex\"}}><DeleteUserConfPopUp  deleteUser={this.deleteUser.bind(this)} id={row.user_id} username={row.username}/><ManageRolesPopUp roles={json.roles} id={row.user_id} email={json.email} submitRoles={this.submitRoles.bind(this)}/></div>                  \r\n                          let roles = [rolesBtnsDict[json.roles[0]]]\r\n                            for(let j = 1; j < json.roles.length; j++){\r\n                                roles.push(rolesBtnsDict[json.roles[j]])\r\n                            }\r\n    \r\n                            row[\"roles\"] = <div> {roles} </div>\r\n                            if(i % 2 === 0){\r\n                                row[\"color\"] = \"#fff\"\r\n                            }else{\r\n                                row[\"color\"] = \"#eee\"\r\n                            }\r\n\r\n                              \r\n                            let currentData = this.state.dataAux\r\n                              \r\n                              await currentData.push(row)\r\n                              await this.setState({dataAux: currentData})\r\n                            \r\n                            \r\n                            \r\n                                                   \r\n                        })\r\n                    \r\n                }\r\n            })\r\n            await this.setState({data: this.state.dataAux})\r\n\r\n            let auxDisplayData = this.state.data\r\n            let resultData = []\r\n            let fil, exists = null\r\n            for(let i = 0; i < auxDisplayData.length; i++){\r\n              exists = true\r\n              for(let column = 0; column < Object.keys(auxDisplayData[i]).length-2; column ++){\r\n                fil = Object.keys(auxDisplayData[i])[column+1]\r\n                if(fil === \"roles\"){\r\n                  if(this.state.filterData[column] !== \"\" && this.state.filterData[column]){\r\n                    let filter_roles = this.state.filterData[column].split(\" \")\r\n                    for(let r1 = 0; r1 < filter_roles.length; r1++){\r\n                      let exist_role = false\r\n                      for(let r2 = 0; r2 <  auxDisplayData[i][fil].props.children[1].length; r2++){\r\n\r\n                          if(auxDisplayData[i][fil].props.children[1][r2].props.children.includes(filter_roles[r1])){\r\n                            exist_role = true\r\n                          }\r\n                        \r\n                      }\r\n                      if(!exist_role){\r\n                        exists = false\r\n                      }\r\n                      \r\n                    }\r\n                    \r\n                  }\r\n                }else{\r\n                  if(auxDisplayData[i][fil]){\r\n                    if(this.state.filterData[column] !== \"\" && this.state.filterData[column] && !auxDisplayData[i][fil].includes(this.state.filterData[column])){\r\n                      exists = false\r\n                    }\r\n                  }else{\r\n                    exists = false\r\n                  }\r\n                }\r\n                \r\n              }\r\n              if(exists){\r\n                resultData.push(auxDisplayData[i])\r\n              }\r\n            }\r\n            await this.setState({displayData: resultData})\r\n    }\r\n  }\r\n\r\n  async filter(column, value){\r\n    let fd = this.state.filterData\r\n    fd[column] = value\r\n    await this.setState({filterData: fd})\r\n\r\n    let auxDisplayData = this.state.data\r\n    let resultData = []\r\n    let fil, exists = null\r\n    for(let i = 0; i < auxDisplayData.length; i++){\r\n      exists = true\r\n      for(let column = 0; column < Object.keys(auxDisplayData[i]).length-2; column ++){\r\n        fil = Object.keys(auxDisplayData[i])[column+1]\r\n        if(fil === \"roles\"){\r\n          if(this.state.filterData[column] !== \"\" && this.state.filterData[column]){\r\n            let filter_roles = this.state.filterData[column].split(\" \")\r\n            for(let r1 = 0; r1 < filter_roles.length; r1++){\r\n              let exist_role = false\r\n              for(let r2 = 0; r2 <  auxDisplayData[i][fil].props.children[1].length; r2++){\r\n                if(auxDisplayData[i][fil].props.children[1][r2].props.children.includes(filter_roles[r1])){\r\n                  exist_role = true\r\n                }    \r\n              }\r\n              if(!exist_role){\r\n                exists = false\r\n              }\r\n              \r\n            }\r\n            \r\n          }\r\n        }else{\r\n          if(auxDisplayData[i][fil]){\r\n            if(this.state.filterData[column] !== \"\" && this.state.filterData[column] && !auxDisplayData[i][fil].includes(this.state.filterData[column])){\r\n              exists = false\r\n            }\r\n          }else{\r\n            exists = false\r\n          }\r\n        }\r\n        \r\n      }\r\n      if(exists){\r\n        resultData.push(auxDisplayData[i])\r\n      }\r\n    }\r\n    await this.setState({displayData: resultData})\r\n  }\r\n\r\n  submitRoles(id, roles){\r\n    this.props.submitRoles(id, roles)\r\n  }\r\n\r\n  \r\n  getColumnSearchProps = dataIndex => ({\r\n    render: text =>\r\n    text != null ? (\r\n    text.props && text.type !== \"div\" ? (\r\n      <Link onClick={() => this.getMaster(text.props.children)}>{text.props.children}</Link>\r\n    ) : this.state.searchedColumn === dataIndex ? (\r\n      <Highlighter\r\n        highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n        searchWords={[this.state.searchText]}\r\n        autoEscape\r\n        textToHighlight={text ? text : ''}\r\n      />\r\n    ) : (\r\n      text\r\n    )\r\n    ) : (\r\n      text\r\n    )\r\n  });\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  onSelectChange = (selectedRowKeys, selectedRows) => {\r\n    let ids = []\r\n    for(let i = 0; i < selectedRows.length; i++){\r\n      ids.push(selectedRows[i].id.props.children)\r\n    }\r\n    this.setState({\r\n      selectedRowsKeys: selectedRowKeys,\r\n      selectedRows: selectedRows\r\n    })\r\n    this.props.onChange(ids);\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    const columns = [\r\n        {\r\n            title: <div className=\"dataTable__header__text\">Username</div>,\r\n            dataIndex: 'username',\r\n            key: 'username',\r\n            width: '20%',\r\n            ...this.getColumnSearchProps('username'),\r\n            sorter: {\r\n                compare: (a, b) => { return a.username.localeCompare(b.username)},\r\n            },\r\n        },\r\n          \r\n      {\r\n        title: <center className=\"dataTable__header__text\">Email</center>,\r\n        dataIndex: 'email',\r\n        key: 'email',\r\n        width: '30%',\r\n        ...this.getColumnSearchProps('email'),\r\n        sorter:{\r\n          compare: (a, b) => a.email.localeCompare(b.email),\r\n        },\r\n      },\r\n      {\r\n        title: <div className=\"dataTable__header__text\">Roles</div>,\r\n        dataIndex: 'roles',\r\n        key: 'roles',\r\n        ...this.getColumnSearchProps('roles'),\r\n        sorter: {\r\n          compare: (a, b) => { return a.roles.localeCompare(b.roles)},\r\n        },\r\n      },\r\n      {\r\n        title: <div className=\"dataTable__header__text\">Actions</div>,\r\n        dataIndex: 'actions',\r\n        key: 'actions',\r\n        width: '250px',\r\n        ...this.getColumnSearchProps('actions'),\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"dataTable__container\">\r\n        <Table className=\"customTable\" bordered = {true} columns={columns} style={{ height: '540px' }} dataSource={this.state.displayData} scroll={{y:437}} pagination={{disabled:true, defaultPageSize:5000}} size=\"small\" rowClassName= {(record) => record.color.replace('#', '')}/>\r\n        <Table className=\"filter__table\" pagination={{disabled:true}} scroll={{y:437}} showHeader = {false} bordered = {true} columns={columns} dataSource={this.state.filters} size=\"small\"/>\r\n          <div style={{position: \"absolute\", bottom:25, left:0}}>\r\n            <b>Total elements: {this.state.data.length}</b>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UsersDataTable;"]},"metadata":{},"sourceType":"module"}