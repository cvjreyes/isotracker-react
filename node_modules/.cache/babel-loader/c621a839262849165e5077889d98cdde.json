{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import NavBar from'../../components/navBar/navBar';import'./register.css';import{useState}from'react';//Página de home con el menú para ir a las aplicaciones de isotracker\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),role=_useState2[0],setRole=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),roleItems=_useState10[0],setRoleItems=_useState10[1];var body={email:email,userName:userName,role:role};useEffect(function(){fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles\").then(function(response){return response.json();}).then(function(json){setRoleItems(json);}).catch(function(error){setError(true);});},[]);var handleRegister=function handleRegister(){var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/register\",options).then(function(response){return response.json();}).then(function(json){window.location.reload(false);}).catch(function(error){window.location.reload(false);setError(true);});};return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home__background\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"register__form__container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Register\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{display:\"flex\",alignItems:\"left\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{position:\"absolute\"},children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{type:\"select\",className:\"destination__select\",style:{position:\"relative\",marginTop:\"30px\"},onChange:function onChange(e){return setRole(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select a role..\"}),roleItems.map(function(role){return/*#__PURE__*/_jsx(\"option\",{value:role.name,children:role.name});})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Last name\",onChange:function onChange(e){return setUserName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error__message\",style:{color:\"red\"},children:\"Email or password incorrect. Try again.\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark btn-lg btn-block\",style:{marginTop:\"30px\",backgroundColor:\"#17a2b8\",marginBottom:\"10px\"},onClick:handleRegister,children:\"Register\"})]})}),\");\"]})});};export default Register;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/pages/register/register.js"],"names":["React","useEffect","NavBar","useState","Register","role","setRole","email","setEmail","userName","setUserName","error","setError","roleItems","setRoleItems","body","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","catch","handleRegister","options","method","headers","JSON","stringify","window","location","reload","display","alignItems","position","marginTop","e","target","value","map","name","color","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport NavBar from '../../components/navBar/navBar';\r\nimport './register.css';\r\nimport { useState } from 'react';\r\n//Página de home con el menú para ir a las aplicaciones de isotracker\r\n\r\nconst Register = () =>{\r\n    const [role, setRole] = useState();\r\n    const [email, setEmail] = useState();\r\n    const [userName, setUserName] = useState();\r\n    const [error, setError] = useState();\r\n    const [roleItems, setRoleItems] = useState([]);\r\n\r\n    const body = {\r\n        email: email,\r\n        userName: userName,\r\n        role: role\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n                setRoleItems(json);\r\n            }\r\n        )\r\n        .catch(error => {\r\n            setError(true);\r\n        })\r\n    },[]);\r\n\r\n\r\n    const handleRegister = () => {\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/register\", options)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                    window.location.reload(false);                \r\n                }\r\n            )\r\n            .catch(error => {\r\n                window.location.reload(false);\r\n                setError(true);\r\n            })\r\n    }\r\n\r\n    return(\r\n        <body>\r\n            <div className=\"home__background\">\r\n                <NavBar/>\r\n                \r\n                <div className=\"register__form__container\">\r\n                    <form>\r\n                        <center><h3>Register</h3></center>\r\n\r\n                        <div className=\"form-group\" style={{display:\"flex\", alignItems:\"left\"}}>\r\n                            <label style={{position:\"absolute\"}}>Role</label>\r\n                            <select type=\"select\" className=\"destination__select\" style={{position:\"relative\", marginTop:\"30px\"}} onChange={(e) => setRole(e.target.value)}>\r\n                                <option>Select a role..</option>\r\n                                {roleItems.map((role)=>(\r\n                                    <option value={role.name}>{role.name}</option>\r\n                                )\r\n                                )}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Username</label>\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Last name\" onChange={(e) => setUserName(e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Email</label>\r\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" onChange={(e) => setEmail(e.target.value)} />\r\n                        </div>\r\n                        {error && <p className=\"error__message\" style={{color: \"red\"}}>Email or password incorrect. Try again.</p>}\r\n                        <button type=\"submit\" className=\"btn btn-dark btn-lg btn-block\" style={{marginTop:\"30px\", backgroundColor: \"#17a2b8\", marginBottom:\"10px\"}} onClick={handleRegister}>Register</button>\r\n                    </form>\r\n                </div>\r\n  );\r\n            </div>\r\n            \r\n        </body>\r\n    );\r\n};\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}