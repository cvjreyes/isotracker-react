{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { arrayEach } from \"../../helpers/array.mjs\";\n/**\r\n * @class Storage\r\n * @plugin PersistentState\r\n */\n\nvar Storage = /*#__PURE__*/function () {\n  // eslint-disable-next-line no-restricted-globals\n  function Storage(prefix) {\n    var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n\n    _classCallCheck(this, Storage);\n    /**\r\n     * Reference to proper window.\r\n     *\r\n     * @type {Window}\r\n     */\n\n\n    this.rootWindow = rootWindow;\n    /**\r\n     * Prefix for key (id element).\r\n     *\r\n     * @type {string}\r\n     */\n\n    this.prefix = prefix;\n    /**\r\n     * Saved keys.\r\n     *\r\n     * @type {Array}\r\n     */\n\n    this.savedKeys = [];\n    this.loadSavedKeys();\n  }\n  /**\r\n   * Save data to localStorage.\r\n   *\r\n   * @param {string} key Key string.\r\n   * @param {Mixed} value Value to save.\r\n   */\n\n\n  _createClass(Storage, [{\n    key: \"saveValue\",\n    value: function saveValue(key, value) {\n      this.rootWindow.localStorage.setItem(\"\".concat(this.prefix, \"_\").concat(key), JSON.stringify(value));\n\n      if (this.savedKeys.indexOf(key) === -1) {\n        this.savedKeys.push(key);\n        this.saveSavedKeys();\n      }\n    }\n    /**\r\n     * Load data from localStorage.\r\n     *\r\n     * @param {string} key Key string.\r\n     * @param {object} defaultValue Object containing the loaded data.\r\n     *\r\n     * @returns {object|undefined}\r\n     */\n\n  }, {\n    key: \"loadValue\",\n    value: function loadValue(key, defaultValue) {\n      var itemKey = typeof key === 'undefined' ? defaultValue : key;\n      var value = this.rootWindow.localStorage.getItem(\"\".concat(this.prefix, \"_\").concat(itemKey));\n      return value === null ? void 0 : JSON.parse(value);\n    }\n    /**\r\n     * Reset given data from localStorage.\r\n     *\r\n     * @param {string} key Key string.\r\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset(key) {\n      this.rootWindow.localStorage.removeItem(\"\".concat(this.prefix, \"_\").concat(key));\n    }\n    /**\r\n     * Reset all data from localStorage.\r\n     *\r\n     */\n\n  }, {\n    key: \"resetAll\",\n    value: function resetAll() {\n      var _this = this;\n\n      arrayEach(this.savedKeys, function (value, index) {\n        _this.rootWindow.localStorage.removeItem(\"\".concat(_this.prefix, \"_\").concat(_this.savedKeys[index]));\n      });\n      this.clearSavedKeys();\n    }\n    /**\r\n     * Load and save all keys from localStorage.\r\n     *\r\n     * @private\r\n     */\n\n  }, {\n    key: \"loadSavedKeys\",\n    value: function loadSavedKeys() {\n      var keysJSON = this.rootWindow.localStorage.getItem(\"\".concat(this.prefix, \"__persistentStateKeys\"));\n      var keys = typeof keysJSON === 'string' ? JSON.parse(keysJSON) : void 0;\n      this.savedKeys = keys || [];\n    }\n    /**\r\n     * Save saved key in localStorage.\r\n     *\r\n     * @private\r\n     */\n\n  }, {\n    key: \"saveSavedKeys\",\n    value: function saveSavedKeys() {\n      this.rootWindow.localStorage.setItem(\"\".concat(this.prefix, \"__persistentStateKeys\"), JSON.stringify(this.savedKeys));\n    }\n    /**\r\n     * Clear saved key from localStorage.\r\n     *\r\n     * @private\r\n     */\n\n  }, {\n    key: \"clearSavedKeys\",\n    value: function clearSavedKeys() {\n      this.savedKeys.length = 0;\n      this.saveSavedKeys();\n    }\n  }]);\n\n  return Storage;\n}();\n\nexport default Storage;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/plugins/persistentState/storage.mjs"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","arrayEach","Storage","prefix","rootWindow","arguments","undefined","window","savedKeys","loadSavedKeys","value","saveValue","localStorage","setItem","concat","JSON","stringify","indexOf","push","saveSavedKeys","loadValue","defaultValue","itemKey","getItem","parse","reset","removeItem","resetAll","_this","index","clearSavedKeys","keysJSON","keys"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.array.concat.js\";\r\nimport \"core-js/modules/es.array.index-of.js\";\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nimport { arrayEach } from \"../../helpers/array.mjs\";\r\n/**\r\n * @class Storage\r\n * @plugin PersistentState\r\n */\r\n\r\nvar Storage = /*#__PURE__*/function () {\r\n  // eslint-disable-next-line no-restricted-globals\r\n  function Storage(prefix) {\r\n    var rootWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\r\n\r\n    _classCallCheck(this, Storage);\r\n\r\n    /**\r\n     * Reference to proper window.\r\n     *\r\n     * @type {Window}\r\n     */\r\n    this.rootWindow = rootWindow;\r\n    /**\r\n     * Prefix for key (id element).\r\n     *\r\n     * @type {string}\r\n     */\r\n\r\n    this.prefix = prefix;\r\n    /**\r\n     * Saved keys.\r\n     *\r\n     * @type {Array}\r\n     */\r\n\r\n    this.savedKeys = [];\r\n    this.loadSavedKeys();\r\n  }\r\n  /**\r\n   * Save data to localStorage.\r\n   *\r\n   * @param {string} key Key string.\r\n   * @param {Mixed} value Value to save.\r\n   */\r\n\r\n\r\n  _createClass(Storage, [{\r\n    key: \"saveValue\",\r\n    value: function saveValue(key, value) {\r\n      this.rootWindow.localStorage.setItem(\"\".concat(this.prefix, \"_\").concat(key), JSON.stringify(value));\r\n\r\n      if (this.savedKeys.indexOf(key) === -1) {\r\n        this.savedKeys.push(key);\r\n        this.saveSavedKeys();\r\n      }\r\n    }\r\n    /**\r\n     * Load data from localStorage.\r\n     *\r\n     * @param {string} key Key string.\r\n     * @param {object} defaultValue Object containing the loaded data.\r\n     *\r\n     * @returns {object|undefined}\r\n     */\r\n\r\n  }, {\r\n    key: \"loadValue\",\r\n    value: function loadValue(key, defaultValue) {\r\n      var itemKey = typeof key === 'undefined' ? defaultValue : key;\r\n      var value = this.rootWindow.localStorage.getItem(\"\".concat(this.prefix, \"_\").concat(itemKey));\r\n      return value === null ? void 0 : JSON.parse(value);\r\n    }\r\n    /**\r\n     * Reset given data from localStorage.\r\n     *\r\n     * @param {string} key Key string.\r\n     */\r\n\r\n  }, {\r\n    key: \"reset\",\r\n    value: function reset(key) {\r\n      this.rootWindow.localStorage.removeItem(\"\".concat(this.prefix, \"_\").concat(key));\r\n    }\r\n    /**\r\n     * Reset all data from localStorage.\r\n     *\r\n     */\r\n\r\n  }, {\r\n    key: \"resetAll\",\r\n    value: function resetAll() {\r\n      var _this = this;\r\n\r\n      arrayEach(this.savedKeys, function (value, index) {\r\n        _this.rootWindow.localStorage.removeItem(\"\".concat(_this.prefix, \"_\").concat(_this.savedKeys[index]));\r\n      });\r\n      this.clearSavedKeys();\r\n    }\r\n    /**\r\n     * Load and save all keys from localStorage.\r\n     *\r\n     * @private\r\n     */\r\n\r\n  }, {\r\n    key: \"loadSavedKeys\",\r\n    value: function loadSavedKeys() {\r\n      var keysJSON = this.rootWindow.localStorage.getItem(\"\".concat(this.prefix, \"__persistentStateKeys\"));\r\n      var keys = typeof keysJSON === 'string' ? JSON.parse(keysJSON) : void 0;\r\n      this.savedKeys = keys || [];\r\n    }\r\n    /**\r\n     * Save saved key in localStorage.\r\n     *\r\n     * @private\r\n     */\r\n\r\n  }, {\r\n    key: \"saveSavedKeys\",\r\n    value: function saveSavedKeys() {\r\n      this.rootWindow.localStorage.setItem(\"\".concat(this.prefix, \"__persistentStateKeys\"), JSON.stringify(this.savedKeys));\r\n    }\r\n    /**\r\n     * Clear saved key from localStorage.\r\n     *\r\n     * @private\r\n     */\r\n\r\n  }, {\r\n    key: \"clearSavedKeys\",\r\n    value: function clearSavedKeys() {\r\n      this.savedKeys.length = 0;\r\n      this.saveSavedKeys();\r\n    }\r\n  }]);\r\n\r\n  return Storage;\r\n}();\r\n\r\nexport default Storage;"]},"metadata":{},"sourceType":"module"}