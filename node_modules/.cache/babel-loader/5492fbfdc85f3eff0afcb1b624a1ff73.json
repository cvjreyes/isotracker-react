{"ast":null,"code":"import { isEmpty } from \"../../../helpers/mixed.mjs\";\nimport { DO_NOT_SWAP, FIRST_BEFORE_SECOND, FIRST_AFTER_SECOND } from \"../sortService/index.mjs\";\n/**\r\n * Default sorting compare function factory. Method get as parameters `sortOrder` and `columnMeta` and return compare function.\r\n *\r\n * @param {string} sortOrder Sort order (`asc` for ascending, `desc` for descending).\r\n * @param {object} columnMeta Column meta object.\r\n * @param {object} columnPluginSettings Plugin settings for the column.\r\n * @returns {Function} The compare function.\r\n */\n\nexport function compareFunctionFactory(sortOrder, columnMeta, columnPluginSettings) {\n  return function (value, nextValue) {\n    var sortEmptyCells = columnPluginSettings.sortEmptyCells;\n\n    if (typeof value === 'string') {\n      value = value.toLowerCase();\n    }\n\n    if (typeof nextValue === 'string') {\n      nextValue = nextValue.toLowerCase();\n    }\n\n    if (value === nextValue) {\n      return DO_NOT_SWAP;\n    }\n\n    if (isEmpty(value)) {\n      if (isEmpty(nextValue)) {\n        return DO_NOT_SWAP;\n      } // Just fist value is empty and `sortEmptyCells` option was set\n\n\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n      }\n\n      return FIRST_AFTER_SECOND;\n    }\n\n    if (isEmpty(nextValue)) {\n      // Just second value is empty and `sortEmptyCells` option was set\n      if (sortEmptyCells) {\n        return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n      }\n\n      return FIRST_BEFORE_SECOND;\n    }\n\n    if (isNaN(value) && !isNaN(nextValue)) {\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n    } else if (!isNaN(value) && isNaN(nextValue)) {\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n    } else if (!(isNaN(value) || isNaN(nextValue))) {\n      value = parseFloat(value);\n      nextValue = parseFloat(nextValue);\n    }\n\n    if (value < nextValue) {\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\n    }\n\n    if (value > nextValue) {\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\n    }\n\n    return DO_NOT_SWAP;\n  };\n}\nexport var COLUMN_DATA_TYPE = 'default';","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/plugins/columnSorting/sortFunction/default.mjs"],"names":["isEmpty","DO_NOT_SWAP","FIRST_BEFORE_SECOND","FIRST_AFTER_SECOND","compareFunctionFactory","sortOrder","columnMeta","columnPluginSettings","value","nextValue","sortEmptyCells","toLowerCase","isNaN","parseFloat","COLUMN_DATA_TYPE"],"mappings":"AAAA,SAASA,OAAT,QAAwB,4BAAxB;AACA,SAASC,WAAT,EAAsBC,mBAAtB,EAA2CC,kBAA3C,QAAqE,0BAArE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,sBAAT,CAAgCC,SAAhC,EAA2CC,UAA3C,EAAuDC,oBAAvD,EAA6E;AAClF,SAAO,UAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AACjC,QAAIC,cAAc,GAAGH,oBAAoB,CAACG,cAA1C;;AAEA,QAAI,OAAOF,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,MAAAA,KAAK,GAAGA,KAAK,CAACG,WAAN,EAAR;AACD;;AAED,QAAI,OAAOF,SAAP,KAAqB,QAAzB,EAAmC;AACjCA,MAAAA,SAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;AACD;;AAED,QAAIH,KAAK,KAAKC,SAAd,EAAyB;AACvB,aAAOR,WAAP;AACD;;AAED,QAAID,OAAO,CAACQ,KAAD,CAAX,EAAoB;AAClB,UAAIR,OAAO,CAACS,SAAD,CAAX,EAAwB;AACtB,eAAOR,WAAP;AACD,OAHiB,CAGhB;;;AAGF,UAAIS,cAAJ,EAAoB;AAClB,eAAOL,SAAS,KAAK,KAAd,GAAsBH,mBAAtB,GAA4CC,kBAAnD;AACD;;AAED,aAAOA,kBAAP;AACD;;AAED,QAAIH,OAAO,CAACS,SAAD,CAAX,EAAwB;AACtB;AACA,UAAIC,cAAJ,EAAoB;AAClB,eAAOL,SAAS,KAAK,KAAd,GAAsBF,kBAAtB,GAA2CD,mBAAlD;AACD;;AAED,aAAOA,mBAAP;AACD;;AAED,QAAIU,KAAK,CAACJ,KAAD,CAAL,IAAgB,CAACI,KAAK,CAACH,SAAD,CAA1B,EAAuC;AACrC,aAAOJ,SAAS,KAAK,KAAd,GAAsBF,kBAAtB,GAA2CD,mBAAlD;AACD,KAFD,MAEO,IAAI,CAACU,KAAK,CAACJ,KAAD,CAAN,IAAiBI,KAAK,CAACH,SAAD,CAA1B,EAAuC;AAC5C,aAAOJ,SAAS,KAAK,KAAd,GAAsBH,mBAAtB,GAA4CC,kBAAnD;AACD,KAFM,MAEA,IAAI,EAAES,KAAK,CAACJ,KAAD,CAAL,IAAgBI,KAAK,CAACH,SAAD,CAAvB,CAAJ,EAAyC;AAC9CD,MAAAA,KAAK,GAAGK,UAAU,CAACL,KAAD,CAAlB;AACAC,MAAAA,SAAS,GAAGI,UAAU,CAACJ,SAAD,CAAtB;AACD;;AAED,QAAID,KAAK,GAAGC,SAAZ,EAAuB;AACrB,aAAOJ,SAAS,KAAK,KAAd,GAAsBH,mBAAtB,GAA4CC,kBAAnD;AACD;;AAED,QAAIK,KAAK,GAAGC,SAAZ,EAAuB;AACrB,aAAOJ,SAAS,KAAK,KAAd,GAAsBF,kBAAtB,GAA2CD,mBAAlD;AACD;;AAED,WAAOD,WAAP;AACD,GAvDD;AAwDD;AACD,OAAO,IAAIa,gBAAgB,GAAG,SAAvB","sourcesContent":["import { isEmpty } from \"../../../helpers/mixed.mjs\";\r\nimport { DO_NOT_SWAP, FIRST_BEFORE_SECOND, FIRST_AFTER_SECOND } from \"../sortService/index.mjs\";\r\n/**\r\n * Default sorting compare function factory. Method get as parameters `sortOrder` and `columnMeta` and return compare function.\r\n *\r\n * @param {string} sortOrder Sort order (`asc` for ascending, `desc` for descending).\r\n * @param {object} columnMeta Column meta object.\r\n * @param {object} columnPluginSettings Plugin settings for the column.\r\n * @returns {Function} The compare function.\r\n */\r\n\r\nexport function compareFunctionFactory(sortOrder, columnMeta, columnPluginSettings) {\r\n  return function (value, nextValue) {\r\n    var sortEmptyCells = columnPluginSettings.sortEmptyCells;\r\n\r\n    if (typeof value === 'string') {\r\n      value = value.toLowerCase();\r\n    }\r\n\r\n    if (typeof nextValue === 'string') {\r\n      nextValue = nextValue.toLowerCase();\r\n    }\r\n\r\n    if (value === nextValue) {\r\n      return DO_NOT_SWAP;\r\n    }\r\n\r\n    if (isEmpty(value)) {\r\n      if (isEmpty(nextValue)) {\r\n        return DO_NOT_SWAP;\r\n      } // Just fist value is empty and `sortEmptyCells` option was set\r\n\r\n\r\n      if (sortEmptyCells) {\r\n        return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\r\n      }\r\n\r\n      return FIRST_AFTER_SECOND;\r\n    }\r\n\r\n    if (isEmpty(nextValue)) {\r\n      // Just second value is empty and `sortEmptyCells` option was set\r\n      if (sortEmptyCells) {\r\n        return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\r\n      }\r\n\r\n      return FIRST_BEFORE_SECOND;\r\n    }\r\n\r\n    if (isNaN(value) && !isNaN(nextValue)) {\r\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\r\n    } else if (!isNaN(value) && isNaN(nextValue)) {\r\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\r\n    } else if (!(isNaN(value) || isNaN(nextValue))) {\r\n      value = parseFloat(value);\r\n      nextValue = parseFloat(nextValue);\r\n    }\r\n\r\n    if (value < nextValue) {\r\n      return sortOrder === 'asc' ? FIRST_BEFORE_SECOND : FIRST_AFTER_SECOND;\r\n    }\r\n\r\n    if (value > nextValue) {\r\n      return sortOrder === 'asc' ? FIRST_AFTER_SECOND : FIRST_BEFORE_SECOND;\r\n    }\r\n\r\n    return DO_NOT_SWAP;\r\n  };\r\n}\r\nexport var COLUMN_DATA_TYPE = 'default';"]},"metadata":{},"sourceType":"module"}