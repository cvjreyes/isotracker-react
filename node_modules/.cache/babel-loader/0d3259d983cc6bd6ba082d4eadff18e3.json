{"ast":null,"code":"//#region Animator\nimport AnimationHelper from '../helpers/animator';\n\nfunction Animator(chart) {\n  this.chart = chart;\n  this.ctx = this.chart.plotArea.ctx;\n  this.animations = [];\n  this.animationRequestId = null;\n} //Animator.prototype.animate = function (duration, base, dest, source, animationCallback, onComplete) {\n\n\nAnimator.prototype.animate = function (startDelay, duration, animationCallback, onComplete, easingFunction) {\n  var _this = this;\n\n  this.chart.isAnimating = true;\n  easingFunction = easingFunction || AnimationHelper.easing.linear;\n\n  if (animationCallback) {\n    this.animations.push({\n      startTime: new Date().getTime() + (startDelay ? startDelay : 0),\n      duration: duration,\n      animationCallback: animationCallback,\n      onComplete: onComplete\n    });\n  }\n\n  var remainingAnimations = [];\n\n  while (this.animations.length > 0) {\n    var animation = this.animations.shift();\n    var now = new Date().getTime();\n    var fractionComplete = 0; //var fractionComplete = Math.min(((new Date()).getTime() - animation.startTime) / animation.duration, 1);\n\n    if (animation.startTime <= now) {\n      fractionComplete = easingFunction(Math.min(now - animation.startTime, animation.duration), 0, 1, animation.duration); //var fractionComplete = AnimationHelper.easing.easeOutQuad(Math.min(((new Date()).getTime() - animation.startTime), animation.duration), 0, 1, animation.duration);\n\n      fractionComplete = Math.min(fractionComplete, 1);\n      if (isNaN(fractionComplete) || !isFinite(fractionComplete)) fractionComplete = 1;\n    }\n\n    if (fractionComplete < 1) {\n      remainingAnimations.push(animation);\n    }\n\n    animation.animationCallback(fractionComplete);\n    if (fractionComplete >= 1 && animation.onComplete) animation.onComplete();\n  }\n\n  this.animations = remainingAnimations;\n\n  if (this.animations.length > 0) {\n    this.animationRequestId = this.chart.requestAnimFrame.call(window, function () {\n      _this.animate.call(_this);\n    });\n  } else {\n    this.chart.isAnimating = false;\n  }\n};\n\nAnimator.prototype.cancelAllAnimations = function () {\n  this.animations = [];\n\n  if (this.animationRequestId) {\n    this.chart.cancelRequestAnimFrame.call(window, this.animationRequestId);\n  }\n\n  this.animationRequestId = null;\n  this.chart.isAnimating = false;\n};\n\nexport default Animator;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/canvasjs/src/core/animator.js"],"names":["AnimationHelper","Animator","chart","ctx","plotArea","animations","animationRequestId","prototype","animate","startDelay","duration","animationCallback","onComplete","easingFunction","_this","isAnimating","easing","linear","push","startTime","Date","getTime","remainingAnimations","length","animation","shift","now","fractionComplete","Math","min","isNaN","isFinite","requestAnimFrame","call","window","cancelAllAnimations","cancelRequestAnimFrame"],"mappings":"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","sourcesContent":["//#region Animator\r\n\r\nimport AnimationHelper from '../helpers/animator';\r\n\r\nfunction Animator(chart) {\r\n\r\n  this.chart = chart;\r\n  this.ctx = this.chart.plotArea.ctx;\r\n  this.animations = [];\r\n  this.animationRequestId = null;\r\n}\r\n\r\n//Animator.prototype.animate = function (duration, base, dest, source, animationCallback, onComplete) {\r\nAnimator.prototype.animate = function (startDelay, duration, animationCallback, onComplete, easingFunction) {\r\n  var _this = this;\r\n\r\n  this.chart.isAnimating = true;\r\n  easingFunction = easingFunction || AnimationHelper.easing.linear;\r\n\r\n  if (animationCallback) {\r\n\r\n    this.animations.push({\r\n      startTime: (new Date()).getTime() + (startDelay ? startDelay : 0),\r\n      duration: duration,\r\n      animationCallback: animationCallback,\r\n      onComplete: onComplete\r\n    });\r\n  }\r\n\r\n  var remainingAnimations = [];\r\n\r\n  while (this.animations.length > 0) {\r\n\r\n    var animation = this.animations.shift();\r\n    var now = (new Date()).getTime();\r\n    var fractionComplete = 0;\r\n    //var fractionComplete = Math.min(((new Date()).getTime() - animation.startTime) / animation.duration, 1);\r\n\r\n    if (animation.startTime <= now) {\r\n      fractionComplete = easingFunction(Math.min((now - animation.startTime), animation.duration), 0, 1, animation.duration);\r\n      //var fractionComplete = AnimationHelper.easing.easeOutQuad(Math.min(((new Date()).getTime() - animation.startTime), animation.duration), 0, 1, animation.duration);\r\n\r\n      fractionComplete = Math.min(fractionComplete, 1);\r\n\r\n      if (isNaN(fractionComplete) || !isFinite(fractionComplete))\r\n        fractionComplete = 1;\r\n    }\r\n\r\n    if (fractionComplete < 1) {\r\n      remainingAnimations.push(animation);\r\n    }\r\n\r\n    animation.animationCallback(fractionComplete);\r\n\r\n    if (fractionComplete >= 1 && animation.onComplete)\r\n      animation.onComplete();\r\n  }\r\n\r\n  this.animations = remainingAnimations;\r\n\r\n  if (this.animations.length > 0) {\r\n    this.animationRequestId = this.chart.requestAnimFrame.call(window, function () {\r\n      _this.animate.call(_this);\r\n    });\r\n  } else {\r\n    this.chart.isAnimating = false;\r\n  }\r\n\r\n}\r\n\r\nAnimator.prototype.cancelAllAnimations = function () {\r\n\r\n  this.animations = [];\r\n\r\n  if (this.animationRequestId) {\r\n    this.chart.cancelRequestAnimFrame.call(window, this.animationRequestId);\r\n  }\r\n\r\n  this.animationRequestId = null;\r\n  this.chart.isAnimating = false;\r\n}\r\n\r\nexport default Animator;\r\n"]},"metadata":{},"sourceType":"module"}