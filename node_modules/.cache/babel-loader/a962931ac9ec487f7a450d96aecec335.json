{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'antd/dist/antd.css';import{HotTable}from'@handsontable/react';import'handsontable/dist/handsontable.full.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PipingExcel=/*#__PURE__*/function(_React$Component){_inherits(PipingExcel,_React$Component);var _super=_createSuper(PipingExcel);function PipingExcel(){var _this;_classCallCheck(this,PipingExcel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchText:'',searchedColumn:'',progressData:[],tab:_this.props.currentTab,selectedRows:[],selectedRowsKeys:[],updateData:_this.props.updateData,username:\"\",acronyms:null,steps:[]};return _this;}_createClass(PipingExcel,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/gpipes\",options).then(function(response){return response.json();}).then(function(json){var rows=[];var row=null;rows.push({\"Week\":\"Week\",\"Estimated\":\"Estimated\"});for(var i=0;i<json.rows.length;i++){row={\"Week\":json.rows[i].week,\"Estimated\":json.rows[i].estimated,id:json.rows[i].id};rows.push(row);}_this2.setState({progressData:rows,selectedRows:[]});});case 2:case\"end\":return _context.stop();}}},_callee);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"addRowProgress\",value:function addRowProgress(){var rows=this.state.progressData;rows.push({\"Week\":\"\",\"Estimated\":\"\"});this.setState({progressData:rows});}},{key:\"submitChangesProgress\",value:function submitChangesProgress(){var body={rows:this.state.progressData};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/submit/piping/progress\",options).then(function(response){return response.json();}).then(function(json){});this.props.success();}},{key:\"render\",value:function render(){var _this3=this;var progressSettings={licenseKey:'non-commercial-and-evaluation',colWidths:195//... other options\n};return/*#__PURE__*/_jsx(\"div\",{className:\"column\",style:{marginLeft:\"35%\"},children:/*#__PURE__*/_jsxs(\"div\",{id:\"hot-app\",children:[/*#__PURE__*/_jsx(HotTable,{data:this.state.progressData,colHeaders:true,rowHeaders:true,width:\"465\",height:\"500\",settings:progressSettings,manualColumnResize:true,manualRowResize:true,columns:[{data:\"Week\",type:\"numeric\"},{data:\"Estimated\",type:\"numeric\"}],filters:true,dropdownMenu:['make_read_only','---------','alignment','---------','filter_by_condition','---------','filter_operators','---------','filter_by_condition2','---------','filter_by_value','---------','filter_action_bar']}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"180px\"},children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-sm btn-info\",onClick:function onClick(){return _this3.addRowProgress();},style:{marginRight:\"5px\",fontSize:\"16px\",width:\"60px\",borderRadius:\"10px\"},children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-sm btn-success\",onClick:function onClick(){return _this3.submitChangesProgress();},style:{marginRight:\"5px\",fontSize:\"16px\",width:\"60px\",borderRadius:\"10px\"},children:\"Save\"})]}),/*#__PURE__*/_jsx(\"br\",{})]})});}}]);return PipingExcel;}(React.Component);export default PipingExcel;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/pipingExcel/pipingExcel.js"],"names":["React","HotTable","PipingExcel","state","searchText","searchedColumn","progressData","tab","props","currentTab","selectedRows","selectedRowsKeys","updateData","username","acronyms","steps","options","method","headers","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","rows","row","push","i","length","week","estimated","id","setState","body","JSON","stringify","success","progressSettings","licenseKey","colWidths","marginLeft","data","type","addRowProgress","marginRight","fontSize","width","borderRadius","submitChangesProgress","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport { HotTable } from '@handsontable/react';\r\nimport 'handsontable/dist/handsontable.full.css';\r\n\r\n\r\nclass PipingExcel extends React.Component{\r\n  state = {\r\n    searchText: '',\r\n    searchedColumn: '',\r\n    progressData: [],\r\n    tab: this.props.currentTab,\r\n    selectedRows: [],\r\n    selectedRowsKeys: [],\r\n    updateData: this.props.updateData,\r\n    username: \"\",\r\n    acronyms : null,\r\n    steps: []\r\n  };\r\n\r\n  async componentDidMount(){\r\n\r\n    const options = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n    }\r\n\r\n\r\n  fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/gpipes\", options)\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      var rows = []\r\n      var row = null\r\n      rows.push({\"Week\": \"Week\", \"Estimated\": \"Estimated\"})\r\n      for(let i = 0; i < json.rows.length; i++){\r\n          row = {\"Week\": json.rows[i].week, \"Estimated\": json.rows[i].estimated, id: json.rows[i].id}\r\n\r\n          rows.push(row)\r\n      }\r\n      this.setState({progressData : rows, selectedRows: []});\r\n\r\n  })\r\n  }\r\n\r\n  \r\n  addRowProgress(){\r\n    let rows = this.state.progressData\r\n    rows.push({\"Week\": \"\", \"Estimated\": \"\"})\r\n    this.setState({progressData: rows})\r\n  }\r\n\r\n  submitChangesProgress(){\r\n    const body = {\r\n      rows: this.state.progressData,\r\n    }\r\n    const options = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body)\r\n    }\r\n    fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/submit/piping/progress\", options)\r\n    .then(response => response.json())\r\n    .then(json =>{\r\n\r\n    })\r\n    this.props.success()\r\n  }\r\n\r\n\r\n  render() {\r\n  \r\n      const progressSettings = {\r\n        licenseKey: 'non-commercial-and-evaluation',\r\n        colWidths: 195,\r\n        //... other options\r\n      }\r\n\r\n      return (\r\n\r\n          <div className=\"column\" style={{marginLeft:\"35%\"}}>\r\n            <div id=\"hot-app\">\r\n              <HotTable\r\n                data={this.state.progressData}\r\n                colHeaders={true}\r\n                rowHeaders={true}\r\n                width=\"465\"\r\n                height=\"500\"\r\n                settings={progressSettings} \r\n                manualColumnResize={true}\r\n                manualRowResize={true}\r\n                columns= {[{ data: \"Week\", type:\"numeric\"}, {data: \"Estimated\", type:\"numeric\"}]}\r\n                filters={true}\r\n                dropdownMenu= {[\r\n                    'make_read_only',\r\n                    '---------',\r\n                    'alignment',\r\n                    '---------',\r\n                    'filter_by_condition',\r\n                    '---------',\r\n                    'filter_operators',\r\n                    '---------',\r\n                    'filter_by_condition2',\r\n                    '---------',\r\n                    'filter_by_value',\r\n                    '---------',\r\n                    'filter_action_bar',\r\n                  ]}\r\n              />\r\n              <br></br>\r\n              <div style={{marginLeft:\"180px\"}}>\r\n                  <button class=\"btn btn-sm btn-info\" onClick={() => this.addRowProgress()} style={{marginRight:\"5px\", fontSize:\"16px\",width:\"60px\", borderRadius:\"10px\"}}>Add</button>\r\n                  <button class=\"btn btn-sm btn-success\" onClick={() => this.submitChangesProgress()} style={{marginRight:\"5px\", fontSize:\"16px\", width:\"60px\", borderRadius:\"10px\"}}>Save</button>\r\n              </div>\r\n              <br></br>\r\n            </div>\r\n          </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default PipingExcel;"]},"metadata":{},"sourceType":"module"}