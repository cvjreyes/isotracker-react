{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import MenuItem from'@material-ui/core/MenuItem';import Menu from'@material-ui/core/Menu';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{backgroundColor:theme.palette.background.paper}};});var RoleDropDown=function RoleDropDown(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),selectedIndex=_React$useState4[0],setSelectedIndex=_React$useState4[1];var handleClickListItem=function handleClickListItem(event){setAnchorEl(event.currentTarget);};var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});var options=[\"none\"];if(props.roles){options=props.roles;}useEffect(function(){if(options.indexOf(secureStorage.getItem('role'))!==-1){setSelectedIndex(options.indexOf(secureStorage.getItem('role')));}else{setSelectedIndex(0);}// eslint-disable-next-line\n},[options]);var handleMenuItemClick=function handleMenuItemClick(event,index){setSelectedIndex(index);setAnchorEl(null);props.onChange(options[index]);secureStorage.setItem('role',options[index]);};var handleClose=function handleClose(){setAnchorEl(null);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,style:{backgroundColor:\"#F5F8FB\"},children:[/*#__PURE__*/_jsx(List,{component:\"nav\",\"aria-label\":\"Device settings\",children:/*#__PURE__*/_jsx(ListItem,{button:true,\"aria-haspopup\":\"true\",\"aria-controls\":\"lock-menu\",\"aria-label\":\"Role\",onClick:handleClickListItem,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Role\",secondary:options[selectedIndex]})})}),/*#__PURE__*/_jsx(Menu,{id:\"lock-menu\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleClose,children:options.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{selected:index===selectedIndex,onClick:function onClick(event){return handleMenuItemClick(event,index);},children:option},option);})})]});};export default RoleDropDown;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/roleDropDown/roleDropDown.js"],"names":["React","useEffect","makeStyles","List","ListItem","ListItemText","MenuItem","Menu","useStyles","theme","root","backgroundColor","palette","background","paper","RoleDropDown","props","classes","useState","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","handleClickListItem","event","currentTarget","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","options","roles","indexOf","getItem","handleMenuItemClick","index","onChange","setItem","handleClose","Boolean","map","option"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGN,UAAU,CAAC,SAACO,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJC,eAAe,CAAEF,KAAK,CAACG,OAAN,CAAcC,UAAd,CAAyBC,KADtC,CADiC,CAAZ,EAAD,CAA5B,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CAD8B,oBAEER,KAAK,CAACkB,QAAN,CAAe,IAAf,CAFF,oDAEvBC,QAFuB,qBAEbC,WAFa,0CAGYpB,KAAK,CAACkB,QAAN,CAAe,CAAf,CAHZ,qDAGvBG,aAHuB,qBAGRC,gBAHQ,qBAI9B,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACrCJ,WAAW,CAACI,KAAK,CAACC,aAAP,CAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAGC,OAAO,CAAC,WAAD,CAAxB,CACA,GAAMC,CAAAA,aAAa,CAAGD,OAAO,CAAC,oBAAD,CAA7B,CACA,GAAIE,CAAAA,UAAU,CAAG,iBAAjB,CAEA,GAAIC,CAAAA,aAAa,CAAG,GAAIF,CAAAA,aAAJ,CAAkBG,YAAlB,CAAgC,CAChDC,IAAI,CAAE,QAASA,CAAAA,IAAT,CAAcC,GAAd,CAAmB,CACrBA,GAAG,CAAGP,QAAQ,CAACQ,MAAT,CAAgBD,GAAhB,CAAqBJ,UAArB,CAAN,CAEA,MAAOI,CAAAA,GAAG,CAACE,QAAJ,EAAP,CACH,CAL+C,CAMhDC,OAAO,CAAE,QAASA,CAAAA,OAAT,CAAiBC,IAAjB,CAAuB,CAC5BA,IAAI,CAAGX,QAAQ,CAACY,GAAT,CAAaF,OAAb,CAAqBC,IAArB,CAA2BR,UAA3B,CAAP,CAEAQ,IAAI,CAAGA,IAAI,CAACF,QAAL,EAAP,CAEA,MAAOE,CAAAA,IAAP,CACH,CAZ+C,CAahDE,OAAO,CAAE,QAASA,CAAAA,OAAT,CAAiBF,IAAjB,CAAuB,CAC5BA,IAAI,CAAGX,QAAQ,CAACY,GAAT,CAAaC,OAAb,CAAqBF,IAArB,CAA2BR,UAA3B,CAAP,CAEAQ,IAAI,CAAGA,IAAI,CAACF,QAAL,CAAcT,QAAQ,CAACc,GAAT,CAAaC,IAA3B,CAAP,CAEA,MAAOJ,CAAAA,IAAP,CACH,CAnB+C,CAAhC,CAApB,CAuBA,GAAIK,CAAAA,OAAO,CAAG,CAAC,MAAD,CAAd,CACA,GAAI1B,KAAK,CAAC2B,KAAV,CAAgB,CACdD,OAAO,CAAG1B,KAAK,CAAC2B,KAAhB,CACD,CAED1C,SAAS,CAAC,UAAI,CACZ,GAAIyC,OAAO,CAACE,OAAR,CAAgBd,aAAa,CAACe,OAAd,CAAsB,MAAtB,CAAhB,IAAmD,CAAC,CAAxD,CAA0D,CACxDvB,gBAAgB,CAACoB,OAAO,CAACE,OAAR,CAAgBd,aAAa,CAACe,OAAd,CAAsB,MAAtB,CAAhB,CAAD,CAAhB,CACD,CAFD,IAEK,CACHvB,gBAAgB,CAAC,CAAD,CAAhB,CACD,CACD;AACD,CAPQ,CAOP,CAACoB,OAAD,CAPO,CAAT,CASA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACtB,KAAD,CAAQuB,KAAR,CAAkB,CAC5CzB,gBAAgB,CAACyB,KAAD,CAAhB,CACA3B,WAAW,CAAC,IAAD,CAAX,CACAJ,KAAK,CAACgC,QAAN,CAAeN,OAAO,CAACK,KAAD,CAAtB,EACAjB,aAAa,CAACmB,OAAd,CAAsB,MAAtB,CAA8BP,OAAO,CAACK,KAAD,CAArC,EACD,CALD,CAOA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB9B,WAAW,CAAC,IAAD,CAAX,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAEH,OAAO,CAACP,IAAxB,CAA8B,KAAK,CAAE,CAACC,eAAe,CAAE,SAAlB,CAArC,wBACE,KAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,CAAsB,aAAW,iBAAjC,uBACE,KAAC,QAAD,EACE,MAAM,KADR,CAEE,gBAAc,MAFhB,CAGE,gBAAc,WAHhB,CAIE,aAAW,MAJb,CAKE,OAAO,CAAEY,mBALX,uBAOE,KAAC,YAAD,EAAc,OAAO,CAAC,MAAtB,CAA6B,SAAS,CAAEmB,OAAO,CAACrB,aAAD,CAA/C,EAPF,EADF,EADF,cAYE,KAAC,IAAD,EACE,EAAE,CAAC,WADL,CAEE,QAAQ,CAAEF,QAFZ,CAGE,WAAW,KAHb,CAIE,IAAI,CAAEgC,OAAO,CAAChC,QAAD,CAJf,CAKE,OAAO,CAAE+B,WALX,UAOGR,OAAO,CAACU,GAAR,CAAY,SAACC,MAAD,CAASN,KAAT,qBACX,KAAC,QAAD,EAEE,QAAQ,CAAEA,KAAK,GAAK1B,aAFtB,CAGE,OAAO,CAAE,iBAACG,KAAD,QAAWsB,CAAAA,mBAAmB,CAACtB,KAAD,CAAQuB,KAAR,CAA9B,EAHX,UAKGM,MALH,EACOA,MADP,CADW,EAAZ,CAPH,EAZF,GADF,CAgCD,CA5FD,CA8FA,cAAetC,CAAAA,YAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\n\r\nconst RoleDropDown = (props) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const handleClickListItem = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const CryptoJS = require(\"crypto-js\");\r\n  const SecureStorage = require(\"secure-web-storage\");\r\n  var SECRET_KEY = 'sanud2ha8shd72h';\r\n  \r\n  var secureStorage = new SecureStorage(localStorage, {\r\n      hash: function hash(key) {\r\n          key = CryptoJS.SHA256(key, SECRET_KEY);\r\n  \r\n          return key.toString();\r\n      },\r\n      encrypt: function encrypt(data) {\r\n          data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n  \r\n          data = data.toString();\r\n  \r\n          return data;\r\n      },\r\n      decrypt: function decrypt(data) {\r\n          data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n  \r\n          data = data.toString(CryptoJS.enc.Utf8);\r\n  \r\n          return data;\r\n      }\r\n    });\r\n\r\n\r\n  var options = [\"none\"]\r\n  if (props.roles){\r\n    options = props.roles;\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if (options.indexOf(secureStorage.getItem('role')) !== -1){\r\n      setSelectedIndex(options.indexOf(secureStorage.getItem('role')))\r\n    }else{\r\n      setSelectedIndex(0)\r\n    }\r\n    // eslint-disable-next-line\r\n  },[options])\r\n\r\n  const handleMenuItemClick = (event, index) => {\r\n    setSelectedIndex(index);\r\n    setAnchorEl(null);\r\n    props.onChange(options[index]);\r\n    secureStorage.setItem('role', options[index])\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} style={{backgroundColor: \"#F5F8FB\"}}>\r\n      <List component=\"nav\" aria-label=\"Device settings\">\r\n        <ListItem\r\n          button\r\n          aria-haspopup=\"true\"\r\n          aria-controls=\"lock-menu\"\r\n          aria-label=\"Role\"\r\n          onClick={handleClickListItem}\r\n        >\r\n          <ListItemText primary=\"Role\" secondary={options[selectedIndex]} />\r\n        </ListItem>\r\n      </List>\r\n      <Menu\r\n        id=\"lock-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {options.map((option, index) => (\r\n          <MenuItem\r\n            key={option}\r\n            selected={index === selectedIndex}\r\n            onClick={(event) => handleMenuItemClick(event, index)}\r\n          >\r\n            {option}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoleDropDown;"]},"metadata":{},"sourceType":"module"}