{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\isotracker-dev\\\\isotracker-react\\\\src\\\\components\\\\progressPlotCurve\\\\progressPlotCurve.js\";\nimport React from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProgressPlotCurve extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      pipesWeight: 0,\n      instsWeight: 0,\n      equisWeight: 0,\n      civilsWeight: 0,\n      elecsWeight: 0,\n      pipesPercentage: 0,\n      instsPercentage: 0,\n      equisPercentage: 0,\n      civilsPercentage: 0,\n      elecsPercentage: 0\n    };\n  }\n\n  async componentDidMount() {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/currentProgress\", options).then(response => response.json()).then(async json => {\n      await this.setState({\n        pipesWeight: json.weight\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/equipments/weight\", options).then(response => response.json()).then(async json => {\n      await this.setState({\n        equisWeight: json.weight\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/civils/weight\", options).then(response => response.json()).then(async json => {\n      await this.setState({\n        civilsWeight: json.weight\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/instrumentation/weight\", options).then(response => response.json()).then(async json => {\n      await this.setState({\n        instsWeight: json.weight\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/electrical/weight\", options).then(response => response.json()).then(async json => {\n      await this.setState({\n        elecsWeight: json.weight\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    await this.setState({\n      pipesPercentage: this.state.pipesWeight / ((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight) * 100).toFixed(2),\n      equisPercentage: this.state.equisWeight / ((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight) * 100).toFixed(2),\n      instsPercentage: this.state.instsWeight / ((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight) * 100).toFixed(2),\n      civilsPercentage: this.state.civilsWeight / ((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight) * 100).toFixed(2),\n      elecsPercentage: this.state.elecsWeight / ((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight) * 100).toFixed(2)\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/gcurve\", options).then(response => response.json()).then(async json => {\n      let weeks = [];\n\n      for (let i = 0; i < json.rows.length; i++) {\n        let progress = json.rows[i].progress_pipes * (this.state.pipesWeight / 100) + json.rows[i].progress_equis * (this.state.equisWeight / 100) + json.rows[i].progress_insts * (this.state.instsWeight / 100) + json.rows[i].progress_civils * (this.state.civilsWeight / 100) + json.rows[i].progress_elecs * (this.state.elecsWeight / 100);\n        let estimated = json.rows[i].estimated_pipes * (this.state.pipesWeight / 100) + json.rows[i].estimated_equis * (this.state.equisWeight / 100) + json.rows[i].estimated_insts * (this.state.instsWeight / 100) + json.rows[i].estimated_civils * (this.state.civilsWeight / 100) + json.rows[i].estimated_elecs * (this.state.elecsWeight / 100);\n        weeks.push({\n          name: \"W\" + json.rows[i].week,\n          estimated: estimated,\n          progress: progress\n        });\n      }\n\n      await this.setState({\n        data: weeks\n      });\n      console.log(this.state.data);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: \"6000%\",\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        width: 500,\n        height: 300,\n        data: this.state.data,\n        margin: {\n          top: 35,\n          right: 30,\n          left: 20,\n          bottom: -15\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          label: {\n            value: \"Progress(%)\",\n            position: \"insideLeft\",\n            angle: -90,\n            dy: 30\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"progress\",\n          stroke: \"blue\",\n          activeDot: {\n            r: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"estimated\",\n          stroke: \"red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 3\n    }, this);\n  }\n\n}\nProgressPlotCurve.demoUrl = 'https://codesandbox.io/s/simple-line-chart-kec3v';","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/progressPlotCurve/progressPlotCurve.js"],"names":["React","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ProgressPlotCurve","PureComponent","state","data","pipesWeight","instsWeight","equisWeight","civilsWeight","elecsWeight","pipesPercentage","instsPercentage","equisPercentage","civilsPercentage","elecsPercentage","componentDidMount","options","method","headers","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","setState","weight","catch","error","console","log","toFixed","weeks","i","rows","length","progress","progress_pipes","progress_equis","progress_insts","progress_civils","progress_elecs","estimated","estimated_pipes","estimated_equis","estimated_insts","estimated_civils","estimated_elecs","push","name","week","render","top","right","left","bottom","value","position","angle","dy","r","demoUrl"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\n  export default class ProgressPlotCurve extends React.PureComponent {\r\n\tstatic demoUrl = 'https://codesandbox.io/s/simple-line-chart-kec3v';\r\n\t\r\n\tstate = {\r\n\t\tdata: [],\r\n        pipesWeight: 0,\r\n        instsWeight: 0,\r\n        equisWeight: 0,\r\n        civilsWeight: 0,\r\n        elecsWeight: 0,\r\n        pipesPercentage: 0,\r\n        instsPercentage: 0,\r\n        equisPercentage: 0,\r\n        civilsPercentage: 0,\r\n        elecsPercentage: 0\r\n\t  };\r\n\r\n\r\n\tasync componentDidMount (){\r\n\r\n\t\tconst options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/currentProgress\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState({pipesWeight: json.weight})\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })   \r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/equipments/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState({equisWeight: json.weight})\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            }) \r\n            \r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/civils/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState({civilsWeight: json.weight})\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            }) \r\n            \r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/instrumentation/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState({instsWeight: json.weight})\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })   \r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/electrical/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState({elecsWeight: json.weight})\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })    \r\n\r\n        await this.setState({\r\n            pipesPercentage: this.state.pipesWeight/((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight)*100).toFixed(2),\r\n            equisPercentage: this.state.equisWeight/((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight)*100).toFixed(2),\r\n            instsPercentage: this.state.instsWeight/((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight)*100).toFixed(2),\r\n            civilsPercentage: this.state.civilsWeight/((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight)*100).toFixed(2),\r\n            elecsPercentage: this.state.elecsWeight/((this.state.pipesWeight + this.state.equisWeight + this.state.instsWeight + this.state.civilsWeight + this.state.elecsWeight)*100).toFixed(2)\r\n        })\r\n\r\n\t\tawait fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/gcurve\", options)\r\n\t\t.then(response => response.json())\r\n\t\t.then(async json=>{\r\n\t\t\tlet weeks = []\r\n\t\t\tfor(let i = 0; i < json.rows.length; i++){\r\n\t\t\t\tlet progress = json.rows[i].progress_pipes*(this.state.pipesWeight/100) + json.rows[i].progress_equis*(this.state.equisWeight/100) + json.rows[i].progress_insts*(this.state.instsWeight/100) + json.rows[i].progress_civils*(this.state.civilsWeight/100) + json.rows[i].progress_elecs*(this.state.elecsWeight/100)\r\n\t\t\t\tlet estimated = json.rows[i].estimated_pipes*(this.state.pipesWeight/100) + json.rows[i].estimated_equis*(this.state.equisWeight/100) + json.rows[i].estimated_insts*(this.state.instsWeight/100) + json.rows[i].estimated_civils*(this.state.civilsWeight/100) + json.rows[i].estimated_elecs*(this.state.elecsWeight/100)\r\n\t\t\t\tweeks.push({name: \"W\"+json.rows[i].week, estimated: estimated, progress: progress})\r\n            }\r\n\r\n\t\t\tawait this.setState({data: weeks})\r\n\t\t\tconsole.log(this.state.data)\r\n\t\t})\r\n\t}\r\n\t\r\n\r\n\trender() {\r\n\t  return (\r\n\t\t<ResponsiveContainer width=\"100%\" height=\"6000%\">\r\n\t\t  <LineChart\r\n\t\t\twidth={500}\r\n\t\t\theight={300}\r\n\t\t\tdata={this.state.data}\r\n\t\t\tmargin={{\r\n\t\t\t  top: 35,\r\n\t\t\t  right: 30,\r\n\t\t\t  left: 20,\r\n\t\t\t  bottom: -15,\r\n\t\t\t}}\r\n\t\t  >\r\n\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t<XAxis dataKey=\"name\" />\r\n\t\t\t<YAxis label={{ value: \"Progress(%)\", position: \"insideLeft\", angle: -90,   dy: 30}} />\r\n\t\t\t<Tooltip />\r\n\t\t\t<Legend />\r\n\t\t\t<Line type=\"monotone\" dataKey=\"progress\" stroke=\"blue\" activeDot={{ r: 8 }} />\r\n\t\t\t<Line type=\"monotone\" dataKey=\"estimated\" stroke=\"red\" />\r\n\t\t  </LineChart>\r\n\t\t</ResponsiveContainer>\r\n\t  );\r\n\t}\r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}