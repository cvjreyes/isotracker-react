{"ast":null,"code":"import \"core-js/modules/es.symbol\";\nimport \"core-js/modules/es.symbol.description\";\nimport \"core-js/modules/es.symbol.iterator\";\nimport \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.object.get-own-property-descriptor\";\nimport \"core-js/modules/es.object.get-prototype-of\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.reflect.construct\";\nimport \"core-js/modules/es.reflect.get\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport { TextEditor } from \"../textEditor/index.mjs\";\nimport { setCaretPosition } from \"../../helpers/dom/element.mjs\";\nimport { stopImmediatePropagation, isImmediatePropagationStopped } from \"../../helpers/dom/event.mjs\";\nimport { KEY_CODES } from \"../../helpers/unicode.mjs\";\nimport { extend } from \"../../helpers/object.mjs\";\nexport var EDITOR_TYPE = 'handsontable';\n/**\r\n * @private\r\n * @class HandsontableEditor\r\n */\n\nexport var HandsontableEditor = /*#__PURE__*/function (_TextEditor) {\n  _inherits(HandsontableEditor, _TextEditor);\n\n  var _super = _createSuper(HandsontableEditor);\n\n  function HandsontableEditor() {\n    _classCallCheck(this, HandsontableEditor);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HandsontableEditor, [{\n    key: \"open\",\n    value:\n    /**\r\n     * Opens the editor and adjust its size.\r\n     */\n    function open() {\n      // this.addHook('beforeKeyDown', event => this.onBeforeKeyDown(event));\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"open\", this).call(this);\n\n      if (this.htEditor) {\n        this.htEditor.destroy();\n      }\n\n      if (this.htContainer.style.display === 'none') {\n        this.htContainer.style.display = '';\n      } // Construct and initialise a new Handsontable\n\n\n      this.htEditor = new this.hot.constructor(this.htContainer, this.htOptions);\n      this.htEditor.init();\n      this.htEditor.rootElement.style.display = '';\n\n      if (this.cellProperties.strict) {\n        this.htEditor.selectCell(0, 0);\n      } else {\n        this.htEditor.deselectCell();\n      }\n\n      setCaretPosition(this.TEXTAREA, 0, this.TEXTAREA.value.length);\n    }\n    /**\r\n     * Closes the editor.\r\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.htEditor) {\n        this.htEditor.rootElement.style.display = 'none';\n      }\n\n      this.removeHooksByKey('beforeKeyDown');\n\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"close\", this).call(this);\n    }\n    /**\r\n     * Prepares editor's meta data and configuration of the internal Handsontable's instance.\r\n     *\r\n     * @param {number} row The visual row index.\r\n     * @param {number} col The visual column index.\r\n     * @param {number|string} prop The column property (passed when datasource is an array of objects).\r\n     * @param {HTMLTableCellElement} td The rendered cell element.\r\n     * @param {*} value The rendered value.\r\n     * @param {object} cellProperties The cell meta object ({@see Core#getCellMeta}).\r\n     */\n\n  }, {\n    key: \"prepare\",\n    value: function prepare(row, col, prop, td, value, cellProperties) {\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"prepare\", this).call(this, row, col, prop, td, value, cellProperties);\n\n      var parent = this;\n      var options = {\n        startRows: 0,\n        startCols: 0,\n        minRows: 0,\n        minCols: 0,\n        className: 'listbox',\n        copyPaste: false,\n        autoColumnSize: false,\n        autoRowSize: false,\n        readOnly: true,\n        fillHandle: false,\n        autoWrapCol: false,\n        autoWrapRow: false,\n        afterOnCellMouseDown: function afterOnCellMouseDown(_, coords) {\n          var sourceValue = this.getSourceData(coords.row, coords.col); // if the value is undefined then it means we don't want to set the value\n\n          if (sourceValue !== void 0) {\n            parent.setValue(sourceValue);\n          }\n\n          parent.instance.destroyEditor();\n        },\n        preventWheel: true\n      };\n\n      if (this.cellProperties.handsontable) {\n        extend(options, cellProperties.handsontable);\n      }\n\n      this.htOptions = options;\n    }\n    /**\r\n     * Begins editing on a highlighted cell and hides fillHandle corner if was present.\r\n     *\r\n     * @param {*} newInitialValue The editor initial value.\r\n     * @param {*} event The keyboard event object.\r\n     */\n\n  }, {\n    key: \"beginEditing\",\n    value: function beginEditing(newInitialValue, event) {\n      var onBeginEditing = this.hot.getSettings().onBeginEditing;\n\n      if (onBeginEditing && onBeginEditing() === false) {\n        return;\n      }\n\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"beginEditing\", this).call(this, newInitialValue, event);\n    }\n    /**\r\n     * Creates an editor's elements and adds necessary CSS classnames.\r\n     */\n\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"createElements\", this).call(this);\n\n      var DIV = this.hot.rootDocument.createElement('DIV');\n      DIV.className = 'handsontableEditor';\n      this.TEXTAREA_PARENT.appendChild(DIV);\n      this.htContainer = DIV;\n      this.assignHooks();\n    }\n    /**\r\n     * Finishes editing and start saving or restoring process for editing cell or last selected range.\r\n     *\r\n     * @param {boolean} restoreOriginalValue If true, then closes editor without saving value from the editor into a cell.\r\n     * @param {boolean} ctrlDown If true, then saveValue will save editor's value to each cell in the last selected range.\r\n     * @param {Function} callback The callback function, fired after editor closing.\r\n     */\n\n  }, {\n    key: \"finishEditing\",\n    value: function finishEditing(restoreOriginalValue, ctrlDown, callback) {\n      if (this.htEditor && this.htEditor.isListening()) {\n        // if focus is still in the HOT editor\n        this.hot.listen(); // return the focus to the parent HOT instance\n      }\n\n      if (this.htEditor && this.htEditor.getSelectedLast()) {\n        var value = this.htEditor.getInstance().getValue();\n\n        if (value !== void 0) {\n          // if the value is undefined then it means we don't want to set the value\n          this.setValue(value);\n        }\n      }\n\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"finishEditing\", this).call(this, restoreOriginalValue, ctrlDown, callback);\n    }\n    /**\r\n     * Assings afterDestroy callback to prevent memory leaks.\r\n     *\r\n     * @private\r\n     */\n\n  }, {\n    key: \"assignHooks\",\n    value: function assignHooks() {\n      var _this = this;\n\n      this.hot.addHook('afterDestroy', function () {\n        if (_this.htEditor) {\n          _this.htEditor.destroy();\n        }\n      });\n    }\n    /**\r\n     * OnBeforeKeyDown callback.\r\n     *\r\n     * @private\r\n     * @param {Event} event The keyboard event object.\r\n     */\n\n  }, {\n    key: \"onBeforeKeyDown\",\n    value: function onBeforeKeyDown(event) {\n      if (isImmediatePropagationStopped(event)) {\n        return;\n      }\n\n      var innerHOT = this.htEditor.getInstance();\n      var rowToSelect;\n      var selectedRow;\n\n      if (event.keyCode === KEY_CODES.ARROW_DOWN) {\n        if (!innerHOT.getSelectedLast() && !innerHOT.flipped) {\n          rowToSelect = 0;\n        } else if (innerHOT.getSelectedLast()) {\n          if (innerHOT.flipped) {\n            rowToSelect = innerHOT.getSelectedLast()[0] + 1;\n          } else if (!innerHOT.flipped) {\n            var lastRow = innerHOT.countRows() - 1;\n            selectedRow = innerHOT.getSelectedLast()[0];\n            rowToSelect = Math.min(lastRow, selectedRow + 1);\n          }\n        }\n      } else if (event.keyCode === KEY_CODES.ARROW_UP) {\n        if (!innerHOT.getSelectedLast() && innerHOT.flipped) {\n          rowToSelect = innerHOT.countRows() - 1;\n        } else if (innerHOT.getSelectedLast()) {\n          if (innerHOT.flipped) {\n            selectedRow = innerHOT.getSelectedLast()[0];\n            rowToSelect = Math.max(0, selectedRow - 1);\n          } else {\n            selectedRow = innerHOT.getSelectedLast()[0];\n            rowToSelect = selectedRow - 1;\n          }\n        }\n      }\n\n      if (rowToSelect !== void 0) {\n        if (rowToSelect < 0 || innerHOT.flipped && rowToSelect > innerHOT.countRows() - 1) {\n          innerHOT.deselectCell();\n        } else {\n          innerHOT.selectCell(rowToSelect, 0);\n        }\n\n        if (innerHOT.getData().length) {\n          event.preventDefault();\n          stopImmediatePropagation(event);\n          this.hot.listen();\n          this.TEXTAREA.focus();\n        }\n      }\n\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\n    }\n  }], [{\n    key: \"EDITOR_TYPE\",\n    get: function get() {\n      return EDITOR_TYPE;\n    }\n  }]);\n\n  return HandsontableEditor;\n}(TextEditor);","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/editors/handsontableEditor/handsontableEditor.mjs"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","call","value","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","TextEditor","setCaretPosition","stopImmediatePropagation","isImmediatePropagationStopped","KEY_CODES","extend","EDITOR_TYPE","HandsontableEditor","_TextEditor","_super","open","htEditor","destroy","htContainer","style","display","hot","htOptions","init","rootElement","cellProperties","strict","selectCell","deselectCell","TEXTAREA","close","removeHooksByKey","prepare","row","col","prop","td","parent","options","startRows","startCols","minRows","minCols","className","copyPaste","autoColumnSize","autoRowSize","readOnly","fillHandle","autoWrapCol","autoWrapRow","afterOnCellMouseDown","_","coords","sourceValue","getSourceData","setValue","destroyEditor","preventWheel","handsontable","beginEditing","newInitialValue","event","onBeginEditing","getSettings","createElements","DIV","rootDocument","createElement","TEXTAREA_PARENT","appendChild","assignHooks","finishEditing","restoreOriginalValue","ctrlDown","callback","isListening","listen","getSelectedLast","getInstance","getValue","_this","addHook","onBeforeKeyDown","innerHOT","rowToSelect","selectedRow","keyCode","ARROW_DOWN","flipped","lastRow","countRows","Math","min","ARROW_UP","max","getData","preventDefault","focus"],"mappings":";;;;;;;;;;;;AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE;;AAA2B,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAe1X,SAASK,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,QAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BC,IAAAA,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BI,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;AAA4D;AAAE;;AAE7T,SAASO,YAAT,CAAsBd,WAAtB,EAAmCe,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBb,iBAAiB,CAACF,WAAW,CAACH,SAAb,EAAwBkB,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBd,iBAAiB,CAACF,WAAD,EAAcgB,WAAd,CAAjB;AAA6C,SAAOhB,WAAP;AAAqB;;AAEvN,SAASiB,IAAT,CAAcd,MAAd,EAAsBe,QAAtB,EAAgCC,QAAhC,EAA0C;AAAE,MAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,CAACC,GAA9C,EAAmD;AAAEJ,IAAAA,IAAI,GAAGG,OAAO,CAACC,GAAf;AAAqB,GAA1E,MAAgF;AAAEJ,IAAAA,IAAI,GAAG,SAASA,IAAT,CAAcd,MAAd,EAAsBe,QAAtB,EAAgCC,QAAhC,EAA0C;AAAE,UAAIG,IAAI,GAAGC,cAAc,CAACpB,MAAD,EAASe,QAAT,CAAzB;;AAA6C,UAAI,CAACI,IAAL,EAAW;AAAQ,UAAIE,IAAI,GAAGb,MAAM,CAACc,wBAAP,CAAgCH,IAAhC,EAAsCJ,QAAtC,CAAX;;AAA4D,UAAIM,IAAI,CAACH,GAAT,EAAc;AAAE,eAAOG,IAAI,CAACH,GAAL,CAASK,IAAT,CAAcP,QAAd,CAAP;AAAiC;;AAAC,aAAOK,IAAI,CAACG,KAAZ;AAAoB,KAArP;AAAwP;;AAAC,SAAOV,IAAI,CAACd,MAAD,EAASe,QAAT,EAAmBC,QAAQ,IAAIhB,MAA/B,CAAX;AAAoD;;AAE3a,SAASoB,cAAT,CAAwBK,MAAxB,EAAgCV,QAAhC,EAA0C;AAAE,SAAO,CAACP,MAAM,CAACd,SAAP,CAAiBgC,cAAjB,CAAgCH,IAAhC,CAAqCE,MAArC,EAA6CV,QAA7C,CAAR,EAAgE;AAAEU,IAAAA,MAAM,GAAGE,eAAe,CAACF,MAAD,CAAxB;AAAkC,QAAIA,MAAM,KAAK,IAAf,EAAqB;AAAQ;;AAAC,SAAOA,MAAP;AAAgB;;AAE9L,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIhC,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAAC+B,EAAAA,QAAQ,CAACnC,SAAT,GAAqBc,MAAM,CAACuB,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACpC,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAE+B,MAAAA,KAAK,EAAEK,QAAT;AAAmBtB,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIwB,UAAJ,EAAgBE,eAAe,CAACH,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASE,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAAEF,EAAAA,eAAe,GAAGxB,MAAM,CAAC2B,cAAP,IAAyB,SAASH,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAAED,IAAAA,CAAC,CAACG,SAAF,GAAcF,CAAd;AAAiB,WAAOD,CAAP;AAAW,GAAxG;;AAA0G,SAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;AAA+B;;AAE1K,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAGf,eAAe,CAACW,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGjB,eAAe,CAAC,IAAD,CAAf,CAAsBlC,WAAtC;;AAAmDkD,MAAAA,MAAM,GAAG1B,OAAO,CAAC4B,SAAR,CAAkBH,KAAlB,EAAyBI,SAAzB,EAAoCF,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACK,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AAAwC;;AAAC,WAAOE,0BAA0B,CAAC,IAAD,EAAOL,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASK,0BAAT,CAAoCC,IAApC,EAA0C1B,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAKlC,OAAO,CAACkC,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAO2B,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASC,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOF,IAAP;AAAc;;AAEtK,SAAST,yBAAT,GAAqC;AAAE,MAAI,OAAOvB,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAAC4B,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAI5B,OAAO,CAAC4B,SAAR,CAAkBO,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,OAAO,CAAC5D,SAAR,CAAkB6D,OAAlB,CAA0BhC,IAA1B,CAA+BN,OAAO,CAAC4B,SAAR,CAAkBS,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;AAAgF,WAAO,IAAP;AAAc,GAApG,CAAqG,OAAOE,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AAEzU,SAAS7B,eAAT,CAAyBM,CAAzB,EAA4B;AAAEN,EAAAA,eAAe,GAAGnB,MAAM,CAAC2B,cAAP,GAAwB3B,MAAM,CAACiD,cAA/B,GAAgD,SAAS9B,eAAT,CAAyBM,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAe5B,MAAM,CAACiD,cAAP,CAAsBxB,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAON,eAAe,CAACM,CAAD,CAAtB;AAA4B;;AAE7M,SAASyB,UAAT,QAA2B,yBAA3B;AACA,SAASC,gBAAT,QAAiC,+BAAjC;AACA,SAASC,wBAAT,EAAmCC,6BAAnC,QAAwE,6BAAxE;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAO,IAAIC,WAAW,GAAG,cAAlB;AACP;AACA;AACA;AACA;;AAEA,OAAO,IAAIC,kBAAkB,GAAG,aAAa,UAAUC,WAAV,EAAuB;AAClEtC,EAAAA,SAAS,CAACqC,kBAAD,EAAqBC,WAArB,CAAT;;AAEA,MAAIC,MAAM,GAAG9B,YAAY,CAAC4B,kBAAD,CAAzB;;AAEA,WAASA,kBAAT,GAA8B;AAC5BtE,IAAAA,eAAe,CAAC,IAAD,EAAOsE,kBAAP,CAAf;;AAEA,WAAOE,MAAM,CAACpB,KAAP,CAAa,IAAb,EAAmBD,SAAnB,CAAP;AACD;;AAEDnC,EAAAA,YAAY,CAACsD,kBAAD,EAAqB,CAAC;AAChCvD,IAAAA,GAAG,EAAE,MAD2B;AAEhCc,IAAAA,KAAK;AACL;AACJ;AACA;AACI,aAAS4C,IAAT,GAAgB;AACd;AACAtD,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,MAAhD,EAAwD,IAAxD,CAAJ,CAAkE6B,IAAlE,CAAuE,IAAvE;;AAEA,UAAI,KAAK8C,QAAT,EAAmB;AACjB,aAAKA,QAAL,CAAcC,OAAd;AACD;;AAED,UAAI,KAAKC,WAAL,CAAiBC,KAAjB,CAAuBC,OAAvB,KAAmC,MAAvC,EAA+C;AAC7C,aAAKF,WAAL,CAAiBC,KAAjB,CAAuBC,OAAvB,GAAiC,EAAjC;AACD,OAVa,CAUZ;;;AAGF,WAAKJ,QAAL,GAAgB,IAAI,KAAKK,GAAL,CAASjF,WAAb,CAAyB,KAAK8E,WAA9B,EAA2C,KAAKI,SAAhD,CAAhB;AACA,WAAKN,QAAL,CAAcO,IAAd;AACA,WAAKP,QAAL,CAAcQ,WAAd,CAA0BL,KAA1B,CAAgCC,OAAhC,GAA0C,EAA1C;;AAEA,UAAI,KAAKK,cAAL,CAAoBC,MAAxB,EAAgC;AAC9B,aAAKV,QAAL,CAAcW,UAAd,CAAyB,CAAzB,EAA4B,CAA5B;AACD,OAFD,MAEO;AACL,aAAKX,QAAL,CAAcY,YAAd;AACD;;AAEDtB,MAAAA,gBAAgB,CAAC,KAAKuB,QAAN,EAAgB,CAAhB,EAAmB,KAAKA,QAAL,CAAc1D,KAAd,CAAoBrB,MAAvC,CAAhB;AACD;AACD;AACJ;AACA;;AAjCoC,GAAD,EAmC9B;AACDO,IAAAA,GAAG,EAAE,OADJ;AAEDc,IAAAA,KAAK,EAAE,SAAS2D,KAAT,GAAiB;AACtB,UAAI,KAAKd,QAAT,EAAmB;AACjB,aAAKA,QAAL,CAAcQ,WAAd,CAA0BL,KAA1B,CAAgCC,OAAhC,GAA0C,MAA1C;AACD;;AAED,WAAKW,gBAAL,CAAsB,eAAtB;;AAEAtE,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,OAAhD,EAAyD,IAAzD,CAAJ,CAAmE6B,IAAnE,CAAwE,IAAxE;AACD;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApBK,GAnC8B,EAyD9B;AACDb,IAAAA,GAAG,EAAE,SADJ;AAEDc,IAAAA,KAAK,EAAE,SAAS6D,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiCC,EAAjC,EAAqCjE,KAArC,EAA4CsD,cAA5C,EAA4D;AACjEhE,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,SAAhD,EAA2D,IAA3D,CAAJ,CAAqE6B,IAArE,CAA0E,IAA1E,EAAgF+D,GAAhF,EAAqFC,GAArF,EAA0FC,IAA1F,EAAgGC,EAAhG,EAAoGjE,KAApG,EAA2GsD,cAA3G;;AAEA,UAAIY,MAAM,GAAG,IAAb;AACA,UAAIC,OAAO,GAAG;AACZC,QAAAA,SAAS,EAAE,CADC;AAEZC,QAAAA,SAAS,EAAE,CAFC;AAGZC,QAAAA,OAAO,EAAE,CAHG;AAIZC,QAAAA,OAAO,EAAE,CAJG;AAKZC,QAAAA,SAAS,EAAE,SALC;AAMZC,QAAAA,SAAS,EAAE,KANC;AAOZC,QAAAA,cAAc,EAAE,KAPJ;AAQZC,QAAAA,WAAW,EAAE,KARD;AASZC,QAAAA,QAAQ,EAAE,IATE;AAUZC,QAAAA,UAAU,EAAE,KAVA;AAWZC,QAAAA,WAAW,EAAE,KAXD;AAYZC,QAAAA,WAAW,EAAE,KAZD;AAaZC,QAAAA,oBAAoB,EAAE,SAASA,oBAAT,CAA8BC,CAA9B,EAAiCC,MAAjC,EAAyC;AAC7D,cAAIC,WAAW,GAAG,KAAKC,aAAL,CAAmBF,MAAM,CAACpB,GAA1B,EAA+BoB,MAAM,CAACnB,GAAtC,CAAlB,CAD6D,CACC;;AAE9D,cAAIoB,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAC1BjB,YAAAA,MAAM,CAACmB,QAAP,CAAgBF,WAAhB;AACD;;AAEDjB,UAAAA,MAAM,CAAC9F,QAAP,CAAgBkH,aAAhB;AACD,SArBW;AAsBZC,QAAAA,YAAY,EAAE;AAtBF,OAAd;;AAyBA,UAAI,KAAKjC,cAAL,CAAoBkC,YAAxB,EAAsC;AACpCjD,QAAAA,MAAM,CAAC4B,OAAD,EAAUb,cAAc,CAACkC,YAAzB,CAAN;AACD;;AAED,WAAKrC,SAAL,GAAiBgB,OAAjB;AACD;AACD;AACJ;AACA;AACA;AACA;AACA;;AA1CK,GAzD8B,EAqG9B;AACDjF,IAAAA,GAAG,EAAE,cADJ;AAEDc,IAAAA,KAAK,EAAE,SAASyF,YAAT,CAAsBC,eAAtB,EAAuCC,KAAvC,EAA8C;AACnD,UAAIC,cAAc,GAAG,KAAK1C,GAAL,CAAS2C,WAAT,GAAuBD,cAA5C;;AAEA,UAAIA,cAAc,IAAIA,cAAc,OAAO,KAA3C,EAAkD;AAChD;AACD;;AAEDtG,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,cAAhD,EAAgE,IAAhE,CAAJ,CAA0E6B,IAA1E,CAA+E,IAA/E,EAAqF2F,eAArF,EAAsGC,KAAtG;AACD;AACD;AACJ;AACA;;AAbK,GArG8B,EAoH9B;AACDzG,IAAAA,GAAG,EAAE,gBADJ;AAEDc,IAAAA,KAAK,EAAE,SAAS8F,cAAT,GAA0B;AAC/BxG,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,gBAAhD,EAAkE,IAAlE,CAAJ,CAA4E6B,IAA5E,CAAiF,IAAjF;;AAEA,UAAIgG,GAAG,GAAG,KAAK7C,GAAL,CAAS8C,YAAT,CAAsBC,aAAtB,CAAoC,KAApC,CAAV;AACAF,MAAAA,GAAG,CAACvB,SAAJ,GAAgB,oBAAhB;AACA,WAAK0B,eAAL,CAAqBC,WAArB,CAAiCJ,GAAjC;AACA,WAAKhD,WAAL,GAAmBgD,GAAnB;AACA,WAAKK,WAAL;AACD;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;;AAjBK,GApH8B,EAuI9B;AACDlH,IAAAA,GAAG,EAAE,eADJ;AAEDc,IAAAA,KAAK,EAAE,SAASqG,aAAT,CAAuBC,oBAAvB,EAA6CC,QAA7C,EAAuDC,QAAvD,EAAiE;AACtE,UAAI,KAAK3D,QAAL,IAAiB,KAAKA,QAAL,CAAc4D,WAAd,EAArB,EAAkD;AAChD;AACA,aAAKvD,GAAL,CAASwD,MAAT,GAFgD,CAE7B;AACpB;;AAED,UAAI,KAAK7D,QAAL,IAAiB,KAAKA,QAAL,CAAc8D,eAAd,EAArB,EAAsD;AACpD,YAAI3G,KAAK,GAAG,KAAK6C,QAAL,CAAc+D,WAAd,GAA4BC,QAA5B,EAAZ;;AAEA,YAAI7G,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpB;AACA,eAAKqF,QAAL,CAAcrF,KAAd;AACD;AACF;;AAEDV,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,eAAhD,EAAiE,IAAjE,CAAJ,CAA2E6B,IAA3E,CAAgF,IAAhF,EAAsFuG,oBAAtF,EAA4GC,QAA5G,EAAsHC,QAAtH;AACD;AACD;AACJ;AACA;AACA;AACA;;AAvBK,GAvI8B,EAgK9B;AACDtH,IAAAA,GAAG,EAAE,aADJ;AAEDc,IAAAA,KAAK,EAAE,SAASoG,WAAT,GAAuB;AAC5B,UAAIU,KAAK,GAAG,IAAZ;;AAEA,WAAK5D,GAAL,CAAS6D,OAAT,CAAiB,cAAjB,EAAiC,YAAY;AAC3C,YAAID,KAAK,CAACjE,QAAV,EAAoB;AAClBiE,UAAAA,KAAK,CAACjE,QAAN,CAAeC,OAAf;AACD;AACF,OAJD;AAKD;AACD;AACJ;AACA;AACA;AACA;AACA;;AAhBK,GAhK8B,EAkL9B;AACD5D,IAAAA,GAAG,EAAE,iBADJ;AAEDc,IAAAA,KAAK,EAAE,SAASgH,eAAT,CAAyBrB,KAAzB,EAAgC;AACrC,UAAItD,6BAA6B,CAACsD,KAAD,CAAjC,EAA0C;AACxC;AACD;;AAED,UAAIsB,QAAQ,GAAG,KAAKpE,QAAL,CAAc+D,WAAd,EAAf;AACA,UAAIM,WAAJ;AACA,UAAIC,WAAJ;;AAEA,UAAIxB,KAAK,CAACyB,OAAN,KAAkB9E,SAAS,CAAC+E,UAAhC,EAA4C;AAC1C,YAAI,CAACJ,QAAQ,CAACN,eAAT,EAAD,IAA+B,CAACM,QAAQ,CAACK,OAA7C,EAAsD;AACpDJ,UAAAA,WAAW,GAAG,CAAd;AACD,SAFD,MAEO,IAAID,QAAQ,CAACN,eAAT,EAAJ,EAAgC;AACrC,cAAIM,QAAQ,CAACK,OAAb,EAAsB;AACpBJ,YAAAA,WAAW,GAAGD,QAAQ,CAACN,eAAT,GAA2B,CAA3B,IAAgC,CAA9C;AACD,WAFD,MAEO,IAAI,CAACM,QAAQ,CAACK,OAAd,EAAuB;AAC5B,gBAAIC,OAAO,GAAGN,QAAQ,CAACO,SAAT,KAAuB,CAArC;AACAL,YAAAA,WAAW,GAAGF,QAAQ,CAACN,eAAT,GAA2B,CAA3B,CAAd;AACAO,YAAAA,WAAW,GAAGO,IAAI,CAACC,GAAL,CAASH,OAAT,EAAkBJ,WAAW,GAAG,CAAhC,CAAd;AACD;AACF;AACF,OAZD,MAYO,IAAIxB,KAAK,CAACyB,OAAN,KAAkB9E,SAAS,CAACqF,QAAhC,EAA0C;AAC/C,YAAI,CAACV,QAAQ,CAACN,eAAT,EAAD,IAA+BM,QAAQ,CAACK,OAA5C,EAAqD;AACnDJ,UAAAA,WAAW,GAAGD,QAAQ,CAACO,SAAT,KAAuB,CAArC;AACD,SAFD,MAEO,IAAIP,QAAQ,CAACN,eAAT,EAAJ,EAAgC;AACrC,cAAIM,QAAQ,CAACK,OAAb,EAAsB;AACpBH,YAAAA,WAAW,GAAGF,QAAQ,CAACN,eAAT,GAA2B,CAA3B,CAAd;AACAO,YAAAA,WAAW,GAAGO,IAAI,CAACG,GAAL,CAAS,CAAT,EAAYT,WAAW,GAAG,CAA1B,CAAd;AACD,WAHD,MAGO;AACLA,YAAAA,WAAW,GAAGF,QAAQ,CAACN,eAAT,GAA2B,CAA3B,CAAd;AACAO,YAAAA,WAAW,GAAGC,WAAW,GAAG,CAA5B;AACD;AACF;AACF;;AAED,UAAID,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAC1B,YAAIA,WAAW,GAAG,CAAd,IAAmBD,QAAQ,CAACK,OAAT,IAAoBJ,WAAW,GAAGD,QAAQ,CAACO,SAAT,KAAuB,CAAhF,EAAmF;AACjFP,UAAAA,QAAQ,CAACxD,YAAT;AACD,SAFD,MAEO;AACLwD,UAAAA,QAAQ,CAACzD,UAAT,CAAoB0D,WAApB,EAAiC,CAAjC;AACD;;AAED,YAAID,QAAQ,CAACY,OAAT,GAAmBlJ,MAAvB,EAA+B;AAC7BgH,UAAAA,KAAK,CAACmC,cAAN;AACA1F,UAAAA,wBAAwB,CAACuD,KAAD,CAAxB;AACA,eAAKzC,GAAL,CAASwD,MAAT;AACA,eAAKhD,QAAL,CAAcqE,KAAd;AACD;AACF;;AAEDzI,MAAAA,IAAI,CAACa,eAAe,CAACsC,kBAAkB,CAACvE,SAApB,CAAhB,EAAgD,iBAAhD,EAAmE,IAAnE,CAAJ,CAA6E6B,IAA7E,CAAkF,IAAlF,EAAwF4F,KAAxF;AACD;AArDA,GAlL8B,CAArB,EAwOR,CAAC;AACHzG,IAAAA,GAAG,EAAE,aADF;AAEHQ,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO8C,WAAP;AACD;AAJE,GAAD,CAxOQ,CAAZ;;AA+OA,SAAOC,kBAAP;AACD,CA3P4C,CA2P3CP,UA3P2C,CAAtC","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\nimport \"core-js/modules/es.object.set-prototype-of.js\";\r\nimport \"core-js/modules/es.object.get-prototype-of.js\";\r\nimport \"core-js/modules/es.reflect.construct.js\";\r\nimport \"core-js/modules/es.reflect.get.js\";\r\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\r\nimport \"core-js/modules/es.symbol.js\";\r\nimport \"core-js/modules/es.symbol.description.js\";\r\nimport \"core-js/modules/es.object.to-string.js\";\r\nimport \"core-js/modules/es.symbol.iterator.js\";\r\nimport \"core-js/modules/es.array.iterator.js\";\r\nimport \"core-js/modules/es.string.iterator.js\";\r\nimport \"core-js/modules/web.dom-collections.iterator.js\";\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\r\n\r\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\r\n\r\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\r\n\r\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\r\n\r\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\r\n\r\nimport { TextEditor } from \"../textEditor/index.mjs\";\r\nimport { setCaretPosition } from \"../../helpers/dom/element.mjs\";\r\nimport { stopImmediatePropagation, isImmediatePropagationStopped } from \"../../helpers/dom/event.mjs\";\r\nimport { KEY_CODES } from \"../../helpers/unicode.mjs\";\r\nimport { extend } from \"../../helpers/object.mjs\";\r\nexport var EDITOR_TYPE = 'handsontable';\r\n/**\r\n * @private\r\n * @class HandsontableEditor\r\n */\r\n\r\nexport var HandsontableEditor = /*#__PURE__*/function (_TextEditor) {\r\n  _inherits(HandsontableEditor, _TextEditor);\r\n\r\n  var _super = _createSuper(HandsontableEditor);\r\n\r\n  function HandsontableEditor() {\r\n    _classCallCheck(this, HandsontableEditor);\r\n\r\n    return _super.apply(this, arguments);\r\n  }\r\n\r\n  _createClass(HandsontableEditor, [{\r\n    key: \"open\",\r\n    value:\r\n    /**\r\n     * Opens the editor and adjust its size.\r\n     */\r\n    function open() {\r\n      // this.addHook('beforeKeyDown', event => this.onBeforeKeyDown(event));\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"open\", this).call(this);\r\n\r\n      if (this.htEditor) {\r\n        this.htEditor.destroy();\r\n      }\r\n\r\n      if (this.htContainer.style.display === 'none') {\r\n        this.htContainer.style.display = '';\r\n      } // Construct and initialise a new Handsontable\r\n\r\n\r\n      this.htEditor = new this.hot.constructor(this.htContainer, this.htOptions);\r\n      this.htEditor.init();\r\n      this.htEditor.rootElement.style.display = '';\r\n\r\n      if (this.cellProperties.strict) {\r\n        this.htEditor.selectCell(0, 0);\r\n      } else {\r\n        this.htEditor.deselectCell();\r\n      }\r\n\r\n      setCaretPosition(this.TEXTAREA, 0, this.TEXTAREA.value.length);\r\n    }\r\n    /**\r\n     * Closes the editor.\r\n     */\r\n\r\n  }, {\r\n    key: \"close\",\r\n    value: function close() {\r\n      if (this.htEditor) {\r\n        this.htEditor.rootElement.style.display = 'none';\r\n      }\r\n\r\n      this.removeHooksByKey('beforeKeyDown');\r\n\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"close\", this).call(this);\r\n    }\r\n    /**\r\n     * Prepares editor's meta data and configuration of the internal Handsontable's instance.\r\n     *\r\n     * @param {number} row The visual row index.\r\n     * @param {number} col The visual column index.\r\n     * @param {number|string} prop The column property (passed when datasource is an array of objects).\r\n     * @param {HTMLTableCellElement} td The rendered cell element.\r\n     * @param {*} value The rendered value.\r\n     * @param {object} cellProperties The cell meta object ({@see Core#getCellMeta}).\r\n     */\r\n\r\n  }, {\r\n    key: \"prepare\",\r\n    value: function prepare(row, col, prop, td, value, cellProperties) {\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"prepare\", this).call(this, row, col, prop, td, value, cellProperties);\r\n\r\n      var parent = this;\r\n      var options = {\r\n        startRows: 0,\r\n        startCols: 0,\r\n        minRows: 0,\r\n        minCols: 0,\r\n        className: 'listbox',\r\n        copyPaste: false,\r\n        autoColumnSize: false,\r\n        autoRowSize: false,\r\n        readOnly: true,\r\n        fillHandle: false,\r\n        autoWrapCol: false,\r\n        autoWrapRow: false,\r\n        afterOnCellMouseDown: function afterOnCellMouseDown(_, coords) {\r\n          var sourceValue = this.getSourceData(coords.row, coords.col); // if the value is undefined then it means we don't want to set the value\r\n\r\n          if (sourceValue !== void 0) {\r\n            parent.setValue(sourceValue);\r\n          }\r\n\r\n          parent.instance.destroyEditor();\r\n        },\r\n        preventWheel: true\r\n      };\r\n\r\n      if (this.cellProperties.handsontable) {\r\n        extend(options, cellProperties.handsontable);\r\n      }\r\n\r\n      this.htOptions = options;\r\n    }\r\n    /**\r\n     * Begins editing on a highlighted cell and hides fillHandle corner if was present.\r\n     *\r\n     * @param {*} newInitialValue The editor initial value.\r\n     * @param {*} event The keyboard event object.\r\n     */\r\n\r\n  }, {\r\n    key: \"beginEditing\",\r\n    value: function beginEditing(newInitialValue, event) {\r\n      var onBeginEditing = this.hot.getSettings().onBeginEditing;\r\n\r\n      if (onBeginEditing && onBeginEditing() === false) {\r\n        return;\r\n      }\r\n\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"beginEditing\", this).call(this, newInitialValue, event);\r\n    }\r\n    /**\r\n     * Creates an editor's elements and adds necessary CSS classnames.\r\n     */\r\n\r\n  }, {\r\n    key: \"createElements\",\r\n    value: function createElements() {\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"createElements\", this).call(this);\r\n\r\n      var DIV = this.hot.rootDocument.createElement('DIV');\r\n      DIV.className = 'handsontableEditor';\r\n      this.TEXTAREA_PARENT.appendChild(DIV);\r\n      this.htContainer = DIV;\r\n      this.assignHooks();\r\n    }\r\n    /**\r\n     * Finishes editing and start saving or restoring process for editing cell or last selected range.\r\n     *\r\n     * @param {boolean} restoreOriginalValue If true, then closes editor without saving value from the editor into a cell.\r\n     * @param {boolean} ctrlDown If true, then saveValue will save editor's value to each cell in the last selected range.\r\n     * @param {Function} callback The callback function, fired after editor closing.\r\n     */\r\n\r\n  }, {\r\n    key: \"finishEditing\",\r\n    value: function finishEditing(restoreOriginalValue, ctrlDown, callback) {\r\n      if (this.htEditor && this.htEditor.isListening()) {\r\n        // if focus is still in the HOT editor\r\n        this.hot.listen(); // return the focus to the parent HOT instance\r\n      }\r\n\r\n      if (this.htEditor && this.htEditor.getSelectedLast()) {\r\n        var value = this.htEditor.getInstance().getValue();\r\n\r\n        if (value !== void 0) {\r\n          // if the value is undefined then it means we don't want to set the value\r\n          this.setValue(value);\r\n        }\r\n      }\r\n\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"finishEditing\", this).call(this, restoreOriginalValue, ctrlDown, callback);\r\n    }\r\n    /**\r\n     * Assings afterDestroy callback to prevent memory leaks.\r\n     *\r\n     * @private\r\n     */\r\n\r\n  }, {\r\n    key: \"assignHooks\",\r\n    value: function assignHooks() {\r\n      var _this = this;\r\n\r\n      this.hot.addHook('afterDestroy', function () {\r\n        if (_this.htEditor) {\r\n          _this.htEditor.destroy();\r\n        }\r\n      });\r\n    }\r\n    /**\r\n     * OnBeforeKeyDown callback.\r\n     *\r\n     * @private\r\n     * @param {Event} event The keyboard event object.\r\n     */\r\n\r\n  }, {\r\n    key: \"onBeforeKeyDown\",\r\n    value: function onBeforeKeyDown(event) {\r\n      if (isImmediatePropagationStopped(event)) {\r\n        return;\r\n      }\r\n\r\n      var innerHOT = this.htEditor.getInstance();\r\n      var rowToSelect;\r\n      var selectedRow;\r\n\r\n      if (event.keyCode === KEY_CODES.ARROW_DOWN) {\r\n        if (!innerHOT.getSelectedLast() && !innerHOT.flipped) {\r\n          rowToSelect = 0;\r\n        } else if (innerHOT.getSelectedLast()) {\r\n          if (innerHOT.flipped) {\r\n            rowToSelect = innerHOT.getSelectedLast()[0] + 1;\r\n          } else if (!innerHOT.flipped) {\r\n            var lastRow = innerHOT.countRows() - 1;\r\n            selectedRow = innerHOT.getSelectedLast()[0];\r\n            rowToSelect = Math.min(lastRow, selectedRow + 1);\r\n          }\r\n        }\r\n      } else if (event.keyCode === KEY_CODES.ARROW_UP) {\r\n        if (!innerHOT.getSelectedLast() && innerHOT.flipped) {\r\n          rowToSelect = innerHOT.countRows() - 1;\r\n        } else if (innerHOT.getSelectedLast()) {\r\n          if (innerHOT.flipped) {\r\n            selectedRow = innerHOT.getSelectedLast()[0];\r\n            rowToSelect = Math.max(0, selectedRow - 1);\r\n          } else {\r\n            selectedRow = innerHOT.getSelectedLast()[0];\r\n            rowToSelect = selectedRow - 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (rowToSelect !== void 0) {\r\n        if (rowToSelect < 0 || innerHOT.flipped && rowToSelect > innerHOT.countRows() - 1) {\r\n          innerHOT.deselectCell();\r\n        } else {\r\n          innerHOT.selectCell(rowToSelect, 0);\r\n        }\r\n\r\n        if (innerHOT.getData().length) {\r\n          event.preventDefault();\r\n          stopImmediatePropagation(event);\r\n          this.hot.listen();\r\n          this.TEXTAREA.focus();\r\n        }\r\n      }\r\n\r\n      _get(_getPrototypeOf(HandsontableEditor.prototype), \"onBeforeKeyDown\", this).call(this, event);\r\n    }\r\n  }], [{\r\n    key: \"EDITOR_TYPE\",\r\n    get: function get() {\r\n      return EDITOR_TYPE;\r\n    }\r\n  }]);\r\n\r\n  return HandsontableEditor;\r\n}(TextEditor);"]},"metadata":{},"sourceType":"module"}