{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\isotracker-dev\\\\isotracker-react\\\\src\\\\components\\\\progressPlotCurve\\\\progressPlotCurve.js\";\nimport React from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProgressPlotCurve extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      pipesWeight: 0,\n      instsWeight: 0,\n      equisWeight: 0,\n      civilsWeight: 0,\n      elecsWeight: 0\n    };\n  }\n\n  async componentDidMount() {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/currentProgress\", options).then(response => response.json()).then(async json => {\n      await this.setState(json.weight);\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/equipments/weight\", options).then(response => response.json()).then(async json => {\n      await setEquisWeight(json.weight);\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/civils/weight\", options).then(response => response.json()).then(async json => {\n      await setCivilsWeight(json.weight);\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/instrumentation/weight\", options).then(response => response.json()).then(async json => {\n      await setInstsWeight(json.weight);\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/electrical/weight\", options).then(response => response.json()).then(async json => {\n      await setElecsWeight(json.weight);\n    }).catch(error => {\n      console.log(error);\n    });\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/gcurve\", options).then(response => response.json()).then(async json => {\n      let weeks = [];\n\n      for (let i = 0; i < json.rows.length; i++) {\n        weeks.push({\n          name: \"W\" + json.rows[i].week,\n          estimated: json.rows[i].estimated,\n          progress: json.rows[i].progress\n        });\n      }\n\n      await this.setState({\n        data: weeks\n      });\n      console.log(this.state.data);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: \"6000%\",\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        width: 500,\n        height: 300,\n        data: this.state.data,\n        margin: {\n          top: 35,\n          right: 30,\n          left: 20,\n          bottom: -15\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          label: {\n            value: \"Progress(%)\",\n            position: \"insideLeft\",\n            angle: -90,\n            dy: 30\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"progress\",\n          stroke: \"blue\",\n          activeDot: {\n            r: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"estimated\",\n          stroke: \"red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 3\n    }, this);\n  }\n\n}\nProgressPlotCurve.demoUrl = 'https://codesandbox.io/s/simple-line-chart-kec3v';","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/progressPlotCurve/progressPlotCurve.js"],"names":["React","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ProgressPlotCurve","PureComponent","state","data","pipesWeight","instsWeight","equisWeight","civilsWeight","elecsWeight","componentDidMount","options","method","headers","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","setState","weight","catch","error","console","log","setEquisWeight","setCivilsWeight","setInstsWeight","setElecsWeight","weeks","i","rows","length","push","name","week","estimated","progress","render","top","right","left","bottom","value","position","angle","dy","r","demoUrl"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\n  export default class ProgressPlotCurve extends React.PureComponent {\r\n\tstatic demoUrl = 'https://codesandbox.io/s/simple-line-chart-kec3v';\r\n\t\r\n\tstate = {\r\n\t\tdata: [],\r\n        pipesWeight: 0,\r\n        instsWeight: 0,\r\n        equisWeight: 0,\r\n        civilsWeight: 0,\r\n        elecsWeight: 0\r\n\t  };\r\n\r\n\r\n\tasync componentDidMount (){\r\n\r\n\t\tconst options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/currentProgress\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await this.setState(json.weight)\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })   \r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/equipments/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setEquisWeight(json.weight)\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            }) \r\n            \r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/civils/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setCivilsWeight(json.weight)\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            }) \r\n            \r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/instrumentation/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setInstsWeight(json.weight)\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })   \r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/electrical/weight\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setElecsWeight(json.weight)\r\n            }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })    \r\n\r\n        \r\n\r\n\t\tawait fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/gcurve\", options)\r\n\t\t.then(response => response.json())\r\n\t\t.then(async json=>{\r\n\t\t\tlet weeks = []\r\n\t\t\tfor(let i = 0; i < json.rows.length; i++){\r\n\t\t\t\tweeks.push({name: \"W\"+json.rows[i].week, estimated: json.rows[i].estimated, progress: json.rows[i].progress})\r\n\t\t\t}\r\n\t\t\tawait this.setState({data: weeks})\r\n\t\t\tconsole.log(this.state.data)\r\n\t\t})\r\n\t}\r\n\t\r\n\r\n\trender() {\r\n\t  return (\r\n\t\t<ResponsiveContainer width=\"100%\" height=\"6000%\">\r\n\t\t  <LineChart\r\n\t\t\twidth={500}\r\n\t\t\theight={300}\r\n\t\t\tdata={this.state.data}\r\n\t\t\tmargin={{\r\n\t\t\t  top: 35,\r\n\t\t\t  right: 30,\r\n\t\t\t  left: 20,\r\n\t\t\t  bottom: -15,\r\n\t\t\t}}\r\n\t\t  >\r\n\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t<XAxis dataKey=\"name\" />\r\n\t\t\t<YAxis label={{ value: \"Progress(%)\", position: \"insideLeft\", angle: -90,   dy: 30}} />\r\n\t\t\t<Tooltip />\r\n\t\t\t<Legend />\r\n\t\t\t<Line type=\"monotone\" dataKey=\"progress\" stroke=\"blue\" activeDot={{ r: 8 }} />\r\n\t\t\t<Line type=\"monotone\" dataKey=\"estimated\" stroke=\"red\" />\r\n\t\t  </LineChart>\r\n\t\t</ResponsiveContainer>\r\n\t  );\r\n\t}\r\n  }\r\n  "]},"metadata":{},"sourceType":"module"}