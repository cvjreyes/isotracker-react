{"ast":null,"code":"import { isObject } from \"../../helpers/object.mjs\";\nimport { isRightClick } from \"../../helpers/dom/event.mjs\";\nexport var ASC_SORT_STATE = 'asc';\nexport var DESC_SORT_STATE = 'desc';\nexport var HEADER_SPAN_CLASS = 'colHeader';\n/**\r\n * Get if column state is valid.\r\n *\r\n * @param {number} columnState Particular column state.\r\n * @returns {boolean}\r\n */\n\nfunction isValidColumnState(columnState) {\n  if (isObject(columnState) === false) {\n    return false;\n  }\n\n  var column = columnState.column,\n      sortOrder = columnState.sortOrder;\n  return Number.isInteger(column) && [ASC_SORT_STATE, DESC_SORT_STATE].includes(sortOrder);\n}\n/**\r\n * Get if all sorted columns states are valid.\r\n *\r\n * @param {Array} sortStates The sort state collection.\r\n * @returns {boolean}\r\n */\n\n\nexport function areValidSortStates(sortStates) {\n  if (sortStates.some(function (columnState) {\n    return isValidColumnState(columnState) === false;\n  })) {\n    return false;\n  }\n\n  var sortedColumns = sortStates.map(function (_ref) {\n    var column = _ref.column;\n    return column;\n  }); // Indexes occurs only once.\n\n  return new Set(sortedColumns).size === sortedColumns.length;\n}\n/**\r\n * Get next sort order for particular column. The order sequence looks as follows: 'asc' -> 'desc' -> undefined -> 'asc'.\r\n *\r\n * @param {string|undefined} sortOrder Sort order (`asc` for ascending, `desc` for descending and undefined for not sorted).\r\n * @returns {string|undefined} Next sort order (`asc` for ascending, `desc` for descending and undefined for not sorted).\r\n */\n\nexport function getNextSortOrder(sortOrder) {\n  if (sortOrder === DESC_SORT_STATE) {\n    return;\n  } else if (sortOrder === ASC_SORT_STATE) {\n    return DESC_SORT_STATE;\n  }\n\n  return ASC_SORT_STATE;\n}\n/**\r\n * Get `span` DOM element inside `th` DOM element.\r\n *\r\n * @param {Element} TH Th HTML element.\r\n * @returns {Element | null}\r\n */\n\nexport function getHeaderSpanElement(TH) {\n  var headerSpanElement = TH.querySelector(\".\".concat(HEADER_SPAN_CLASS));\n  return headerSpanElement;\n}\n/**\r\n *\r\n * Get if handled header is first level column header.\r\n *\r\n * @param {number} column Visual column index.\r\n * @param {Element} TH Th HTML element.\r\n * @returns {boolean}\r\n */\n\nexport function isFirstLevelColumnHeader(column, TH) {\n  if (column < 0 || !TH.parentNode) {\n    return false;\n  }\n\n  var TRs = TH.parentNode.parentNode.childNodes;\n  var headerLevel = Array.from(TRs).indexOf(TH.parentNode) - TRs.length;\n\n  if (headerLevel !== -1) {\n    return false;\n  }\n\n  return true;\n}\n/**\r\n *  Get if header was clicked properly. Click on column header and NOT done by right click return `true`.\r\n *\r\n * @param {number} row Visual row index.\r\n * @param {number} column Visual column index.\r\n * @param {Event} clickEvent Click event.\r\n * @returns {boolean}\r\n */\n\nexport function wasHeaderClickedProperly(row, column, clickEvent) {\n  return row === -1 && column >= 0 && isRightClick(clickEvent) === false;\n}","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/plugins/columnSorting/utils.mjs"],"names":["isObject","isRightClick","ASC_SORT_STATE","DESC_SORT_STATE","HEADER_SPAN_CLASS","isValidColumnState","columnState","column","sortOrder","Number","isInteger","includes","areValidSortStates","sortStates","some","sortedColumns","map","_ref","Set","size","length","getNextSortOrder","getHeaderSpanElement","TH","headerSpanElement","querySelector","concat","isFirstLevelColumnHeader","parentNode","TRs","childNodes","headerLevel","Array","from","indexOf","wasHeaderClickedProperly","row","clickEvent"],"mappings":"AAWA,SAASA,QAAT,QAAyB,0BAAzB;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,OAAO,IAAIC,cAAc,GAAG,KAArB;AACP,OAAO,IAAIC,eAAe,GAAG,MAAtB;AACP,OAAO,IAAIC,iBAAiB,GAAG,WAAxB;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,kBAAT,CAA4BC,WAA5B,EAAyC;AACvC,MAAIN,QAAQ,CAACM,WAAD,CAAR,KAA0B,KAA9B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,MAAIC,MAAM,GAAGD,WAAW,CAACC,MAAzB;AAAA,MACIC,SAAS,GAAGF,WAAW,CAACE,SAD5B;AAEA,SAAOC,MAAM,CAACC,SAAP,CAAiBH,MAAjB,KAA4B,CAACL,cAAD,EAAiBC,eAAjB,EAAkCQ,QAAlC,CAA2CH,SAA3C,CAAnC;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO,SAASI,kBAAT,CAA4BC,UAA5B,EAAwC;AAC7C,MAAIA,UAAU,CAACC,IAAX,CAAgB,UAAUR,WAAV,EAAuB;AACzC,WAAOD,kBAAkB,CAACC,WAAD,CAAlB,KAAoC,KAA3C;AACD,GAFG,CAAJ,EAEI;AACF,WAAO,KAAP;AACD;;AAED,MAAIS,aAAa,GAAGF,UAAU,CAACG,GAAX,CAAe,UAAUC,IAAV,EAAgB;AACjD,QAAIV,MAAM,GAAGU,IAAI,CAACV,MAAlB;AACA,WAAOA,MAAP;AACD,GAHmB,CAApB,CAP6C,CAUzC;;AAEJ,SAAO,IAAIW,GAAJ,CAAQH,aAAR,EAAuBI,IAAvB,KAAgCJ,aAAa,CAACK,MAArD;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,gBAAT,CAA0Bb,SAA1B,EAAqC;AAC1C,MAAIA,SAAS,KAAKL,eAAlB,EAAmC;AACjC;AACD,GAFD,MAEO,IAAIK,SAAS,KAAKN,cAAlB,EAAkC;AACvC,WAAOC,eAAP;AACD;;AAED,SAAOD,cAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASoB,oBAAT,CAA8BC,EAA9B,EAAkC;AACvC,MAAIC,iBAAiB,GAAGD,EAAE,CAACE,aAAH,CAAiB,IAAIC,MAAJ,CAAWtB,iBAAX,CAAjB,CAAxB;AACA,SAAOoB,iBAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASG,wBAAT,CAAkCpB,MAAlC,EAA0CgB,EAA1C,EAA8C;AACnD,MAAIhB,MAAM,GAAG,CAAT,IAAc,CAACgB,EAAE,CAACK,UAAtB,EAAkC;AAChC,WAAO,KAAP;AACD;;AAED,MAAIC,GAAG,GAAGN,EAAE,CAACK,UAAH,CAAcA,UAAd,CAAyBE,UAAnC;AACA,MAAIC,WAAW,GAAGC,KAAK,CAACC,IAAN,CAAWJ,GAAX,EAAgBK,OAAhB,CAAwBX,EAAE,CAACK,UAA3B,IAAyCC,GAAG,CAACT,MAA/D;;AAEA,MAAIW,WAAW,KAAK,CAAC,CAArB,EAAwB;AACtB,WAAO,KAAP;AACD;;AAED,SAAO,IAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASI,wBAAT,CAAkCC,GAAlC,EAAuC7B,MAAvC,EAA+C8B,UAA/C,EAA2D;AAChE,SAAOD,GAAG,KAAK,CAAC,CAAT,IAAc7B,MAAM,IAAI,CAAxB,IAA6BN,YAAY,CAACoC,UAAD,CAAZ,KAA6B,KAAjE;AACD","sourcesContent":["import \"core-js/modules/es.number.is-integer.js\";\r\nimport \"core-js/modules/es.number.constructor.js\";\r\nimport \"core-js/modules/es.array.includes.js\";\r\nimport \"core-js/modules/es.array.map.js\";\r\nimport \"core-js/modules/es.array.iterator.js\";\r\nimport \"core-js/modules/es.object.to-string.js\";\r\nimport \"core-js/modules/es.set.js\";\r\nimport \"core-js/modules/es.string.iterator.js\";\r\nimport \"core-js/modules/web.dom-collections.iterator.js\";\r\nimport \"core-js/modules/es.array.index-of.js\";\r\nimport \"core-js/modules/es.array.from.js\";\r\nimport { isObject } from \"../../helpers/object.mjs\";\r\nimport { isRightClick } from \"../../helpers/dom/event.mjs\";\r\nexport var ASC_SORT_STATE = 'asc';\r\nexport var DESC_SORT_STATE = 'desc';\r\nexport var HEADER_SPAN_CLASS = 'colHeader';\r\n/**\r\n * Get if column state is valid.\r\n *\r\n * @param {number} columnState Particular column state.\r\n * @returns {boolean}\r\n */\r\n\r\nfunction isValidColumnState(columnState) {\r\n  if (isObject(columnState) === false) {\r\n    return false;\r\n  }\r\n\r\n  var column = columnState.column,\r\n      sortOrder = columnState.sortOrder;\r\n  return Number.isInteger(column) && [ASC_SORT_STATE, DESC_SORT_STATE].includes(sortOrder);\r\n}\r\n/**\r\n * Get if all sorted columns states are valid.\r\n *\r\n * @param {Array} sortStates The sort state collection.\r\n * @returns {boolean}\r\n */\r\n\r\n\r\nexport function areValidSortStates(sortStates) {\r\n  if (sortStates.some(function (columnState) {\r\n    return isValidColumnState(columnState) === false;\r\n  })) {\r\n    return false;\r\n  }\r\n\r\n  var sortedColumns = sortStates.map(function (_ref) {\r\n    var column = _ref.column;\r\n    return column;\r\n  }); // Indexes occurs only once.\r\n\r\n  return new Set(sortedColumns).size === sortedColumns.length;\r\n}\r\n/**\r\n * Get next sort order for particular column. The order sequence looks as follows: 'asc' -> 'desc' -> undefined -> 'asc'.\r\n *\r\n * @param {string|undefined} sortOrder Sort order (`asc` for ascending, `desc` for descending and undefined for not sorted).\r\n * @returns {string|undefined} Next sort order (`asc` for ascending, `desc` for descending and undefined for not sorted).\r\n */\r\n\r\nexport function getNextSortOrder(sortOrder) {\r\n  if (sortOrder === DESC_SORT_STATE) {\r\n    return;\r\n  } else if (sortOrder === ASC_SORT_STATE) {\r\n    return DESC_SORT_STATE;\r\n  }\r\n\r\n  return ASC_SORT_STATE;\r\n}\r\n/**\r\n * Get `span` DOM element inside `th` DOM element.\r\n *\r\n * @param {Element} TH Th HTML element.\r\n * @returns {Element | null}\r\n */\r\n\r\nexport function getHeaderSpanElement(TH) {\r\n  var headerSpanElement = TH.querySelector(\".\".concat(HEADER_SPAN_CLASS));\r\n  return headerSpanElement;\r\n}\r\n/**\r\n *\r\n * Get if handled header is first level column header.\r\n *\r\n * @param {number} column Visual column index.\r\n * @param {Element} TH Th HTML element.\r\n * @returns {boolean}\r\n */\r\n\r\nexport function isFirstLevelColumnHeader(column, TH) {\r\n  if (column < 0 || !TH.parentNode) {\r\n    return false;\r\n  }\r\n\r\n  var TRs = TH.parentNode.parentNode.childNodes;\r\n  var headerLevel = Array.from(TRs).indexOf(TH.parentNode) - TRs.length;\r\n\r\n  if (headerLevel !== -1) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n/**\r\n *  Get if header was clicked properly. Click on column header and NOT done by right click return `true`.\r\n *\r\n * @param {number} row Visual row index.\r\n * @param {number} column Visual column index.\r\n * @param {Event} clickEvent Click event.\r\n * @returns {boolean}\r\n */\r\n\r\nexport function wasHeaderClickedProperly(row, column, clickEvent) {\r\n  return row === -1 && column >= 0 && isRightClick(clickEvent) === false;\r\n}"]},"metadata":{},"sourceType":"module"}