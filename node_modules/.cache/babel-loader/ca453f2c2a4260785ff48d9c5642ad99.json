{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import\"./sptracker.css\";import React,{useState,useEffect}from'react';import NavBar from'../../components/navBar/navBar';import CSPTrackerLogo from\"../../assets/images/csptracker.svg\";import RoleDropDown from'../../components/roleDropDown/roleDropDown';import IdleTimer from'react-idle-timer';import{useHistory}from\"react-router\";import CSPTrackerdDataTable from\"../../components/csptrackerDataTable/csptrackerDataTable\";import HotTable from\"@handsontable/react\";import SaveIcon from\"../../assets/images/save.svg\";import AlertF from\"../../components/alert/alert\";import CSPTrackerRequestPopUp from\"../../components/csptrackerRequestPopUp/csptrackerRequestPopUp\";import CSPTrackerdRequestsDataTable from\"../../components/csptrackerRequestsDataTable/csptrackerRequestsDataTable\";import*as FileSaver from\"file-saver\";import*as XLSX from\"xlsx\";import Reports from\"../../assets/images/view_requests.svg\";import Back from\"../../assets/images/back.svg\";import CSPTrackerKeyParams from\"../../components/csptrackerKeyParams/csptrackerKeyParams\";import{PieChart,Pie,Tooltip,Cell}from'recharts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var COLORS=['#D2D2D2','#FFCA42','#7BD36D','#99C6F8','#94DCAA','#FF3358'];var RADIAN=Math.PI/180;var renderCustomizedLabel=function renderCustomizedLabel(_ref){var cx=_ref.cx,cy=_ref.cy,midAngle=_ref.midAngle,innerRadius=_ref.innerRadius,outerRadius=_ref.outerRadius,percent=_ref.percent,index=_ref.index;var radius=innerRadius+(outerRadius-innerRadius)*0.5;var x=cx+radius*Math.cos(-midAngle*RADIAN);var y=cy+radius*Math.sin(-midAngle*RADIAN);if(index===0){index=\"MAT\";}else if(index===1){index=\"HOLD\";}else if(index===2){index=\"OK-REV0\";}else if(index===3){index=\"OK-REVN\";}else if(index===4){index=\"EXCLUDED\";}else if(index===5){index=\"DELETED\";}return/*#__PURE__*/_jsx(\"text\",{x:x,y:y,fill:\"white\",textAnchor:x>cx?'start':'end',dominantBaseline:\"central\",children:index});};var CSPTracker=function CSPTracker(){var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});var settings={licenseKey:'non-commercial-and-evaluation',colWidths:250};var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentRole=_useState2[0],setCurrentRole=_useState2[1];var _useState3=useState(\"View\"),_useState4=_slicedToArray(_useState3,2),currentTab=_useState4[0],setCurrentTab=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),roles=_useState6[0],setRoles=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),successAlert=_useState8[0],setSuccessAlert=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),uploadDrawingSuccess=_useState10[0],setUploadDrawingSuccess=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),updateDrawingSuccess=_useState12[0],setUpdateDrawingSuccess=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),noTagError=_useState14[0],setNoTagError=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),invalidFieldError=_useState16[0],setInvalidFieldError=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),errorIndex=_useState18[0],setErrorIndex=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),warningBlankRequest=_useState20[0],setWarningBlankRequest=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),requestSuccess=_useState22[0],setRequestSuccess=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),existsRequest=_useState24[0],setExistsRequest=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),errorPid=_useState26[0],seterrorPid=_useState26[1];var _useState27=useState(),_useState28=_slicedToArray(_useState27,2),editData=_useState28[0],setEditData=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),descriptionPlaneData=_useState30[0],setDescriptionPlaneData=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),diametersData=_useState32[0],setDiametersData=_useState32[1];var _useState33=useState(),_useState34=_slicedToArray(_useState33,2),ratingData=_useState34[0],setRatingData=_useState34[1];var _useState35=useState(),_useState36=_slicedToArray(_useState35,2),specData=_useState36[0],setSpecData=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),endPreparationData=_useState38[0],setEndPrepartaionData=_useState38[1];var _useState39=useState(),_useState40=_slicedToArray(_useState39,2),boltTypesData=_useState40[0],setBoltTypesData=_useState40[1];var _useState41=useState(),_useState42=_slicedToArray(_useState41,2),pidData=_useState42[0],setPidData=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),busy=_useState44[0],setBusy=_useState44[1];var _useState45=useState(),_useState46=_slicedToArray(_useState45,2),editingUser=_useState46[0],setEditingUser=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),updateData=_useState48[0],setUpdateData=_useState48[1];var history=useHistory();var _useState49=useState([]),_useState50=_slicedToArray(_useState49,2),counter=_useState50[0],setCounter=_useState50[1];useEffect(function(){if(!secureStorage.getItem(\"user\")){history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/\");}},[]);var currentUser=secureStorage.getItem('user');var p1bore,p2bore,p3bore=\"\";if(process.env.REACT_APP_MMDN===\"1\"){p1bore=\"p1diameter_nps\";p2bore=\"p2diameter_nps\";p3bore=\"p3diameter_nps\";}else{p1bore=\"p1diameter_dn\";p2bore=\"p2diameter_dn\";p3bore=\"p3diameter_dn\";}useEffect(function(){var body={user:currentUser};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\",options).then(function(response){return response.json();}).then(function(json){setRoles(json.roles);if(secureStorage.getItem('role')!==null){setCurrentRole(secureStorage.getItem('role'));}else{secureStorage.setItem('role',json.roles[0]);setCurrentRole(secureStorage.getItem('role'));}}).catch(function(error){console.log(error);});},[currentRole]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var body,options;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:body={user:currentUser};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(json){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}());options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context3.next=6;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/spStatusData\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(json){var counter;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:counter=[{name:\"Materials\",value:json.materials},{name:\"Hold\",value:json.hold},{name:\"OK-REV0\",value:json.ok_rev0},{name:\"OK-REVN\",value:json.ok_revn},{name:\"Excluded\",value:json.excluded},{name:\"Deleted\",value:json.deleted}];_context2.next=3;return setCounter(counter);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 6:case\"end\":return _context3.stop();}}},_callee3);})),[updateData]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var options;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context6.next=3;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/csptracker\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(json){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setEditData(json.rows);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref6.apply(this,arguments);};}());case 3:if(!(currentTab===\"View\")){_context6.next=6;break;}_context6.next=6;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/getListsData\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(json){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return setDescriptionPlaneData(json.descriptionPlaneData);case 2:_context5.next=4;return setDiametersData(json.diametersData);case 4:_context5.next=6;return setRatingData(json.ratingData);case 6:_context5.next=8;return setSpecData(json.specData);case 8:_context5.next=10;return setEndPrepartaionData(json.endPreparationData);case 10:_context5.next=12;return setBoltTypesData(json.boltTypesData);case 12:_context5.next=14;return setPidData(json.pidData);case 14:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref7.apply(this,arguments);};}());case 6:case\"end\":return _context6.stop();}}},_callee6);})),[currentTab]);function uploadSuccess(){setUploadDrawingSuccess(true);}function updateSuccess(){setUpdateDrawingSuccess(true);}function drawingUploadError(){}function errorBlankRequest(){setWarningBlankRequest(true);}function successRequest(){setRequestSuccess(true);}function existsErrorRequest(){setExistsRequest(true);}function errorPidRequest(){seterrorPid(true);}function handleOnIdle(){saveChanges();var body={user:currentUser};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(json){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref8.apply(this,arguments);};}());secureStorage.clear();history.push(\"/\"+process.env.REACT_APP_PROJECT);}function handleToggle(){return _handleToggle.apply(this,arguments);}function _handleToggle(){_handleToggle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var body,options,_body,_options;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(currentTab===\"View\"){body={user:currentUser};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/editCSP\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(json){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(!json.user){_context8.next=7;break;}_context8.next=3;return setBusy(true);case 3:_context8.next=5;return setEditingUser(json.user);case 5:_context8.next=9;break;case 7:_context8.next=9;return setBusy(false);case 9:_context8.next=11;return setCurrentTab(\"Edit\");case 11:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref9.apply(this,arguments);};}());}else{_body={user:currentUser};_options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body)};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\",_options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(json){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!json.success){_context9.next=5;break;}_context9.next=3;return saveChanges();case 3:_context9.next=5;return setCurrentTab(\"View\");case 5:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x7){return _ref10.apply(this,arguments);};}());}case 1:case\"end\":return _context10.stop();}}},_callee10);}));return _handleToggle.apply(this,arguments);}function handleToggleKP(){return _handleToggleKP.apply(this,arguments);}function _handleToggleKP(){_handleToggleKP=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:if(!(currentTab===\"View\")){_context11.next=5;break;}_context11.next=3;return setCurrentTab(\"CSP KeyParams\");case 3:_context11.next=7;break;case 5:_context11.next=7;return setCurrentTab(\"View\");case 7:case\"end\":return _context11.stop();}}},_callee11);}));return _handleToggleKP.apply(this,arguments);}function addRow(){return _addRow.apply(this,arguments);}function _addRow(){_addRow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var rows;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:rows=editData;rows.push({tag:\"\",quantity:\"\",description:\"\",description_plan_code:\"\",drawing_filename:\"\",description_iso:\"\",ident:\"\",p1diameter_dn:\"\",p1diameter_nps:\"\",p2diameter_dn:\"\",p2diameter_nps:\"\",p3diameter_dn:\"\",p3diameter_nps:\"\",rating:\"\",spec:\"\",type:\"\",end_preparation:\"\",description_drawing:\"\",face_to_face:\"\",bolt_type:\"\",ready_load:\"\",ready_e3d:\"\",comments:\"\",pid:\"\",line_id:\"\",requisition:\"\",equipnozz:\"\",utility_station:\"\"});_context12.next=4;return setEditData(rows);case 4:_context12.next=6;return setUpdateData(!updateData);case 6:case\"end\":return _context12.stop();}}},_callee12);}));return _addRow.apply(this,arguments);}function saveChanges(){return _saveChanges.apply(this,arguments);}function _saveChanges(){_saveChanges=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(){var body,options;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:body={rows:editData,email:currentUser};options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/tags\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(json){var unique,tags,i;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:unique=true;if(!json.none){_context15.next=4;break;}_context15.next=17;break;case 4:tags=[];i=0;case 6:if(!(i<editData.length)){_context15.next=17;break;}if(!(tags.indexOf(editData[i].tag)>-1&&editData[i].tag!==null)){_context15.next=13;break;}unique=false;_context15.next=11;return setErrorIndex(\"Repeated tag at entry \"+i+\"!\");case 11:_context15.next=14;break;case 13:tags.push(editData[i].tag);case 14:i++;_context15.next=6;break;case 17:if(unique){_context15.next=20;break;}_context15.next=20;return setNoTagError(true);case 20:options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context15.next=23;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/submitCSP\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(json){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!json.success){_context13.next=3;break;}_context13.next=3;return setSuccessAlert(true);case 3:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x9){return _ref12.apply(this,arguments);};}());case 23:_context15.next=25;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/update_ready_load\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(json){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x10){return _ref13.apply(this,arguments);};}());case 25:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x8){return _ref11.apply(this,arguments);};}());case 3:case\"end\":return _context16.stop();}}},_callee16);}));return _saveChanges.apply(this,arguments);}function updateDataMethod(){return _updateDataMethod.apply(this,arguments);}function _updateDataMethod(){_updateDataMethod=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:setUpdateData(!updateData);case 1:case\"end\":return _context17.stop();}}},_callee17);}));return _updateDataMethod.apply(this,arguments);}function downloadReport(){return _downloadReport.apply(this,arguments);}function _downloadReport(){_downloadReport=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/downloadCSP/\").then(function(response){return response.json();}).then(function(json){var headers=[\"Tag\",\"Spec\",\"P1Bore\",\"P2Bore\",\"P3Bore\",\"Rating\",\"End preparation\",\"Line ID\",\"P&ID\",\"Type\",\"Drawing description\",\"Quantity\",\"Requisition\",\"Description\",\"Iso description\",\"Ident\",\"Face to face\",\"FLG Short Code\",\"Equipment + Nozzle\",\"Utility Station\",\"Request date\",\"Ready to load date\",\"Ready in E3D date\",\"Comments\",\"Ready to Load\",\"Ready in 3D\",\"Updated\"];var apiData=JSON.parse(json);var fileName=\"CSPTracker report\";var fileType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";var header_cells=['A1','B1','C1','D1','E1','F1','G1','H1','I1','J1','K1','L1','M1','N1','O1','P1','Q1','R1','S1','T1','U1','V1','W1','X1','Y1','Z1','A2','B2','C2','D2','E2','F2'];var fileExtension=\".xlsx\";var wscols=[];for(var i=0;i<headers.length;i++){wscols.push({width:35});}var ws=XLSX.utils.json_to_sheet(apiData);ws[\"!cols\"]=wscols;for(var _i=0;_i<headers.length;_i++){ws[header_cells[_i]].v=headers[_i];}var wb={Sheets:{data:ws},SheetNames:[\"data\"]};var excelBuffer=XLSX.write(wb,{bookType:\"xlsx\",type:\"array\"});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+fileExtension);});case 2:case\"end\":return _context18.stop();}}},_callee18);}));return _downloadReport.apply(this,arguments);}document.body.style.zoom=0.8;var dataTableHeight=\"570px\";var editBtn,addRowBtn,saveBtn,exportBtn,requestBtn,notificationsBtn,designNotificationsBtn=null;var table=/*#__PURE__*/_jsx(CSPTrackerdDataTable,{currentRole:currentRole,updateDataMethod:updateDataMethod.bind(_this),updateData:updateData,uploadDrawingSuccess:uploadSuccess.bind(_this),updateDrawingSuccess:updateSuccess.bind(_this),drawingUploadError:drawingUploadError.bind(_this)});if(currentRole===\"Materials\"){editBtn=/*#__PURE__*/_jsxs(\"label\",{class:\"switchBtn\",style:{width:\"145px\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",style:{width:\"100px\",marginTop:\"4px\"},children:\"Edit mode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"edit\",onClick:function onClick(){return handleToggle();}}),/*#__PURE__*/_jsx(\"div\",{class:\"slide round\"})]});if(currentTab===\"Edit\"){notificationsBtn=null;}else if(currentTab!==\"Requests\"){notificationsBtn=/*#__PURE__*/_jsxs(\"button\",{className:\"navBar__button\",onClick:function onClick(){return setCurrentTab(\"Requests\");},style:{width:\"120px\",marginTop:\"5px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:Reports,alt:\"hold\",className:\"navBar__icon\",style:{marginRight:\"4px\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",children:\"Requests\"})]});}else{notificationsBtn=/*#__PURE__*/_jsxs(\"button\",{className:\"navBar__button\",onClick:function onClick(){return setCurrentTab(\"View\");},style:{backgroundColor:\"#99C6F8\",width:\"120px\",marginTop:\"5px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:Back,alt:\"hold\",className:\"navBar__icon\",style:{marginRight:\"4px\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",children:\"Back\"})]});editBtn=/*#__PURE__*/_jsxs(\"label\",{class:\"switchBtn\",style:{width:\"145px\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",style:{width:\"100px\",marginTop:\"4px\"},children:\"Edit mode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"edit\",disabled:true}),/*#__PURE__*/_jsx(\"div\",{class:\"slide round\"})]});}}if(currentRole===\"3D Admin\"){editBtn=/*#__PURE__*/_jsxs(\"label\",{class:\"switchBtn\",style:{width:\"155px\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",style:{width:\"180px\",marginTop:\"4px\"},children:\"KeyParams\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"edit\",onClick:function onClick(){return handleToggleKP();}}),/*#__PURE__*/_jsx(\"div\",{class:\"slide round\",style:{marginLeft:\"90px\"}})]});}if(currentRole===\"Design\"){requestBtn=/*#__PURE__*/_jsx(CSPTrackerRequestPopUp,{errorBlankRequest:errorBlankRequest.bind(_this),successRequest:successRequest.bind(_this),existsErrorRequest:existsErrorRequest.bind(_this),errorPidRequest:errorPidRequest.bind(_this)});}if(currentTab===\"View\"){table=/*#__PURE__*/_jsx(CSPTrackerdDataTable,{currentRole:currentRole,updateDataMethod:updateDataMethod.bind(_this),updateData:updateData,uploadDrawingSuccess:uploadSuccess.bind(_this),updateDrawingSuccess:updateSuccess.bind(_this),drawingUploadError:drawingUploadError.bind(_this)});exportBtn=/*#__PURE__*/_jsx(\"button\",{className:\"action__btn\",name:\"export\",value:\"export\",onClick:function onClick(){return downloadReport();},children:\"Export\"});addRowBtn=null;saveBtn=null;}else if(currentTab===\"Edit\"){if(!busy){table=/*#__PURE__*/_jsx(HotTable,{data:editData,colHeaders:[\"<b>TAG</b>\",\"<b>SPEC</b>\",\"<b>P1BORE</b>\",\"<b>P2BORE</b>\",\"P3BORE\",\"<b>RATING</b>\",\"<b>END PREPARATION</b>\",\"<b>LINE ID</b>\",\"<b>P&ID</b>\",\"<b>TYPE</b>\",\"<b>DRAWING DESCRIPTION</b>\",\"<b>QUANTITY</b>\",\"REQUISITION\",\"<b>DESCRIPTION</b>\",\"<b>ISO DESCRIPTION</b>\",\"<b>IDENT</b>\",\"FACE TO FACE\",\"<b>FLG SHORT CODE</b>\",\"EQUIPMENT + NOZZLE\",\"UTILITY STATION\",\"COMMENTS\"],rowHeaders:true,width:\"2200\",height:\"635\",settings:settings,manualColumnResize:true,manualRowResize:true,filters:true,dropdownMenu:['make_read_only','---------','alignment','---------','filter_by_condition','---------','filter_operators','---------','filter_by_condition2','---------','filter_by_value','---------','filter_action_bar'],columns:[{data:\"tag\",type:'text'},{data:\"spec\",type:\"dropdown\",strict:\"true\",source:specData},{data:p1bore,type:\"dropdown\",strict:\"true\",source:diametersData},{data:p2bore,type:\"dropdown\",strict:\"true\",source:diametersData},{data:p3bore,type:\"dropdown\",strict:\"true\",source:diametersData},{data:\"rating\",type:\"dropdown\",strict:\"true\",source:ratingData},{data:\"end_preparation\",type:\"dropdown\",strict:\"true\",source:endPreparationData},{data:\"line_id\",type:\"text\"},{data:\"pid\",type:\"dropdown\",strict:\"true\",source:pidData},{data:\"type\",type:\"text\"},{data:\"description_plan_code\",type:\"dropdown\",allowInvalid:true,source:descriptionPlaneData},{data:\"quantity\",type:\"numeric\"},{data:\"requisition\",type:'text'},{data:\"description\",type:'text'},{data:\"description_iso\",type:\"text\"},{data:\"ident\",type:\"text\"},{data:\"face_to_face\",type:\"text\"},{data:\"bolt_type\",type:\"dropdown\",strict:\"true\",source:boltTypesData},{data:\"equipnozz\",type:\"text\"},{data:\"utility_station\",type:\"text\"},{data:\"comments\",type:\"text\"}]});dataTableHeight=\"700px\";addRowBtn=/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-sm btn-success\",onClick:function onClick(){return addRow();},style:{marginRight:\"5px\",fontSize:\"18px\",width:\"35px\",height:\"35px\",borderRadius:\"10px\",float:\"right\",marginTop:\"8px\"},children:\"+\"});saveBtn=/*#__PURE__*/_jsxs(\"button\",{className:\"navBar__button\",onClick:function onClick(){return saveChanges();},style:{marginTop:\"7px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:SaveIcon,alt:\"save\",className:\"navBar__icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"navBar__button__text\",children:\"Save\"})]});}else{table=/*#__PURE__*/_jsx(\"div\",{className:\"connected__panel\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"connected__text\",children:[\"The user \",editingUser,\" is already editing!\"]})});}}else if(currentTab===\"Requests\"){table=/*#__PURE__*/_jsx(CSPTrackerdRequestsDataTable,{updateDataMethod:updateDataMethod.bind(_this),updateData:updateData});}else if(currentTab===\"CSP KeyParams\"){table=/*#__PURE__*/_jsx(CSPTrackerKeyParams,{success:function success(){return setSuccessAlert(true);}});}return/*#__PURE__*/_jsxs(\"body\",{children:[updateData,/*#__PURE__*/_jsx(IdleTimer,{timeout:1000*60*15,onIdle:handleOnIdle,debounce:250}),/*#__PURE__*/_jsx(NavBar,{onChange:function onChange(value){return setCurrentTab(currentTab);}}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(successAlert?'alert-shown':'alert-hidden'),onTransitionEnd:function onTransitionEnd(){return setSuccessAlert(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"success\",text:\"Changes saved!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(uploadDrawingSuccess?'alert-shown':'alert-hidden'),onTransitionEnd:function onTransitionEnd(){return setUploadDrawingSuccess(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"success\",text:\"Drawing uploaded successfully!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(updateDrawingSuccess?'alert-shown':'alert-hidden'),onTransitionEnd:function onTransitionEnd(){return setUpdateDrawingSuccess(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"success\",text:\"Drawing updated successfully!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(noTagError?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return setNoTagError(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"waring\",text:errorIndex,margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(invalidFieldError?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return setInvalidFieldError(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"error\",subtext:\"At least one of the entries had an invalid field!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(requestSuccess?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return setRequestSuccess(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"success\",text:\"SP requested successfully!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(warningBlankRequest?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return setWarningBlankRequest(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"warning\",text:\"All fileds need to be filled!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(existsRequest?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return setExistsRequest(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"error\",subtext:\"An SP with that SPTag already exists!\",margin:\"0px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success \".concat(errorPid?'alert-shown':'alert-error-hidden'),onTransitionEnd:function onTransitionEnd(){return seterrorPid(false);},children:/*#__PURE__*/_jsx(AlertF,{type:\"error\",subtext:\"The specified P&ID is invalid!\",margin:\"0px\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"isotracker__row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"isotracker__column\",children:[/*#__PURE__*/_jsx(\"img\",{src:CSPTrackerLogo,alt:\"CSPTrackerLogo\",className:\"isoTrackerLogo__image2\",style:{height:\"85px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"roleSelector__containerF\",children:/*#__PURE__*/_jsx(RoleDropDown,{style:{paddingLeft:\"2px\"},onChange:function onChange(value){return setCurrentRole(value);},roles:roles})})]}),/*#__PURE__*/_jsxs(PieChart,{width:600,height:400,children:[/*#__PURE__*/_jsx(Pie,{data:counter,dataKey:\"value\",cx:\"50%\",cy:\"60%\",outerRadius:120,fill:\"#8884d8\",label:renderCustomizedLabel,children:counter.map(function(entry,index){return/*#__PURE__*/_jsx(Cell,{fill:COLORS[index]},\"cell-\".concat(index));})}),/*#__PURE__*/_jsx(Tooltip,{})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"isotracker__table__container\",children:[/*#__PURE__*/_jsx(\"tr\",{className:\"isotracker__table__navBar__container\",style:{height:\"65px \"},children:/*#__PURE__*/_jsx(\"th\",{className:\"isotracker__table__navBar\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[requestBtn,editBtn,notificationsBtn,designNotificationsBtn,saveBtn]})})}),/*#__PURE__*/_jsx(\"tr\",{className:\"isotracker__table__tray__and__table__container\",style:{height:dataTableHeight},children:/*#__PURE__*/_jsx(\"td\",{className:\"discplines__table__table\",style:{height:dataTableHeight},children:/*#__PURE__*/_jsxs(\"div\",{style:{height:dataTableHeight,width:\"2200px\"},className:\"isotracker__table__table__container\",children:[table,addRowBtn]})})})]}),/*#__PURE__*/_jsx(\"center\",{className:\"actionBtns__container\",children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",marginTop:\"10px\"},children:exportBtn})}),/*#__PURE__*/_jsx(\"br\",{})]});};export default CSPTracker;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/pages/sptracker/sptracker.js"],"names":["React","useState","useEffect","NavBar","RoleDropDown","IdleTimer","useHistory","CSPTrackerdDataTable","HotTable","AlertF","CSPTrackerRequestPopUp","CSPTrackerdRequestsDataTable","FileSaver","XLSX","CSPTrackerKeyParams","PieChart","Pie","Tooltip","Cell","COLORS","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","index","radius","x","cos","y","sin","CSPTracker","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","settings","licenseKey","colWidths","currentRole","setCurrentRole","currentTab","setCurrentTab","roles","setRoles","successAlert","setSuccessAlert","uploadDrawingSuccess","setUploadDrawingSuccess","updateDrawingSuccess","setUpdateDrawingSuccess","noTagError","setNoTagError","invalidFieldError","setInvalidFieldError","errorIndex","setErrorIndex","warningBlankRequest","setWarningBlankRequest","requestSuccess","setRequestSuccess","existsRequest","setExistsRequest","errorPid","seterrorPid","editData","setEditData","descriptionPlaneData","setDescriptionPlaneData","diametersData","setDiametersData","ratingData","setRatingData","specData","setSpecData","endPreparationData","setEndPrepartaionData","boltTypesData","setBoltTypesData","pidData","setPidData","busy","setBusy","editingUser","setEditingUser","updateData","setUpdateData","history","counter","setCounter","getItem","push","process","env","REACT_APP_PROJECT","currentUser","p1bore","p2bore","p3bore","REACT_APP_MMDN","body","user","options","method","headers","JSON","stringify","fetch","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","setItem","catch","error","console","log","name","value","materials","hold","ok_rev0","ok_revn","excluded","deleted","rows","uploadSuccess","updateSuccess","drawingUploadError","errorBlankRequest","successRequest","existsErrorRequest","errorPidRequest","handleOnIdle","saveChanges","clear","handleToggle","success","handleToggleKP","addRow","tag","quantity","description","description_plan_code","drawing_filename","description_iso","ident","p1diameter_dn","p1diameter_nps","p2diameter_dn","p2diameter_nps","p3diameter_dn","p3diameter_nps","rating","spec","type","end_preparation","description_drawing","face_to_face","bolt_type","ready_load","ready_e3d","comments","pid","line_id","requisition","equipnozz","utility_station","email","unique","none","tags","i","length","indexOf","updateDataMethod","downloadReport","apiData","parse","fileName","fileType","header_cells","fileExtension","wscols","width","ws","utils","json_to_sheet","v","wb","Sheets","SheetNames","excelBuffer","write","bookType","Blob","saveAs","document","style","zoom","dataTableHeight","editBtn","addRowBtn","saveBtn","exportBtn","requestBtn","notificationsBtn","designNotificationsBtn","table","bind","marginTop","Reports","marginRight","backgroundColor","Back","marginLeft","strict","source","allowInvalid","fontSize","height","borderRadius","float","SaveIcon","CSPTrackerLogo","paddingLeft","map","entry","display"],"mappings":"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","sourcesContent":["import \"./sptracker.css\"\r\nimport React, { useState , useEffect} from 'react'\r\nimport NavBar from '../../components/navBar/navBar'\r\nimport CSPTrackerLogo from \"../../assets/images/csptracker.svg\"\r\nimport RoleDropDown from '../../components/roleDropDown/roleDropDown'\r\n\r\nimport IdleTimer from 'react-idle-timer'\r\nimport {useHistory} from \"react-router\";\r\nimport CSPTrackerdDataTable from \"../../components/csptrackerDataTable/csptrackerDataTable\"\r\nimport HotTable from \"@handsontable/react\"\r\n\r\nimport SaveIcon from \"../../assets/images/save.svg\"\r\nimport AlertF from \"../../components/alert/alert\"\r\nimport CSPTrackerRequestPopUp from \"../../components/csptrackerRequestPopUp/csptrackerRequestPopUp\"\r\nimport CSPTrackerdRequestsDataTable from \"../../components/csptrackerRequestsDataTable/csptrackerRequestsDataTable\"\r\n\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\nimport Reports from \"../../assets/images/view_requests.svg\"\r\nimport Back from \"../../assets/images/back.svg\"\r\nimport CSPTrackerKeyParams from \"../../components/csptrackerKeyParams/csptrackerKeyParams\"\r\n\r\nimport { PieChart, Pie, Tooltip, Cell } from 'recharts';\r\n\r\nconst COLORS = ['#D2D2D2', '#FFCA42', '#7BD36D', '#99C6F8', '#94DCAA', '#FF3358'];\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n    if(index === 0){\r\n        index = \"MAT\"\r\n    }else if(index === 1){\r\n        index = \"HOLD\"\r\n    }else if(index === 2){\r\n        index = \"OK-REV0\"\r\n    }else if(index === 3){\r\n        index = \"OK-REVN\"\r\n    }else if(index === 4){\r\n        index = \"EXCLUDED\"\r\n    }else if(index === 5){\r\n        index = \"DELETED\"\r\n    }\r\n  \r\n    return (\r\n      <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n          {index}\r\n      </text>\r\n    );\r\n  };\r\n\r\nconst CSPTracker = () => {\r\n\r\n    const CryptoJS = require(\"crypto-js\");\r\n    const SecureStorage = require(\"secure-web-storage\");\r\n    var SECRET_KEY = 'sanud2ha8shd72h';\r\n\r\n    var secureStorage = new SecureStorage(localStorage, {\r\n        hash: function hash(key) {\r\n            key = CryptoJS.SHA256(key, SECRET_KEY);\r\n    \r\n            return key.toString();\r\n        },\r\n        encrypt: function encrypt(data) {\r\n            data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString();\r\n    \r\n            return data;\r\n        },\r\n        decrypt: function decrypt(data) {\r\n            data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString(CryptoJS.enc.Utf8);\r\n    \r\n            return data;\r\n        }\r\n    });\r\n\r\n    const settings = {\r\n        licenseKey: 'non-commercial-and-evaluation',\r\n        colWidths: 250,\r\n      }\r\n\r\n    const [currentRole, setCurrentRole] = useState();\r\n    const [currentTab, setCurrentTab] = useState(\"View\")\r\n    const [roles, setRoles] = useState();\r\n\r\n    const [successAlert, setSuccessAlert] = useState(false);\r\n    const [uploadDrawingSuccess, setUploadDrawingSuccess] = useState(false);\r\n    const [updateDrawingSuccess, setUpdateDrawingSuccess] = useState(false)\r\n    const [noTagError, setNoTagError] = useState(false);\r\n    const [invalidFieldError, setInvalidFieldError] = useState(false);\r\n    const [errorIndex, setErrorIndex] = useState(null);\r\n    const [warningBlankRequest, setWarningBlankRequest] = useState(false)\r\n    const [requestSuccess, setRequestSuccess] = useState(false)\r\n    const [existsRequest, setExistsRequest] = useState(false)\r\n    const [errorPid, seterrorPid] = useState(false)\r\n\r\n    const [editData, setEditData] = useState()\r\n    const [descriptionPlaneData, setDescriptionPlaneData] = useState()\r\n    const [diametersData, setDiametersData] = useState()\r\n    const [ratingData, setRatingData] = useState()\r\n    const [specData, setSpecData] = useState()\r\n    const [endPreparationData, setEndPrepartaionData] = useState()\r\n    const [boltTypesData, setBoltTypesData] = useState()\r\n    const [pidData, setPidData] = useState()\r\n\r\n    const [busy, setBusy] = useState(false)\r\n    const [editingUser, setEditingUser] = useState()\r\n\r\n    const [updateData, setUpdateData] = useState(false)    \r\n\r\n    const history = useHistory()\r\n\r\n    const [counter, setCounter] = useState([])\r\n\r\n    useEffect(()=>{\r\n        if(!secureStorage.getItem(\"user\")){\r\n            history.push(\"/\"+process.env.REACT_APP_PROJECT+\"/\");\r\n        }\r\n    }, [])\r\n\r\n    var currentUser = secureStorage.getItem('user')\r\n\r\n    let p1bore, p2bore, p3bore = \"\"\r\n\r\n    if(process.env.REACT_APP_MMDN === \"1\"){\r\n        p1bore = \"p1diameter_nps\"\r\n        p2bore = \"p2diameter_nps\"\r\n        p3bore = \"p3diameter_nps\"\r\n    }else{\r\n        p1bore = \"p1diameter_dn\"\r\n        p2bore = \"p2diameter_dn\"\r\n        p3bore = \"p3diameter_dn\"\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const body = {\r\n            user: currentUser,\r\n        }\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n       \r\n\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/api/roles/user\", options)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                setRoles(json.roles);\r\n                if(secureStorage.getItem('role') !== null){\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }else{\r\n                    secureStorage.setItem('role', json.roles[0])\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }\r\n                }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })       \r\n            \r\n    },[currentRole]);\r\n\r\n    useEffect(async()=>{\r\n        const body = {\r\n            user: currentUser,\r\n        }\r\n        let options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n\r\n            })\r\n\r\n        options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/spStatusData\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                let counter = [{name: \"Materials\", value: json.materials}, {name: \"Hold\", value: json.hold}, {name: \"OK-REV0\", value: json.ok_rev0}, {name: \"OK-REVN\", value: json.ok_revn}, {name: \"Excluded\", value: json.excluded}, {name: \"Deleted\", value: json.deleted}]\r\n                \r\n                await setCounter(counter)\r\n            })\r\n\r\n    },[updateData])\r\n\r\n    useEffect(async()=>{\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/csptracker\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setEditData(json.rows)\r\n            })\r\n\r\n        if(currentTab === \"View\"){  \r\n    \r\n            await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/getListsData\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await setDescriptionPlaneData(json.descriptionPlaneData)\r\n                await setDiametersData(json.diametersData)\r\n                await setRatingData(json.ratingData)\r\n                await setSpecData(json.specData)\r\n                await setEndPrepartaionData(json.endPreparationData)\r\n                await setBoltTypesData(json.boltTypesData)\r\n                await setPidData(json.pidData)\r\n            })\r\n        }    \r\n    }, [currentTab])\r\n\r\n    function uploadSuccess(){\r\n        setUploadDrawingSuccess(true)\r\n    }\r\n\r\n    function updateSuccess(){\r\n        setUpdateDrawingSuccess(true)\r\n    }\r\n\r\n    function drawingUploadError(){\r\n    }\r\n\r\n    function errorBlankRequest(){\r\n        setWarningBlankRequest(true)\r\n    }\r\n\r\n    function successRequest(){\r\n        setRequestSuccess(true)\r\n    }\r\n\r\n    function existsErrorRequest(){\r\n        setExistsRequest(true)\r\n    }\r\n\r\n    function errorPidRequest(){\r\n        seterrorPid(true)\r\n    }\r\n\r\n    function handleOnIdle(){\r\n        saveChanges()\r\n        const body = {\r\n            user: currentUser,\r\n        }\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n\r\n            })\r\n        secureStorage.clear()\r\n        history.push(\"/\" + process.env.REACT_APP_PROJECT)\r\n    }\r\n\r\n    async function handleToggle(){\r\n        if(currentTab === \"View\"){\r\n            const body = {\r\n                user: currentUser,\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/editCSP\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                if(json.user){\r\n                    await setBusy(true)\r\n                    await setEditingUser(json.user)\r\n                }else{\r\n                    await setBusy(false)\r\n                }\r\n                await setCurrentTab(\"Edit\")\r\n            })\r\n            \r\n        }else{\r\n            const body = {\r\n                user: currentUser,\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/exitEditCSP\", options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                if(json.success){\r\n                    await saveChanges()\r\n                    await setCurrentTab(\"View\")\r\n                }\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    async function handleToggleKP(){\r\n        if(currentTab === \"View\"){\r\n            await setCurrentTab(\"CSP KeyParams\")\r\n            \r\n        }else{\r\n            //await saveChangesKP()\r\n            await setCurrentTab(\"View\")\r\n            \r\n        }\r\n    }\r\n\r\n    async function addRow(){\r\n        let rows = editData\r\n        rows.push({tag:\"\", quantity: \"\", description: \"\", description_plan_code: \"\", drawing_filename: \"\", description_iso: \"\", ident: \"\", p1diameter_dn: \"\", p1diameter_nps: \"\", p2diameter_dn: \"\", p2diameter_nps: \"\", p3diameter_dn: \"\", p3diameter_nps: \"\", rating: \"\", spec: \"\", type: \"\", end_preparation: \"\", description_drawing: \"\", face_to_face: \"\", bolt_type: \"\", ready_load: \"\", ready_e3d: \"\", comments: \"\", pid: \"\", line_id: \"\", requisition: \"\", equipnozz: \"\", utility_station: \"\"})\r\n        await setEditData(rows)\r\n        await setUpdateData(!updateData)\r\n      }\r\n\r\n    async function saveChanges(){\r\n\r\n        const body = {\r\n            rows: editData,\r\n            email: currentUser\r\n        }\r\n        let options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        }\r\n\r\n        fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/tags\", options)\r\n        .then(response => response.json())\r\n        .then(async json =>{\r\n            let unique = true\r\n            if(json.none){\r\n\r\n            }else{\r\n                let tags = []\r\n                for(let i = 0; i < editData.length; i++){\r\n                    if(tags.indexOf(editData[i].tag) > -1 && editData[i].tag !== null){\r\n                        unique = false\r\n                        await setErrorIndex(\"Repeated tag at entry \" + i +\"!\")             \r\n                    }else{\r\n                        tags.push(editData[i].tag)\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if(!unique){\r\n                await setNoTagError(true)\r\n            }\r\n            options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/submitCSP\", options)\r\n            .then(response => response.json())\r\n            .then(async json =>{\r\n                if(json.success){\r\n                    await setSuccessAlert(true)\r\n\r\n                }\r\n            })\r\n\r\n            await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/update_ready_load\", options)\r\n            .then(response => response.json())\r\n            .then(async json =>{\r\n\r\n            }) \r\n                                \r\n        })                \r\n             \r\n    }\r\n\r\n    async function updateDataMethod(){\r\n        setUpdateData(!updateData)\r\n    }\r\n\r\n    async function downloadReport(){\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/downloadCSP/\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            const headers = [\"Tag\", \"Spec\", \"P1Bore\", \"P2Bore\", \"P3Bore\", \"Rating\", \"End preparation\", \"Line ID\", \"P&ID\", \"Type\", \"Drawing description\", \"Quantity\", \"Requisition\", \"Description\", \"Iso description\", \"Ident\", \"Face to face\", \"FLG Short Code\", \"Equipment + Nozzle\", \"Utility Station\", \"Request date\", \"Ready to load date\", \"Ready in E3D date\", \"Comments\", \"Ready to Load\", \"Ready in 3D\", \"Updated\"]\r\n            const apiData = JSON.parse(json)\r\n            const fileName = \"CSPTracker report\"\r\n\r\n            const fileType =\r\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n            const header_cells = ['A1', 'B1', 'C1', 'D1', 'E1', 'F1', 'G1', 'H1', 'I1', 'J1', 'K1', 'L1', 'M1', 'N1', 'O1', 'P1', 'Q1', 'R1', 'S1', 'T1', 'U1', 'V1', 'W1', 'X1', 'Y1', 'Z1', 'A2', 'B2', 'C2', 'D2', 'E2', 'F2']\r\n            const fileExtension = \".xlsx\";\r\n\r\n            let wscols = []\r\n            for(let i = 0; i < headers.length; i++){\r\n                wscols.push({width:35})\r\n            }\r\n\r\n            const ws = XLSX.utils.json_to_sheet(apiData);   \r\n            ws[\"!cols\"] = wscols\r\n            for(let i = 0; i < headers.length; i++){\r\n                ws[header_cells[i]].v = headers[i]\r\n            }\r\n            const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n            const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\r\n            const data = new Blob([excelBuffer], { type: fileType });\r\n            FileSaver.saveAs(data, fileName + fileExtension);\r\n        })\r\n    }\r\n\r\n    document.body.style.zoom = 0.8\r\n\r\n    var dataTableHeight = \"570px\"\r\n\r\n    let editBtn, addRowBtn, saveBtn, exportBtn, requestBtn, notificationsBtn, designNotificationsBtn = null\r\n    let table = <CSPTrackerdDataTable currentRole = {currentRole} updateDataMethod = {updateDataMethod.bind(this)} updateData = {updateData} uploadDrawingSuccess = {uploadSuccess.bind(this)} updateDrawingSuccess = {updateSuccess.bind(this)} drawingUploadError={drawingUploadError.bind(this)}/>\r\n    if(currentRole === \"Materials\"){\r\n        editBtn = <label class=\"switchBtn\" style={{width:\"145px\"}}>\r\n                    <p className=\"navBar__button__text\" style={{width:\"100px\", marginTop:\"4px\"}}>Edit mode</p>\r\n                    <input type=\"checkbox\" id=\"edit\" onClick={()=>handleToggle()}/>\r\n                    <div class=\"slide round\"></div>\r\n                </label>   \r\n                   \r\n        if(currentTab === \"Edit\"){\r\n            notificationsBtn = null\r\n        }\r\n        else if(currentTab !== \"Requests\"){\r\n            notificationsBtn = <button className=\"navBar__button\" onClick={()=>setCurrentTab(\"Requests\")} style={{width:\"120px\", marginTop:\"5px\"}}><img src={Reports} alt=\"hold\" className=\"navBar__icon\" style={{marginRight:\"4px\"}}></img><p className=\"navBar__button__text\">Requests</p></button>\r\n        }else{\r\n            notificationsBtn = <button className=\"navBar__button\" onClick={()=>setCurrentTab(\"View\")} style={{backgroundColor:\"#99C6F8\", width:\"120px\", marginTop:\"5px\"}}><img src={Back} alt=\"hold\" className=\"navBar__icon\" style={{marginRight:\"4px\"}}></img><p className=\"navBar__button__text\">Back</p></button>\r\n            editBtn = <label class=\"switchBtn\" style={{width:\"145px\"}}>\r\n            <p className=\"navBar__button__text\" style={{width:\"100px\", marginTop:\"4px\"}}>Edit mode</p>\r\n            <input type=\"checkbox\" id=\"edit\" disabled/>\r\n            <div class=\"slide round\"></div>\r\n        </label>\r\n        }\r\n    }\r\n\r\n    if(currentRole === \"3D Admin\"){\r\n        editBtn = <label class=\"switchBtn\" style={{width:\"155px\"}}>\r\n                    <p className=\"navBar__button__text\" style={{width:\"180px\", marginTop:\"4px\"}}>KeyParams</p>\r\n                    <input type=\"checkbox\" id=\"edit\" onClick={()=>handleToggleKP()}/>\r\n                    <div class=\"slide round\" style={{marginLeft:\"90px\"}}></div>\r\n                </label>  \r\n    }\r\n\r\n    if(currentRole === \"Design\"){\r\n        requestBtn = <CSPTrackerRequestPopUp errorBlankRequest={errorBlankRequest.bind(this)} successRequest={successRequest.bind(this)} existsErrorRequest={existsErrorRequest.bind(this)} errorPidRequest={errorPidRequest.bind(this)}/>\r\n    }\r\n\r\n\r\n\r\n    if(currentTab === \"View\"){\r\n        table = <CSPTrackerdDataTable currentRole = {currentRole} updateDataMethod = {updateDataMethod.bind(this)} updateData = {updateData} uploadDrawingSuccess = {uploadSuccess.bind(this)} updateDrawingSuccess = {updateSuccess.bind(this)} drawingUploadError={drawingUploadError.bind(this)}/>\r\n        exportBtn = <button className=\"action__btn\" name=\"export\" value=\"export\" onClick={() => downloadReport()}>Export</button>\r\n        addRowBtn = null\r\n        saveBtn = null\r\n        \r\n    }else if(currentTab === \"Edit\"){\r\n        if(!busy){\r\n            table = <HotTable\r\n            data={editData}\r\n            colHeaders = {[\"<b>TAG</b>\", \"<b>SPEC</b>\", \"<b>P1BORE</b>\", \"<b>P2BORE</b>\", \"P3BORE\", \"<b>RATING</b>\", \"<b>END PREPARATION</b>\", \"<b>LINE ID</b>\", \"<b>P&ID</b>\", \"<b>TYPE</b>\", \"<b>DRAWING DESCRIPTION</b>\", \"<b>QUANTITY</b>\", \"REQUISITION\", \"<b>DESCRIPTION</b>\", \"<b>ISO DESCRIPTION</b>\", \"<b>IDENT</b>\", \"FACE TO FACE\", \"<b>FLG SHORT CODE</b>\", \"EQUIPMENT + NOZZLE\", \"UTILITY STATION\", \"COMMENTS\"]}\r\n            rowHeaders={true}\r\n            width=\"2200\"\r\n            height=\"635\"\r\n            settings={settings} \r\n            manualColumnResize={true}\r\n            manualRowResize={true}\r\n            filters={true}\r\n            dropdownMenu= {[\r\n                'make_read_only',\r\n                '---------',\r\n                'alignment',\r\n                '---------',\r\n                'filter_by_condition',\r\n                '---------',\r\n                'filter_operators',\r\n                '---------',\r\n                'filter_by_condition2',\r\n                '---------',\r\n                'filter_by_value',\r\n                '---------',\r\n                'filter_action_bar',\r\n              ]}\r\n            columns= {[{ data: \"tag\", type:'text'}, {data: \"spec\", type:\"dropdown\", strict:\"true\", source: specData}, {data: p1bore, type:\"dropdown\", strict:\"true\", source: diametersData}, {data: p2bore, type:\"dropdown\", strict:\"true\", source: diametersData}, {data: p3bore, type:\"dropdown\", strict:\"true\", source: diametersData}, {data: \"rating\", type:\"dropdown\", strict:\"true\", source: ratingData}, {data: \"end_preparation\", type:\"dropdown\", strict:\"true\", source: endPreparationData}, {data: \"line_id\", type:\"text\"}, {data: \"pid\", type:\"dropdown\", strict:\"true\", source: pidData}, {data: \"type\", type:\"text\"}, {data: \"description_plan_code\", type:\"dropdown\", allowInvalid:true, source: descriptionPlaneData}, {data:\"quantity\", type:\"numeric\"}, { data: \"requisition\", type:'text'}, { data: \"description\", type:'text'}, {data: \"description_iso\", type:\"text\"},{data: \"ident\", type:\"text\"}, {data: \"face_to_face\", type:\"text\"}, {data: \"bolt_type\", type:\"dropdown\", strict:\"true\", source: boltTypesData}, {data:\"equipnozz\", type:\"text\"}, {data:\"utility_station\", type:\"text\"}, {data:\"comments\", type:\"text\"}]}\r\n            />\r\n          \r\n            dataTableHeight= \"700px\"\r\n            addRowBtn = <button class=\"btn btn-sm btn-success\" onClick={() => addRow()} style={{marginRight:\"5px\", fontSize:\"18px\", width:\"35px\", height:\"35px\", borderRadius:\"10px\", float:\"right\", marginTop:\"8px\"}}>+</button>\r\n    \r\n            saveBtn = <button className=\"navBar__button\" onClick={()=> saveChanges()} style={{marginTop:\"7px\"}}><img src={SaveIcon} alt=\"save\" className=\"navBar__icon\"></img><p className=\"navBar__button__text\">Save</p></button>\r\n        }else{\r\n            table = <div className=\"connected__panel\"><p className=\"connected__text\">The user {editingUser} is already editing!</p></div>\r\n        }    \r\n\r\n    }else if(currentTab === \"Requests\"){\r\n        table = <CSPTrackerdRequestsDataTable updateDataMethod = {updateDataMethod.bind(this)} updateData = {updateData} />\r\n    }else if(currentTab === \"CSP KeyParams\"){\r\n        table = <CSPTrackerKeyParams success={()=> setSuccessAlert(true)}/>\r\n    }\r\n\r\n\r\n    return(\r\n        \r\n        <body>\r\n            {updateData}\r\n            <IdleTimer\r\n                timeout={1000 * 60 * 15}\r\n                onIdle={handleOnIdle}\r\n                debounce={250}\r\n            />\r\n            <NavBar onChange={value => setCurrentTab(currentTab)}/>\r\n            <div\r\n            className={`alert alert-success ${successAlert ? 'alert-shown' : 'alert-hidden'}`}\r\n            onTransitionEnd={() => setSuccessAlert(false)}\r\n            >\r\n                <AlertF type=\"success\" text=\"Changes saved!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${uploadDrawingSuccess ? 'alert-shown' : 'alert-hidden'}`}\r\n            onTransitionEnd={() => setUploadDrawingSuccess(false)}\r\n            >\r\n                <AlertF type=\"success\" text=\"Drawing uploaded successfully!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${updateDrawingSuccess ? 'alert-shown' : 'alert-hidden'}`}\r\n            onTransitionEnd={() => setUpdateDrawingSuccess(false)}\r\n            >\r\n                <AlertF type=\"success\" text=\"Drawing updated successfully!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${noTagError ? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => setNoTagError(false)}\r\n            >\r\n                <AlertF type=\"waring\" text={errorIndex} margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${invalidFieldError ? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => setInvalidFieldError(false)}\r\n            >\r\n                <AlertF type=\"error\" subtext=\"At least one of the entries had an invalid field!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${requestSuccess? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => setRequestSuccess(false)}\r\n            >\r\n                <AlertF type=\"success\" text=\"SP requested successfully!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${warningBlankRequest ? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => setWarningBlankRequest(false)}\r\n            >\r\n                <AlertF type=\"warning\" text=\"All fileds need to be filled!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${existsRequest ? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => setExistsRequest(false)}\r\n            >\r\n                <AlertF type=\"error\" subtext=\"An SP with that SPTag already exists!\" margin=\"0px\"/>\r\n            </div>\r\n            <div\r\n            className={`alert alert-success ${errorPid ? 'alert-shown' : 'alert-error-hidden'}`}\r\n            onTransitionEnd={() => seterrorPid(false)}\r\n            >\r\n                <AlertF type=\"error\" subtext=\"The specified P&ID is invalid!\" margin=\"0px\"/>\r\n            </div>\r\n            <div className=\"isotracker__row\">\r\n                  <div className=\"isotracker__column\">\r\n                      <img src={CSPTrackerLogo} alt=\"CSPTrackerLogo\" className=\"isoTrackerLogo__image2\" style={{height:\"85px\"}}/>\r\n                      \r\n                      <div className=\"roleSelector__containerF\">\r\n                              <RoleDropDown style={{paddingLeft: \"2px\"}} onChange={value => setCurrentRole(value)} roles = {roles}/>\r\n                      </div>\r\n                      \r\n                  </div>\r\n                  <PieChart width={600} height={400}>\r\n                    <Pie data={counter} dataKey=\"value\" cx=\"50%\" cy=\"60%\"  outerRadius={120} fill=\"#8884d8\" label={renderCustomizedLabel}>\r\n                    {counter.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={COLORS[index]} />\r\n                        ))}\r\n                    </Pie>\r\n                    <Tooltip/>\r\n                </PieChart>\r\n            </div>\r\n            <table className=\"isotracker__table__container\">\r\n                      <tr className=\"isotracker__table__navBar__container\" style={{height:\"65px \"}}>\r\n                          <th  className=\"isotracker__table__navBar\">\r\n                              <div style={{display:\"flex\"}}>\r\n                                {requestBtn}\r\n                                {editBtn}\r\n                                {notificationsBtn}\r\n                                {designNotificationsBtn}\r\n                                {saveBtn}   \r\n                              </div>                           \r\n                               \r\n                          </th>\r\n                      </tr>\r\n                      <tr className=\"isotracker__table__tray__and__table__container\" style={{height: dataTableHeight}}>\r\n                          <td className=\"discplines__table__table\" style={{height: dataTableHeight}} >\r\n                              <div  style={{height: dataTableHeight, width:\"2200px\"}} className=\"isotracker__table__table__container\">\r\n                                {table}\r\n                                {addRowBtn}\r\n                              </div>\r\n                          </td>\r\n                          \r\n                      </tr>\r\n                  </table>\r\n                  <center className=\"actionBtns__container\">   \r\n                    <div style={{display:\"flex\", marginTop:\"10px\"}}>\r\n                        {exportBtn}\r\n                    </div>\r\n                    \r\n                  </center>\r\n                  <br></br>\r\n         </body>\r\n    )\r\n}\r\n\r\nexport default CSPTracker;"]},"metadata":{},"sourceType":"module"}