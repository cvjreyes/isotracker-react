{"ast":null,"code":"import _every from \"lodash/every\";\nimport _mapValues from \"lodash/mapValues\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { getTicksOfScale, parseScale, checkDomainOfScale, getBandSizeOfAxis } from './ChartUtils';\nimport { findChildByType } from './ReactUtils';\n/**\r\n * Calculate the scale function, position, width, height of axes\r\n * @param  {Object} props     Latest props\r\n * @param  {Object} axisMap   The configuration of axes\r\n * @param  {Object} offset    The offset of main part in the svg element\r\n * @param  {String} axisType  The type of axes, x-axis or y-axis\r\n * @param  {String} chartName The name of chart\r\n * @return {Object} Configuration\r\n */\n\nexport var formatAxisMap = function formatAxisMap(props, axisMap, offset, axisType, chartName) {\n  var width = props.width,\n      height = props.height,\n      layout = props.layout,\n      children = props.children;\n  var ids = Object.keys(axisMap);\n  var steps = {\n    left: offset.left,\n    leftMirror: offset.left,\n    right: width - offset.right,\n    rightMirror: width - offset.right,\n    top: offset.top,\n    topMirror: offset.top,\n    bottom: height - offset.bottom,\n    bottomMirror: height - offset.bottom\n  };\n  var hasBar = !!findChildByType(children, 'Bar');\n  return ids.reduce(function (result, id) {\n    var axis = axisMap[id];\n    var orientation = axis.orientation,\n        domain = axis.domain,\n        _axis$padding = axis.padding,\n        padding = _axis$padding === void 0 ? {} : _axis$padding,\n        mirror = axis.mirror,\n        reversed = axis.reversed;\n    var offsetKey = \"\".concat(orientation).concat(mirror ? 'Mirror' : '');\n    var range, x, y, needSpace;\n\n    if (axisType === 'xAxis') {\n      range = [offset.left + (padding.left || 0), offset.left + offset.width - (padding.right || 0)];\n    } else if (axisType === 'yAxis') {\n      range = layout === 'horizontal' ? [offset.top + offset.height - (padding.bottom || 0), offset.top + (padding.top || 0)] : [offset.top + (padding.top || 0), offset.top + offset.height - (padding.bottom || 0)];\n    } else {\n      range = axis.range;\n    }\n\n    if (reversed) {\n      range = [range[1], range[0]];\n    }\n\n    var _parseScale = parseScale(axis, chartName, hasBar),\n        scale = _parseScale.scale,\n        realScaleType = _parseScale.realScaleType;\n\n    scale.domain(domain).range(range);\n    checkDomainOfScale(scale);\n    var ticks = getTicksOfScale(scale, _objectSpread(_objectSpread({}, axis), {}, {\n      realScaleType: realScaleType\n    }));\n\n    if (axisType === 'xAxis') {\n      needSpace = orientation === 'top' && !mirror || orientation === 'bottom' && mirror;\n      x = offset.left;\n      y = steps[offsetKey] - needSpace * axis.height;\n    } else if (axisType === 'yAxis') {\n      needSpace = orientation === 'left' && !mirror || orientation === 'right' && mirror;\n      x = steps[offsetKey] - needSpace * axis.width;\n      y = offset.top;\n    }\n\n    var finalAxis = _objectSpread(_objectSpread(_objectSpread({}, axis), ticks), {}, {\n      realScaleType: realScaleType,\n      x: x,\n      y: y,\n      scale: scale,\n      width: axisType === 'xAxis' ? offset.width : axis.width,\n      height: axisType === 'yAxis' ? offset.height : axis.height\n    });\n\n    finalAxis.bandSize = getBandSizeOfAxis(finalAxis, ticks);\n\n    if (!axis.hide && axisType === 'xAxis') {\n      steps[offsetKey] += (needSpace ? -1 : 1) * finalAxis.height;\n    } else if (!axis.hide) {\n      steps[offsetKey] += (needSpace ? -1 : 1) * finalAxis.width;\n    }\n\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, id, finalAxis));\n  }, {});\n};\nexport var rectWithPoints = function rectWithPoints(_ref, _ref2) {\n  var x1 = _ref.x,\n      y1 = _ref.y;\n  var x2 = _ref2.x,\n      y2 = _ref2.y;\n  return {\n    x: Math.min(x1, x2),\n    y: Math.min(y1, y2),\n    width: Math.abs(x2 - x1),\n    height: Math.abs(y2 - y1)\n  };\n};\n/**\r\n * Compute the x, y, width, and height of a box from two reference points.\r\n * @param  {Object} coords     x1, x2, y1, and y2\r\n * @return {Object} object\r\n */\n\nexport var rectWithCoords = function rectWithCoords(_ref3) {\n  var x1 = _ref3.x1,\n      y1 = _ref3.y1,\n      x2 = _ref3.x2,\n      y2 = _ref3.y2;\n  return rectWithPoints({\n    x: x1,\n    y: y1\n  }, {\n    x: x2,\n    y: y2\n  });\n};\nexport var ScaleHelper = /*#__PURE__*/function () {\n  function ScaleHelper(scale) {\n    _classCallCheck(this, ScaleHelper);\n\n    this.scale = void 0;\n    this.scale = scale;\n  }\n\n  _createClass(ScaleHelper, [{\n    key: \"domain\",\n    get: function get() {\n      return this.scale.domain;\n    }\n  }, {\n    key: \"range\",\n    get: function get() {\n      return this.scale.range;\n    }\n  }, {\n    key: \"rangeMin\",\n    get: function get() {\n      return this.range()[0];\n    }\n  }, {\n    key: \"rangeMax\",\n    get: function get() {\n      return this.range()[1];\n    }\n  }, {\n    key: \"bandwidth\",\n    get: function get() {\n      return this.scale.bandwidth;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply(value) {\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          bandAware = _ref4.bandAware,\n          position = _ref4.position;\n\n      if (value === undefined) {\n        return undefined;\n      }\n\n      if (position) {\n        switch (position) {\n          case 'start':\n            {\n              return this.scale(value);\n            }\n\n          case 'middle':\n            {\n              var offset = this.bandwidth ? this.bandwidth() / 2 : 0;\n              return this.scale(value) + offset;\n            }\n\n          case 'end':\n            {\n              var _offset = this.bandwidth ? this.bandwidth() : 0;\n\n              return this.scale(value) + _offset;\n            }\n\n          default:\n            {\n              return this.scale(value);\n            }\n        }\n      }\n\n      if (bandAware) {\n        var _offset2 = this.bandwidth ? this.bandwidth() / 2 : 0;\n\n        return this.scale(value) + _offset2;\n      }\n\n      return this.scale(value);\n    }\n  }, {\n    key: \"isInRange\",\n    value: function isInRange(value) {\n      var range = this.range();\n      var first = range[0];\n      var last = range[range.length - 1];\n      return first <= last ? value >= first && value <= last : value >= last && value <= first;\n    }\n  }], [{\n    key: \"create\",\n    value: function create(obj) {\n      return new ScaleHelper(obj);\n    }\n  }]);\n\n  return ScaleHelper;\n}();\nScaleHelper.EPS = 1e-4;\nexport var createLabeledScales = function createLabeledScales(options) {\n  var scales = Object.keys(options).reduce(function (res, key) {\n    return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, key, ScaleHelper.create(options[key])));\n  }, {});\n  return _objectSpread(_objectSpread({}, scales), {}, {\n    apply: function apply(coord) {\n      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          bandAware = _ref5.bandAware;\n\n      return _mapValues(coord, function (value, label) {\n        return scales[label].apply(value, {\n          bandAware: bandAware\n        });\n      });\n    },\n    isInRange: function isInRange(coord) {\n      return _every(coord, function (value, label) {\n        return scales[label].isInRange(value);\n      });\n    }\n  });\n};","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/recharts/es6/util/CartesianUtils.js"],"names":["_every","_mapValues","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","value","getTicksOfScale","parseScale","checkDomainOfScale","getBandSizeOfAxis","findChildByType","formatAxisMap","axisMap","offset","axisType","chartName","width","height","layout","children","ids","steps","left","leftMirror","right","rightMirror","top","topMirror","bottom","bottomMirror","hasBar","reduce","result","id","axis","orientation","domain","_axis$padding","padding","mirror","reversed","offsetKey","concat","range","x","y","needSpace","_parseScale","scale","realScaleType","ticks","finalAxis","bandSize","hide","rectWithPoints","_ref","_ref2","x1","y1","x2","y2","Math","min","abs","rectWithCoords","_ref3","ScaleHelper","get","bandwidth","_ref4","undefined","bandAware","position","_offset","_offset2","isInRange","first","last","create","EPS","createLabeledScales","options","scales","res","coord","_ref5","label"],"mappings":"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","sourcesContent":["import _every from \"lodash/every\";\r\nimport _mapValues from \"lodash/mapValues\";\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nimport { getTicksOfScale, parseScale, checkDomainOfScale, getBandSizeOfAxis } from './ChartUtils';\r\nimport { findChildByType } from './ReactUtils';\r\n\r\n/**\r\n * Calculate the scale function, position, width, height of axes\r\n * @param  {Object} props     Latest props\r\n * @param  {Object} axisMap   The configuration of axes\r\n * @param  {Object} offset    The offset of main part in the svg element\r\n * @param  {String} axisType  The type of axes, x-axis or y-axis\r\n * @param  {String} chartName The name of chart\r\n * @return {Object} Configuration\r\n */\r\nexport var formatAxisMap = function formatAxisMap(props, axisMap, offset, axisType, chartName) {\r\n  var width = props.width,\r\n      height = props.height,\r\n      layout = props.layout,\r\n      children = props.children;\r\n  var ids = Object.keys(axisMap);\r\n  var steps = {\r\n    left: offset.left,\r\n    leftMirror: offset.left,\r\n    right: width - offset.right,\r\n    rightMirror: width - offset.right,\r\n    top: offset.top,\r\n    topMirror: offset.top,\r\n    bottom: height - offset.bottom,\r\n    bottomMirror: height - offset.bottom\r\n  };\r\n  var hasBar = !!findChildByType(children, 'Bar');\r\n  return ids.reduce(function (result, id) {\r\n    var axis = axisMap[id];\r\n    var orientation = axis.orientation,\r\n        domain = axis.domain,\r\n        _axis$padding = axis.padding,\r\n        padding = _axis$padding === void 0 ? {} : _axis$padding,\r\n        mirror = axis.mirror,\r\n        reversed = axis.reversed;\r\n    var offsetKey = \"\".concat(orientation).concat(mirror ? 'Mirror' : '');\r\n    var range, x, y, needSpace;\r\n\r\n    if (axisType === 'xAxis') {\r\n      range = [offset.left + (padding.left || 0), offset.left + offset.width - (padding.right || 0)];\r\n    } else if (axisType === 'yAxis') {\r\n      range = layout === 'horizontal' ? [offset.top + offset.height - (padding.bottom || 0), offset.top + (padding.top || 0)] : [offset.top + (padding.top || 0), offset.top + offset.height - (padding.bottom || 0)];\r\n    } else {\r\n      range = axis.range;\r\n    }\r\n\r\n    if (reversed) {\r\n      range = [range[1], range[0]];\r\n    }\r\n\r\n    var _parseScale = parseScale(axis, chartName, hasBar),\r\n        scale = _parseScale.scale,\r\n        realScaleType = _parseScale.realScaleType;\r\n\r\n    scale.domain(domain).range(range);\r\n    checkDomainOfScale(scale);\r\n    var ticks = getTicksOfScale(scale, _objectSpread(_objectSpread({}, axis), {}, {\r\n      realScaleType: realScaleType\r\n    }));\r\n\r\n    if (axisType === 'xAxis') {\r\n      needSpace = orientation === 'top' && !mirror || orientation === 'bottom' && mirror;\r\n      x = offset.left;\r\n      y = steps[offsetKey] - needSpace * axis.height;\r\n    } else if (axisType === 'yAxis') {\r\n      needSpace = orientation === 'left' && !mirror || orientation === 'right' && mirror;\r\n      x = steps[offsetKey] - needSpace * axis.width;\r\n      y = offset.top;\r\n    }\r\n\r\n    var finalAxis = _objectSpread(_objectSpread(_objectSpread({}, axis), ticks), {}, {\r\n      realScaleType: realScaleType,\r\n      x: x,\r\n      y: y,\r\n      scale: scale,\r\n      width: axisType === 'xAxis' ? offset.width : axis.width,\r\n      height: axisType === 'yAxis' ? offset.height : axis.height\r\n    });\r\n\r\n    finalAxis.bandSize = getBandSizeOfAxis(finalAxis, ticks);\r\n\r\n    if (!axis.hide && axisType === 'xAxis') {\r\n      steps[offsetKey] += (needSpace ? -1 : 1) * finalAxis.height;\r\n    } else if (!axis.hide) {\r\n      steps[offsetKey] += (needSpace ? -1 : 1) * finalAxis.width;\r\n    }\r\n\r\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, id, finalAxis));\r\n  }, {});\r\n};\r\nexport var rectWithPoints = function rectWithPoints(_ref, _ref2) {\r\n  var x1 = _ref.x,\r\n      y1 = _ref.y;\r\n  var x2 = _ref2.x,\r\n      y2 = _ref2.y;\r\n  return {\r\n    x: Math.min(x1, x2),\r\n    y: Math.min(y1, y2),\r\n    width: Math.abs(x2 - x1),\r\n    height: Math.abs(y2 - y1)\r\n  };\r\n};\r\n/**\r\n * Compute the x, y, width, and height of a box from two reference points.\r\n * @param  {Object} coords     x1, x2, y1, and y2\r\n * @return {Object} object\r\n */\r\n\r\nexport var rectWithCoords = function rectWithCoords(_ref3) {\r\n  var x1 = _ref3.x1,\r\n      y1 = _ref3.y1,\r\n      x2 = _ref3.x2,\r\n      y2 = _ref3.y2;\r\n  return rectWithPoints({\r\n    x: x1,\r\n    y: y1\r\n  }, {\r\n    x: x2,\r\n    y: y2\r\n  });\r\n};\r\nexport var ScaleHelper = /*#__PURE__*/function () {\r\n  function ScaleHelper(scale) {\r\n    _classCallCheck(this, ScaleHelper);\r\n\r\n    this.scale = void 0;\r\n    this.scale = scale;\r\n  }\r\n\r\n  _createClass(ScaleHelper, [{\r\n    key: \"domain\",\r\n    get: function get() {\r\n      return this.scale.domain;\r\n    }\r\n  }, {\r\n    key: \"range\",\r\n    get: function get() {\r\n      return this.scale.range;\r\n    }\r\n  }, {\r\n    key: \"rangeMin\",\r\n    get: function get() {\r\n      return this.range()[0];\r\n    }\r\n  }, {\r\n    key: \"rangeMax\",\r\n    get: function get() {\r\n      return this.range()[1];\r\n    }\r\n  }, {\r\n    key: \"bandwidth\",\r\n    get: function get() {\r\n      return this.scale.bandwidth;\r\n    }\r\n  }, {\r\n    key: \"apply\",\r\n    value: function apply(value) {\r\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\r\n          bandAware = _ref4.bandAware,\r\n          position = _ref4.position;\r\n\r\n      if (value === undefined) {\r\n        return undefined;\r\n      }\r\n\r\n      if (position) {\r\n        switch (position) {\r\n          case 'start':\r\n            {\r\n              return this.scale(value);\r\n            }\r\n\r\n          case 'middle':\r\n            {\r\n              var offset = this.bandwidth ? this.bandwidth() / 2 : 0;\r\n              return this.scale(value) + offset;\r\n            }\r\n\r\n          case 'end':\r\n            {\r\n              var _offset = this.bandwidth ? this.bandwidth() : 0;\r\n\r\n              return this.scale(value) + _offset;\r\n            }\r\n\r\n          default:\r\n            {\r\n              return this.scale(value);\r\n            }\r\n        }\r\n      }\r\n\r\n      if (bandAware) {\r\n        var _offset2 = this.bandwidth ? this.bandwidth() / 2 : 0;\r\n\r\n        return this.scale(value) + _offset2;\r\n      }\r\n\r\n      return this.scale(value);\r\n    }\r\n  }, {\r\n    key: \"isInRange\",\r\n    value: function isInRange(value) {\r\n      var range = this.range();\r\n      var first = range[0];\r\n      var last = range[range.length - 1];\r\n      return first <= last ? value >= first && value <= last : value >= last && value <= first;\r\n    }\r\n  }], [{\r\n    key: \"create\",\r\n    value: function create(obj) {\r\n      return new ScaleHelper(obj);\r\n    }\r\n  }]);\r\n\r\n  return ScaleHelper;\r\n}();\r\nScaleHelper.EPS = 1e-4;\r\nexport var createLabeledScales = function createLabeledScales(options) {\r\n  var scales = Object.keys(options).reduce(function (res, key) {\r\n    return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, key, ScaleHelper.create(options[key])));\r\n  }, {});\r\n  return _objectSpread(_objectSpread({}, scales), {}, {\r\n    apply: function apply(coord) {\r\n      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\r\n          bandAware = _ref5.bandAware;\r\n\r\n      return _mapValues(coord, function (value, label) {\r\n        return scales[label].apply(value, {\r\n          bandAware: bandAware\r\n        });\r\n      });\r\n    },\r\n    isInRange: function isInRange(coord) {\r\n      return _every(coord, function (value, label) {\r\n        return scales[label].isInRange(value);\r\n      });\r\n    }\r\n  });\r\n};"]},"metadata":{},"sourceType":"module"}