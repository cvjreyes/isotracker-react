{"ast":null,"code":"import e from \"@babel/runtime/helpers/classCallCheck\";\nimport t from \"@babel/runtime/helpers/createClass\";\nimport n from \"@babel/runtime/helpers/assertThisInitialized\";\nimport r from \"@babel/runtime/helpers/inherits\";\nimport i from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport s from \"@babel/runtime/helpers/getPrototypeOf\";\nimport { Component as a, useRef as o, useEffect as u, useMemo as c } from \"react\";\nimport l from \"prop-types\";\nimport d from \"@babel/runtime/helpers/asyncToGenerator\";\nimport h from \"@babel/runtime/helpers/slicedToArray\";\nimport m from \"@babel/runtime/regenerator\";\nimport p from \"@babel/runtime/helpers/typeof\";\nvar f = \"object\" === (\"undefined\" == typeof window || \"undefined\" == typeof window ? \"undefined\" : p(window)),\n    v = f ? document : {},\n    g = [\"mousemove\", \"keydown\", \"wheel\", \"DOMMouseScroll\", \"mousewheel\", \"mousedown\", \"touchstart\", \"touchmove\", \"MSPointerDown\", \"MSPointerMove\", \"visibilitychange\"];\n\nfunction b(e, t) {\n  var n;\n\n  function r() {\n    for (var r = arguments.length, i = new Array(r), s = 0; s < r; s++) {\n      i[s] = arguments[s];\n    }\n\n    n && clearTimeout(n), n = setTimeout(function () {\n      e.apply(void 0, i), n = null;\n    }, t);\n  }\n\n  return r.cancel = function () {\n    clearTimeout(n);\n  }, r;\n}\n\nfunction T(e, t) {\n  var n = 0;\n  return function () {\n    var r = new Date().getTime();\n    if (!(r - n < t)) return n = r, e.apply(void 0, arguments);\n  };\n}\n\nvar _ = 0,\n    y = 0;\n\nfunction w() {\n  var e = new Date().getTime();\n  return e === _ ? 1e3 * e + ++y : (_ = e, y = 0, 1e3 * e);\n}\n\nfunction k() {\n  return Math.random().toString(36).substring(2);\n}\n\nfunction A() {\n  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;\n  return new Promise(function (t) {\n    return setTimeout(t, e);\n  });\n}\n\nfunction I() {\n  return new Date().getTime();\n}\n\nvar E = {\n  create: function create(e) {\n    var t = {\n      messagesCallback: null,\n      bc: new BroadcastChannel(e)\n    };\n    return t.bc.onmessage = function (e) {\n      t.messagesCallback && t.messagesCallback(e.data);\n    }, t;\n  },\n  close: function close(e) {\n    e.bc.close();\n  },\n  onMessage: function onMessage(e, t) {\n    e.messagesCallback = t;\n  },\n  postMessage: function postMessage(e, t) {\n    try {\n      return e.bc.postMessage(t, !1), Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  canBeUsed: function canBeUsed() {\n    return \"function\" == typeof BroadcastChannel;\n  },\n  type: \"broadcastChannel\",\n  averageResponseTime: function averageResponseTime() {\n    return 150;\n  },\n  microSeconds: w\n},\n    L = function () {\n  function n() {\n    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 6e4;\n    e(this, n), this.ttl = t, this.set = new Set(), this.timeMap = new Map();\n  }\n\n  return t(n, [{\n    key: \"has\",\n    value: function value(e) {\n      return this.set.has(e);\n    }\n  }, {\n    key: \"add\",\n    value: function value(e) {\n      this.timeMap.set(e, I()), this.set.add(e), this._removeTooOldValues();\n    }\n  }, {\n    key: \"clear\",\n    value: function value() {\n      this.set.clear(), this.timeMap.clear();\n    }\n  }, {\n    key: \"_removeTooOldValues\",\n    value: function value() {\n      for (var e = I() - this.ttl, t = this.set[Symbol.iterator]();;) {\n        var n = t.next().value;\n        if (!n) return;\n        if (!(this.timeMap.get(n) < e)) return;\n        this.timeMap.delete(n), this.set.delete(n);\n      }\n    }\n  }]), n;\n}();\n\nfunction O() {\n  var e;\n  if (\"undefined\" == typeof window) return null;\n\n  try {\n    e = window.localStorage, e = window[\"ie8-eventlistener/storage\"] || window.localStorage;\n  } catch (e) {}\n\n  return e;\n}\n\nfunction M(e, t) {\n  var n = e,\n      r = function r(e) {\n    e.key === n && t(JSON.parse(e.newValue));\n  };\n\n  return window.addEventListener(\"storage\", r), r;\n}\n\nfunction D() {\n  var e = O();\n  if (!e) return !1;\n\n  try {\n    var t = \"__check\";\n    e.setItem(t, \"works\"), e.removeItem(t);\n  } catch (e) {\n    return !1;\n  }\n\n  return !0;\n}\n\nvar S = {\n  create: function create(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    if (!D()) throw new Error(\"❌ localStorage cannot be used.\");\n    var n = k(),\n        r = new L(t.removeTimeout),\n        i = {\n      channelName: e,\n      uuid: n,\n      eMIs: r\n    };\n    return i.listener = M(e, function (e) {\n      i.messagesCallback && e.uuid !== n && e.token && !r.has(e.token) && (e.data.time && e.data.time < i.messagesCallbackTime || (r.add(e.token), i.messagesCallback(e.data)));\n    }), i;\n  },\n  close: function close(e) {\n    var t;\n    t = e.listener, window.removeEventListener(\"storage\", t);\n  },\n  onMessage: function onMessage(e, t, n) {\n    e.messagesCallbackTime = n, e.messagesCallback = t;\n  },\n  postMessage: function postMessage(e, t) {\n    return new Promise(function (n) {\n      var r = e.channelName,\n          i = {\n        token: k(),\n        time: new Date().getTime(),\n        data: t,\n        uuid: e.uuid\n      },\n          s = JSON.stringify(i);\n      O().setItem(r, s);\n      var a = document.createEvent(\"Event\");\n      a.initEvent(\"storage\", !0, !0), a.key = r, a.newValue = s, window.dispatchEvent(a), n();\n    });\n  },\n  canBeUsed: D,\n  type: \"localStorage\",\n  averageResponseTime: function averageResponseTime() {\n    var e = navigator.userAgent.toLowerCase();\n    return e.includes(\"safari\") && !e.includes(\"chrome\") ? 240 : 120;\n  },\n  microSeconds: w\n},\n    P = new Set();\nvar C = {\n  create: function create(e) {\n    var t = {\n      name: e,\n      messagesCallback: null\n    };\n    return P.add(t), t;\n  },\n  close: function close(e) {\n    P.delete(e);\n  },\n  onMessage: function onMessage(e, t) {\n    e.messagesCallback = t;\n  },\n  postMessage: function postMessage(e, t) {\n    return new Promise(function (n) {\n      return setTimeout(function () {\n        Array.from(P).filter(function (t) {\n          return t.name === e.name;\n        }).filter(function (t) {\n          return t !== e;\n        }).filter(function (e) {\n          return !!e.messagesCallback;\n        }).forEach(function (e) {\n          return e.messagesCallback(t);\n        }), n();\n      }, 5);\n    });\n  },\n  canBeUsed: function canBeUsed() {\n    return !0;\n  },\n  type: \"simulate\",\n  averageResponseTime: function averageResponseTime() {\n    return 5;\n  },\n  microSeconds: w\n},\n    x = [E, S];\n\nfunction B() {\n  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n\n  if (e.type) {\n    if (\"simulate\" === e.type) return C;\n    var t = x.find(function (t) {\n      return t.type === e.type;\n    });\n    if (t) return t;\n    throw new Error(\"❌ Method \".concat(e.type, \" is not supported.\"));\n  }\n\n  var n = x.find(function (e) {\n    return e.canBeUsed();\n  });\n  if (!n) throw new Error(\"❌ No method found \".concat(JSON.stringify(x.map(function (e) {\n    return e.type;\n  }))));\n  return n;\n}\n\nvar R = function () {\n  function n(t) {\n    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    e(this, n), this.name = t, this.options = r, this.method = B(this.options), this.closed = !1, this._isListening = !1, this._onMessageListener = null, this._addEventListeners = {\n      message: [],\n      internal: []\n    }, this._unSendMessagePromises = new Set(), this._beforeClose = [], this._preparePromises = null, j(this);\n  }\n\n  return t(n, [{\n    key: \"postMessage\",\n    value: function value(e) {\n      if (this.closed) throw new Error(\"❌ Cannot post message after channel has closed\");\n      return N(this, \"message\", e);\n    }\n  }, {\n    key: \"postInternal\",\n    value: function value(e) {\n      return N(this, \"internal\", e);\n    }\n  }, {\n    key: \"onmessage\",\n    get: function get() {\n      return this._onMessageListener;\n    },\n    set: function set(e) {\n      var t = {\n        time: this.method.microSeconds(),\n        fn: e\n      };\n      U(this, \"message\", this._onMessageListener), e && \"function\" == typeof e ? (this._onMessageListener = t, Y(this, \"message\", t)) : this._onMessageListener = null;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function value(e, t) {\n      Y(this, e, {\n        time: this.method.microSeconds(),\n        fn: t\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function value(e, t) {\n      U(this, e, this._addEventListeners[e].find(function (e) {\n        return e.fn === t;\n      }));\n    }\n  }, {\n    key: \"close\",\n    value: function value() {\n      var e = this;\n\n      if (!this.closed) {\n        this.closed = !0;\n        var t = this._preparePromises ? this._preparePromises : Promise.resolve();\n        return this._onMessageListener = null, this._addEventListeners.message = [], t.then(function () {\n          return Promise.all(Array.from(e._unSendMessagePromises));\n        }).then(function () {\n          return Promise.all(e._beforeClose.map(function (e) {\n            return e();\n          }));\n        }).then(function () {\n          return e.method.close(e._state);\n        });\n      }\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this.method.type;\n    }\n  }, {\n    key: \"isClosed\",\n    value: function value() {\n      return this.closed;\n    }\n  }]), n;\n}();\n\nfunction N(e, t, n) {\n  var r = {\n    time: e.method.microSeconds(),\n    type: t,\n    data: n\n  };\n  return (e._preparePromises ? e._preparePromises : Promise.resolve()).then(function () {\n    var t = e.method.postMessage(e._state, r);\n    return e._unSendMessagePromises.add(t), t.catch().then(function () {\n      return e._unSendMessagePromises.delete(t);\n    }), t;\n  });\n}\n\nfunction j(e) {\n  var t,\n      n = e.method.create(e.name, e.options);\n  (t = n) && \"function\" == typeof t.then ? (e._preparePromises = n, n.then(function (t) {\n    e._state = t;\n  })) : e._state = n;\n}\n\nfunction X(e) {\n  return e._addEventListeners.message.length > 0 || e._addEventListeners.internal.length > 0;\n}\n\nfunction Y(e, t, n) {\n  e._addEventListeners[t].push(n), function (e) {\n    if (!e._isListening && X(e)) {\n      var t = function t(_t) {\n        e._addEventListeners[_t.type].forEach(function (e) {\n          _t.time >= e.time && e.fn(_t.data);\n        });\n      },\n          n = e.method.microSeconds();\n\n      e._preparePromises ? e._preparePromises.then(function () {\n        e._isListening = !0, e.method.onMessage(e._state, t, n);\n      }) : (e._isListening = !0, e.method.onMessage(e._state, t, n));\n    }\n  }(e);\n}\n\nfunction U(e, t, n) {\n  e._addEventListeners[t] = e._addEventListeners[t].filter(function (e) {\n    return e !== n;\n  }), function (e) {\n    if (e._isListening && !X(e)) {\n      e._isListening = !1;\n      var t = e.method.microSeconds();\n      e.method.onMessage(e._state, null, t);\n    }\n  }(e);\n}\n\nvar F = function () {\n  function n(t, r) {\n    var i = this;\n    e(this, n), this._channel = t, this._options = r, this.isLeader = !1, this.isDead = !1, this.token = k(), this._isApplying = !1, this._reApply = !1, this._unloadFns = [], this._listeners = [], this._intervals = [], this._duplicateListeners = function () {}, this._duplicateCalled = !1, this._onBeforeDie = d(m.mark(function e() {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n\n    var s = function () {\n      var e = d(m.mark(function e() {\n        return m.wrap(function (e) {\n          for (;;) {\n            switch (e.prev = e.next) {\n              case 0:\n                return e.abrupt(\"return\", i.die());\n\n              case 1:\n              case \"end\":\n                return e.stop();\n            }\n          }\n        }, e);\n      }));\n      return function () {\n        return e.apply(this, arguments);\n      };\n    }();\n\n    f && (window.addEventListener(\"beforeUnload\", s), window.addEventListener(\"unload\", s), this._unloadFns.push([\"beforeUnload\", s]), this._unloadFns.push([\"unload\", s]));\n  }\n\n  var r;\n  return t(n, [{\n    key: \"applyOnce\",\n    value: function value() {\n      var e = this;\n      if (this.isLeader) return Promise.resolve(!1);\n      if (this.isDead) return Promise.resolve(!1);\n      if (this._isApplying) return this._reApply = !0, Promise.resolve(!1);\n      this._isApplying = !0;\n\n      var t = !1,\n          n = function n(_n) {\n        \"leader\" === _n.context && _n.token !== e.token && (\"apply\" === _n.action && _n.token > e.token && (t = !0), \"tell\" === _n.action && (t = !0));\n      };\n\n      return this._channel.addEventListener(\"internal\", n), V(this, \"apply\").then(function () {\n        return A(e._options.responseTime);\n      }).then(function () {\n        return t ? Promise.reject(new Error()) : V(e, \"apply\");\n      }).then(function () {\n        return A(e._options.responseTime);\n      }).then(function () {\n        return t ? Promise.reject(new Error()) : V(e);\n      }).then(function () {\n        return function (e) {\n          e.isLeader = !0;\n\n          var t = function t(_t2) {\n            \"leader\" === _t2.context && \"apply\" === _t2.action && V(e, \"tell\"), \"leader\" !== _t2.context || \"tell\" !== _t2.action || e._duplicateCalled || (e._duplicateCalled = !0, e._duplicateListeners(), V(e, \"tell\"));\n          };\n\n          return e._channel.addEventListener(\"internal\", t), e._listeners.push(t), V(e, \"tell\");\n        }(e);\n      }).then(function () {\n        return !0;\n      }).catch(function () {\n        return !1;\n      }).then(function (t) {\n        return e._channel.removeEventListener(\"internal\", n), e._isApplying = !1, !t && e._reApply ? (e._reApply = !1, e.applyOnce()) : t;\n      });\n    }\n  }, {\n    key: \"awaitLeadership\",\n    value: function value() {\n      var e;\n      return this._awaitLeadershipPromise || (this._awaitLeadershipPromise = (e = this).isLeader ? Promise.resolve() : new Promise(function (t) {\n        var n = !1;\n\n        function r() {\n          n || (n = !0, clearInterval(i), e._channel.removeEventListener(\"internal\", s), t(!0));\n        }\n\n        e.applyOnce().then(function () {\n          e.isLeader && r();\n        });\n        var i = setInterval(function () {\n          e.applyOnce().then(function () {\n            e.isLeader && r();\n          });\n        }, e._options.fallbackInterval);\n\n        e._intervals.push(i);\n\n        var s = function s(t) {\n          \"leader\" === t.context && \"death\" === t.action && e.applyOnce().then(function () {\n            e.isLeader && r();\n          });\n        };\n\n        e._channel.addEventListener(\"internal\", s), e._listeners.push(s);\n      })), this._awaitLeadershipPromise;\n    }\n  }, {\n    key: \"onDuplicate\",\n    get: function get() {\n      return this._duplicateListeners;\n    },\n    set: function set(e) {\n      this._duplicateListeners = e;\n    }\n  }, {\n    key: \"onBeforeDie\",\n    get: function get() {\n      return this._onBeforeDie;\n    },\n    set: function set(e) {\n      this._onBeforeDie = e;\n    }\n  }, {\n    key: \"die\",\n    value: (r = d(m.mark(function e() {\n      var t = this;\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (!this.isDead) {\n                e.next = 2;\n                break;\n              }\n\n              return e.abrupt(\"return\");\n\n            case 2:\n              return this.isDead = !0, e.next = 5, this.onBeforeDie();\n\n            case 5:\n              return this._listeners.forEach(function (e) {\n                return t._channel.removeEventListener(\"internal\", e);\n              }), this._intervals.forEach(function (e) {\n                return clearInterval(e);\n              }), this._unloadFns.forEach(function (e) {\n                f && window.removeEventListener(e[0], e[1]);\n              }), e.abrupt(\"return\", V(this, \"death\"));\n\n            case 9:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e, this);\n    })), function () {\n      return r.apply(this, arguments);\n    })\n  }]), n;\n}();\n\nfunction V(e, t) {\n  var n = {\n    context: \"leader\",\n    action: t,\n    token: e.token\n  };\n  return e._channel.postInternal(n);\n}\n\nvar J = function J(e) {\n  var t = e.type,\n      n = e.channelName,\n      r = e.fallbackInterval,\n      i = e.responseTime,\n      s = e.emitOnAllTabs,\n      a = e.callbacks,\n      o = e.start,\n      u = e.reset,\n      c = e.pause,\n      l = e.resume,\n      p = new R(n, {\n    type: t\n  }),\n      f = function (e, t) {\n    if (e._leaderElector) throw new Error(\"❌ MessageChannel already has a leader-elector\");\n    var n = new F(e, t);\n    return e._beforeClose.push(d(m.mark(function e() {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return e.abrupt(\"return\", n.die());\n\n            case 1:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }))), e._leaderElector = n, n;\n  }(p, {\n    fallbackInterval: r,\n    responseTime: i\n  }),\n      v = {};\n\n  v[f.token] = !1;\n\n  var g = !1,\n      b = !0,\n      T = function T() {\n    return g;\n  };\n\n  f.awaitLeadership().then(function () {\n    g = !0;\n  }), p.addEventListener(\"message\", function (e) {\n    var t = h(e, 2),\n        n = t[0],\n        r = t[1];\n\n    switch (n) {\n      case \"register\":\n        v[r] = !1;\n        break;\n\n      case \"deregister\":\n        delete v[r];\n        break;\n\n      case \"idle\":\n        _(r);\n\n        break;\n\n      case \"active\":\n        y(r);\n        break;\n\n      case \"emitIdle\":\n        a.onIdle();\n        break;\n\n      case \"emitActive\":\n        a.onActive();\n        break;\n\n      case \"start\":\n        o(!0);\n        break;\n\n      case \"reset\":\n        u(!0);\n        break;\n\n      case \"pause\":\n        c(!0);\n        break;\n\n      case \"resume\":\n        l(!0);\n    }\n  });\n\n  var _ = function _() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f.token;\n    v[e] = !0;\n    var t = Object.values(v).every(function (e) {\n      return e;\n    });\n    !b && t && (b = !0, T() ? (a.onIdle(), s && w(\"emitIdle\")) : w(\"idle\"));\n  },\n      y = function y() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f.token;\n    v[e] = !1;\n    var t = Object.values(v).some(function (e) {\n      return !e;\n    });\n    b && t && (b = !1, T() ? (a.onActive(), s && w(\"emitActive\")) : w(\"active\"));\n  };\n\n  f.onDuplicate = d(m.mark(function e() {\n    return m.wrap(function (e) {\n      for (;;) {\n        switch (e.prev = e.next) {\n          case 0:\n            return e.next = 2, f.die();\n\n          case 2:\n            return e.abrupt(\"return\", e.sent);\n\n          case 3:\n          case \"end\":\n            return e.stop();\n        }\n      }\n    }, e);\n  })), f.onBeforeDie = d(m.mark(function e() {\n    return m.wrap(function (e) {\n      for (;;) {\n        switch (e.prev = e.next) {\n          case 0:\n            return e.next = 2, w(\"deregister\");\n\n          case 2:\n            return e.abrupt(\"return\", e.sent);\n\n          case 3:\n          case \"end\":\n            return e.stop();\n        }\n      }\n    }, e);\n  }));\n\n  var w = function () {\n    var e = d(m.mark(function e(t) {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return e.abrupt(\"return\", p.postMessage([t, f.token]));\n\n            case 1:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function (t) {\n      return e.apply(this, arguments);\n    };\n  }(),\n      k = function () {\n    var e = d(m.mark(function e() {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              return e.next = 2, f.die();\n\n            case 2:\n              return e.next = 4, p.close();\n\n            case 4:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    }));\n    return function () {\n      return e.apply(this, arguments);\n    };\n  }();\n\n  return w(\"register\"), {\n    close: k,\n    send: w,\n    isLeader: T,\n    idle: _,\n    active: y,\n    isAllIdle: function isAllIdle() {\n      return b;\n    },\n    setAllIdle: function setAllIdle(e) {\n      b = e;\n    }\n  };\n};\n\nfunction z(e) {\n  var t = function () {\n    if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n    if (Reflect.construct.sham) return !1;\n    if (\"function\" == typeof Proxy) return !0;\n\n    try {\n      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n    } catch (e) {\n      return !1;\n    }\n  }();\n\n  return function () {\n    var n,\n        r = s(e);\n\n    if (t) {\n      var a = s(this).constructor;\n      n = Reflect.construct(r, arguments, a);\n    } else n = r.apply(this, arguments);\n\n    return i(this, n);\n  };\n}\n\nvar G = function (i) {\n  r(o, a);\n  var s = z(o);\n\n  function o(t) {\n    var r;\n    if (e(this, o), (r = s.call(this, t)).state = {\n      idle: !1,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      lastIdle: null,\n      idleTime: 0,\n      remaining: null,\n      pageX: null,\n      pageY: null\n    }, r.tId = null, r.eventsBound = !1, r.callbackRefs = {}, t.debounce > 0 && t.throttle > 0) throw new Error(\"onAction can either be throttled or debounced (not both)\");\n    return t.debounce > 0 ? r._onAction = b(t.onAction, t.debounce) : t.throttle > 0 ? r._onAction = T(t.onAction, t.throttle) : r._onAction = t.onAction, t.eventsThrottle > 0 ? r.handleEvent = T(r._handleEvent.bind(n(r)), t.eventsThrottle) : r.handleEvent = r._handleEvent.bind(n(r)), t.startOnMount && !t.startManually || (r.state.idle = !0), r._toggleIdleState = r._toggleIdleState.bind(n(r)), r.start = r.start.bind(n(r)), r.reset = r.reset.bind(n(r)), r.pause = r.pause.bind(n(r)), r.resume = r.resume.bind(n(r)), r.isIdle = r.isIdle.bind(n(r)), r.getRemainingTime = r.getRemainingTime.bind(n(r)), r.getElapsedTime = r.getElapsedTime.bind(n(r)), r.getLastActiveTime = r.getLastActiveTime.bind(n(r)), r.getLastIdleTime = r.getLastIdleTime.bind(n(r)), r.getTotalIdleTime = r.getTotalIdleTime.bind(n(r)), r.getTotalActiveTime = r.getTotalActiveTime.bind(n(r)), r;\n  }\n\n  return t(o, [{\n    key: \"componentDidMount\",\n    value: function value() {\n      var e = this.props,\n          t = e.startOnMount,\n          n = e.startManually;\n      this._setupTabManager(), n || (t ? this.start() : this._bindEvents());\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function value(e) {\n      e.debounce !== this.props.debounce && this.props.debounce > 0 ? (this._onAction.cancel && this._onAction.cancel(), this._onAction = b(this.props.onAction, this.props.debounce)) : e.throttle !== this.props.throttle && this.props.throttle > 0 ? (this._onAction.cancel && this._onAction.cancel(), this._onAction = T(this.props.onAction, this.props.throttle)) : (e.throttle && 0 === this.props.throttle || e.debounce && 0 === this.props.debounce) && (this._onAction.cancel && this._onAction.cancel(), this._onAction = this.props.onAction), e.eventsThrottle !== this.props.eventsThrottle && (this._unbindEvents(), this.handleEvent = T(this._handleEvent.bind(this), this.props.eventsThrottle), this._bindEvents()), e.timeout !== this.props.timeout && this.state.idle && this.reset(), e.onActive !== this.props.onActive && (this.callbackRefs.onActive = this.props.onActive), e.onIdle !== this.props.onIdle && (this.callbackRefs.onIdle = this.props.onIdle);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function value() {\n      clearTimeout(this.tId), this._unbindEvents(!0), this._onAction.cancel && this._onAction.cancel(), this.manager && this.manager.close().catch(console.error);\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      return this.props.children || null;\n    }\n  }, {\n    key: \"_setupTabManager\",\n    value: function value() {\n      var e = this.props,\n          t = e.crossTab,\n          n = e.onIdle,\n          r = e.onActive;\n\n      if (this.callbackRefs = {\n        onIdle: n,\n        onActive: r\n      }, t) {\n        var i = Object.assign({\n          channelName: \"idle-timer\",\n          fallbackInterval: 2e3,\n          responseTime: 100,\n          removeTimeout: 6e4,\n          emitOnAllTabs: !1\n        }, !0 === t ? {} : t),\n            s = i.type,\n            a = i.channelName,\n            o = i.fallbackInterval,\n            u = i.responseTime,\n            c = i.emitOnAllTabs;\n        this.manager = J({\n          type: s,\n          channelName: a,\n          fallbackInterval: o,\n          responseTime: u,\n          emitOnAllTabs: c,\n          callbacks: this.callbackRefs,\n          start: this.start,\n          reset: this.reset,\n          pause: this.pause,\n          resume: this.resume\n        });\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function value() {\n      var e = this;\n\n      if (f) {\n        var t = this.props,\n            n = t.element,\n            r = t.events,\n            i = t.passive,\n            s = t.capture;\n        this.eventsBound || (r.forEach(function (t) {\n          n.addEventListener(t, e.handleEvent, {\n            capture: s,\n            passive: i\n          });\n        }), this.eventsBound = !0);\n      }\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function value() {\n      var e = this,\n          t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n\n      if (f) {\n        var n = this.props,\n            r = n.element,\n            i = n.events,\n            s = n.passive,\n            a = n.capture;\n        (this.eventsBound || t) && (i.forEach(function (t) {\n          r.removeEventListener(t, e.handleEvent, {\n            capture: a,\n            passive: s\n          });\n        }), this.eventsBound = !1);\n      }\n    }\n  }, {\n    key: \"_toggleIdleState\",\n    value: function value(e) {\n      var t = this;\n      this.setState(function (e) {\n        return {\n          idle: !e.idle,\n          lastIdle: e.idle ? e.lastIdle : +new Date() - t.props.timeout,\n          idleTime: e.idle ? e.idleTime + +new Date() - e.lastIdle : e.idleTime\n        };\n      }, function () {\n        var n = t.props,\n            r = n.onActive,\n            i = n.onIdle,\n            s = n.stopOnIdle;\n        t.state.idle ? (s && (clearTimeout(t.tId), t.tId = null, t._unbindEvents()), t.manager ? t.manager.idle() : i(e)) : (t._bindEvents(), t.manager ? t.manager.active() : r(e));\n      });\n    }\n  }, {\n    key: \"_handleEvent\",\n    value: function value(e) {\n      var t = this.state,\n          n = t.remaining,\n          r = t.pageX,\n          i = t.pageY,\n          s = t.idle,\n          a = this.props,\n          o = a.timeout,\n          u = a.stopOnIdle;\n\n      if (this._onAction(e), !n) {\n        if (\"mousemove\" === e.type) {\n          if (e.pageX === r && e.pageY === i) return;\n          if (void 0 === e.pageX && void 0 === e.pageY) return;\n          if (this.getElapsedTime() < 200) return;\n        }\n\n        clearTimeout(this.tId), this.tId = null;\n        var c = +new Date() - this.getLastActiveTime();\n        (s && !u || !s && c > o) && this._toggleIdleState(e), this.setState({\n          lastActive: +new Date(),\n          pageX: e.pageX,\n          pageY: e.pageY\n        }), s && u || (this.tId = setTimeout(this._toggleIdleState, o));\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function value() {\n      var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];\n      clearTimeout(this.tId), this.tId = null, this._bindEvents(), this.setState({\n        idle: !1,\n        oldDate: +new Date(),\n        lastActive: +new Date(),\n        remaining: null\n      }), this.manager && (this.manager.setAllIdle(!1), !e && this.props.crossTab.emitOnAllTabs && this.manager.send(\"start\"));\n      var t = this.props.timeout;\n      this.tId = setTimeout(this._toggleIdleState, t);\n    }\n  }, {\n    key: \"reset\",\n    value: function value() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n      clearTimeout(this.tId), this.tId = null, this._bindEvents(), this.state.idle && (this.manager ? this.manager.active() : this.props.onActive()), this.manager && (this.manager.setAllIdle(!1), !e && this.props.crossTab.emitOnAllTabs && this.manager.send(\"reset\")), this.setState({\n        idle: !1,\n        oldDate: +new Date(),\n        lastActive: +new Date(),\n        remaining: null\n      });\n      var t = this.props.timeout;\n      this.tId = setTimeout(this._toggleIdleState, t);\n    }\n  }, {\n    key: \"pause\",\n    value: function value() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n          t = this.state.remaining;\n      null === t && (this._unbindEvents(), clearTimeout(this.tId), this.tId = null, this.manager && !e && this.props.crossTab.emitOnAllTabs && this.manager.send(\"pause\"), this.setState({\n        remaining: this.getRemainingTime()\n      }));\n    }\n  }, {\n    key: \"resume\",\n    value: function value() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n          t = this.state,\n          n = t.remaining,\n          r = t.idle;\n      null !== n && (this._bindEvents(), this.manager && !e && this.props.crossTab.emitOnAllTabs && this.manager.send(\"resume\"), r || (this.tId = setTimeout(this._toggleIdleState, n), this.setState({\n        remaining: null,\n        lastActive: +new Date()\n      })));\n    }\n  }, {\n    key: \"getRemainingTime\",\n    value: function value() {\n      var e = this.state,\n          t = e.remaining,\n          n = e.lastActive,\n          r = this.props.timeout;\n      if (null !== t) return t < 0 ? 0 : t;\n      var i = r - (+new Date() - n);\n      return i < 0 ? 0 : i;\n    }\n  }, {\n    key: \"getElapsedTime\",\n    value: function value() {\n      var e = this.state.oldDate;\n      return +new Date() - e;\n    }\n  }, {\n    key: \"getLastIdleTime\",\n    value: function value() {\n      return this.state.lastIdle;\n    }\n  }, {\n    key: \"getTotalIdleTime\",\n    value: function value() {\n      var e = this.state,\n          t = e.idle,\n          n = e.lastIdle,\n          r = e.idleTime;\n      return t ? +new Date() - n + r : r;\n    }\n  }, {\n    key: \"getLastActiveTime\",\n    value: function value() {\n      return this.state.lastActive;\n    }\n  }, {\n    key: \"getTotalActiveTime\",\n    value: function value() {\n      return this.getElapsedTime() - this.getTotalIdleTime();\n    }\n  }, {\n    key: \"isIdle\",\n    value: function value() {\n      return this.state.idle;\n    }\n  }, {\n    key: \"isLeader\",\n    value: function value() {\n      return !this.manager || this.manager.isLeader();\n    }\n  }]), o;\n}();\n\nfunction W() {\n  var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n      t = e.timeout,\n      n = void 0 === t ? 12e5 : t,\n      r = e.element,\n      i = void 0 === r ? v : r,\n      s = e.events,\n      a = void 0 === s ? g : s,\n      l = e.onIdle,\n      h = void 0 === l ? function () {} : l,\n      p = e.onActive,\n      _ = void 0 === p ? function () {} : p,\n      y = e.onAction,\n      w = void 0 === y ? function () {} : y,\n      k = e.debounce,\n      A = void 0 === k ? 0 : k,\n      I = e.throttle,\n      E = void 0 === I ? 0 : I,\n      L = e.eventsThrottle,\n      O = void 0 === L ? 200 : L,\n      M = e.startOnMount,\n      D = void 0 === M || M,\n      S = e.startManually,\n      P = void 0 !== S && S,\n      C = e.stopOnIdle,\n      x = void 0 !== C && C,\n      B = e.capture,\n      R = void 0 === B || B,\n      N = e.passive,\n      j = void 0 === N || N,\n      X = e.crossTab,\n      Y = void 0 !== X && X,\n      U = o(!1),\n      F = o(!0),\n      V = o(+new Date()),\n      z = o(null),\n      G = o(null),\n      W = o(null),\n      q = o(null),\n      H = o(null),\n      K = o(null),\n      Q = o(0),\n      Z = o(!0),\n      $ = o(n),\n      ee = o(null);\n\n  Y && (!0 === Y && (Y = {}), Y = Object.assign({\n    channelName: \"idle-timer\",\n    fallbackInterval: 2e3,\n    responseTime: 100,\n    removeTimeout: 6e4,\n    emitOnAllTabs: !1\n  }, Y));\n  var te = o(h),\n      ne = o(_),\n      re = o(w);\n  u(function () {\n    te.current = h;\n  }, [h]), u(function () {\n    ne.current = _;\n  }, [_]), u(function () {\n    re.current = w;\n  }, [w]);\n\n  var ie = c(function () {\n    function e(e) {\n      re.current(e);\n    }\n\n    return e.cancel && e.cancel(), A > 0 ? b(e, A) : E > 0 ? T(e, E) : e;\n  }, [E, A]),\n      se = function se(e) {\n    var t = !F.current;\n    F.current = t, t ? (x && (clearTimeout(q.current), q.current = null, ce()), K.current = +new Date() - $.current, ee.current ? ee.current.idle() : te.current(e)) : (Q.current += +new Date() - K.current, ue(), ee.current ? ee.current.active() : ne.current(e));\n  },\n      ae = function ae(e) {\n    if (ie(e), !z.current) {\n      if (\"mousemove\" === e.type) {\n        if (e.pageX === G && e.pageY === W) return;\n        if (void 0 === e.pageX && void 0 === e.pageY) return;\n        if (de() < 200) return;\n      }\n\n      clearTimeout(q.current), q.current = null;\n      var t = +new Date() - pe();\n      (F.current && !x || !F.current && t > $.current) && se(e), H.current = +new Date(), G.current = e.pageX, W.current = e.pageY, F.current || (q.current = setTimeout(se, $.current));\n    }\n  },\n      oe = o(ae),\n      ue = function ue() {\n    f && (U.current || (a.forEach(function (e) {\n      i.addEventListener(e, oe.current, {\n        capture: R,\n        passive: j\n      });\n    }), U.current = !0));\n  },\n      ce = function ce() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n    f && (U.current || e) && (a.forEach(function (e) {\n      i.removeEventListener(e, oe.current, {\n        capture: R,\n        passive: j\n      });\n    }), U.current = !1);\n  },\n      le = function le() {\n    if (null !== z.current) return z.current < 0 ? 0 : z.current;\n    var e = $.current - (+new Date() - H.current);\n    return e < 0 ? 0 : e;\n  },\n      de = function de() {\n    return +new Date() - V.current;\n  },\n      he = function he() {\n    return K.current;\n  },\n      me = function me() {\n    return F.current ? +new Date() - K.current + Q.current : Q.current;\n  },\n      pe = function pe() {\n    return H.current;\n  },\n      fe = function fe() {\n    return de() - me();\n  },\n      ve = function ve() {\n    return F.current;\n  },\n      ge = function ge() {\n    return !ee.current || ee.current.isLeader();\n  },\n      be = function be() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n    clearTimeout(q.current), q.current = null, ue(), F.current = !1, V.current = +new Date(), H.current = +new Date(), z.current = null, ee.current && (ee.current.setAllIdle(!1), !e && Y.emitOnAllTabs && ee.current.send(\"start\")), q.current = setTimeout(se, $.current);\n  },\n      Te = function Te() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n    clearTimeout(q.current), q.current = null, ue(), F.current && (ee.current ? ee.current.active() : ne.current()), F.current = !1, V.current = +new Date(), H.current = +new Date(), z.current = null, ee.current && (ee.current.setAllIdle(!1), !e && Y.emitOnAllTabs && ee.current.send(\"reset\")), q.current = setTimeout(se, $.current);\n  },\n      _e = function _e() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n    null === z.current && (ce(), clearTimeout(q.current), q.current = null, z.current = le(), ee.current && !e && Y.emitOnAllTabs && ee.current.send(\"pause\"));\n  },\n      ye = function ye() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n    null !== z.current && (ue(), F.current || (q.current = setTimeout(se, z.current), z.current = null, H.current = +new Date()), ee.current && !e && Y.emitOnAllTabs && ee.current.send(\"resume\"));\n  };\n\n  return u(function () {\n    if (A > 0 && E > 0) throw new Error(\"onAction can either be throttled or debounced (not both)\");\n    return Y && (ee.current = J({\n      type: Y.type,\n      channelName: Y.channelName,\n      fallbackInterval: Y.fallbackInterval,\n      responseTime: Y.responseTime,\n      emitOnAllTabs: Y.emitOnAllTabs,\n      callbacks: {\n        onIdle: te.current,\n        onActive: ne.current\n      },\n      start: be,\n      reset: Te,\n      pause: _e,\n      resume: ye\n    })), P ? d(m.mark(function e() {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (clearTimeout(q.current), ce(!0), !Y) {\n                e.next = 5;\n                break;\n              }\n\n              return e.next = 5, ee.current.close();\n\n            case 5:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })) : (D ? be() : ue(), d(m.mark(function e() {\n      return m.wrap(function (e) {\n        for (;;) {\n          switch (e.prev = e.next) {\n            case 0:\n              if (clearTimeout(q.current), ce(!0), ie.cancel && ie.cancel(), !Y) {\n                e.next = 6;\n                break;\n              }\n\n              return e.next = 6, ee.current.close();\n\n            case 6:\n            case \"end\":\n              return e.stop();\n          }\n        }\n      }, e);\n    })));\n  }, []), u(function () {\n    var e = U.current;\n    e && ce(), oe.current = O > 0 ? T(ae, O) : ae, e && ue();\n  }, [O]), u(function () {\n    $.current = n, !Z.current && F.current && Te(), Z.current = !1;\n  }, [n]), {\n    isIdle: ve,\n    isLeader: ge,\n    start: be,\n    pause: _e,\n    reset: Te,\n    resume: ye,\n    getLastIdleTime: he,\n    getTotalIdleTime: me,\n    getLastActiveTime: pe,\n    getTotalActiveTime: fe,\n    getElapsedTime: de,\n    getRemainingTime: le\n  };\n}\n\nG.propTypes = {\n  timeout: l.number,\n  events: l.arrayOf(l.string),\n  onIdle: l.func,\n  onActive: l.func,\n  onAction: l.func,\n  debounce: l.number,\n  throttle: l.number,\n  eventsThrottle: l.number,\n  element: l.oneOfType([l.object, l.element]),\n  startOnMount: l.bool,\n  startManually: l.bool,\n  stopOnIdle: l.bool,\n  passive: l.bool,\n  capture: l.bool,\n  crossTab: l.oneOfType([l.bool, l.shape({\n    type: l.oneOf([\"broadcastChannel\", \"localStorage\", \"simulate\"]),\n    channelName: l.string,\n    fallbackInterval: l.number,\n    responseTime: l.number,\n    removeTimeout: l.number,\n    emitOnAllTabs: l.bool\n  })])\n}, G.defaultProps = {\n  timeout: 12e5,\n  element: v,\n  events: g,\n  onIdle: function onIdle() {},\n  onActive: function onActive() {},\n  onAction: function onAction() {},\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: !0,\n  startManually: !1,\n  stopOnIdle: !1,\n  capture: !0,\n  passive: !0,\n  crossTab: !1\n}, W.propTypes = {\n  timeout: l.number,\n  events: l.arrayOf(l.string),\n  onIdle: l.func,\n  onActive: l.func,\n  onAction: l.func,\n  debounce: l.number,\n  throttle: l.number,\n  eventsThrottle: l.number,\n  element: l.oneOfType([l.object, l.element]),\n  startOnMount: l.bool,\n  startManually: l.bool,\n  stopOnIdle: l.bool,\n  passive: l.bool,\n  capture: l.bool,\n  crossTab: l.oneOfType([l.bool, l.shape({\n    type: l.oneOf([\"broadcastChannel\", \"localStorage\", \"simulate\"]),\n    channelName: l.string,\n    fallbackInterval: l.number,\n    responseTime: l.number,\n    removeTimeout: l.number,\n    emitOnAllTabs: l.bool\n  })])\n}, W.defaultProps = {\n  timeout: 12e5,\n  element: v,\n  events: g,\n  onIdle: function onIdle() {},\n  onActive: function onActive() {},\n  onAction: function onAction() {},\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: !0,\n  startManually: !1,\n  stopOnIdle: !1,\n  capture: !0,\n  passive: !0,\n  crossTab: !1\n};\nexport default G;\nexport { W as useIdleTimer };","map":{"version":3,"sources":["../src/utils.js","../src/MessageChannel/methods/broadcastChannel.js","../src/MessageChannel/ObliviousSet.js","../src/MessageChannel/methods/localStorage.js","../src/MessageChannel/methods/simulate.js","../src/MessageChannel/methodChooser.js","../src/MessageChannel/MessageChannel.js","../src/MessageChannel/leaderElection.js","../src/TabManager.js","../src/IdleTimer.js","../src/useIdleTimer.js"],"names":["IS_BROWSER","window","DEFAULT_ELEMENT","document","DEFAULT_EVENTS","debounced","fn","delay","timerId","result","args","clearTimeout","setTimeout","cancel","throttled","lastCall","now","Date","getTime","lastMs","additional","microSeconds","ms","randomToken","Math","random","toString","substring","obj","then","sleep","time","Promise","resolve","channelName","state","messagesCallback","bc","BroadcastChannel","onmessage","msg","data","channelState","close","messageJson","postMessage","err","reject","create","onMessage","canBeUsed","type","averageResponseTime","ObliviousSet","ttl","set","Set","timeMap","Map","value","this","has","add","_removeTooOldValues","clear","olderThen","iterator","Symbol","next","get","getLocalStorage","localStorage","e","key","writeObj","token","uuid","JSON","stringify","setItem","ev","createEvent","initEvent","newValue","dispatchEvent","addStorageEventListener","listener","parse","addEventListener","removeEventListener","options","Error","eMIs","removeTimeout","msgObj","messagesCallbackTime","ls","removeItem","userAgent","navigator","toLowerCase","includes","defaultTime","SIMULATE_CHANNELS","name","Array","from","filter","channel","forEach","METHODS","BroadcastChannelMethod","LocalStorageMethod","chooseMethod","SimulateMethod","method","find","m","useMethod","map","MessageChannel","closed","_isListening","_onMessageListener","_addEventListeners","message","internal","_unSendMessagePromises","_beforeClose","_preparePromises","_prepareChannel","_post","listenObj","_removeListenerObject","_addListenerObject","awaitPrepare","all","_this","_state","messageChannel","sendPromise","maybePromise","s","_hasMessageListeners","length","push","_startListening","o","_stopListening","listenerFn","LeaderElection","_channel","_options","isLeader","isDead","_isApplying","_reApply","_unloadFns","_listeners","_intervals","_duplicateListeners","_duplicateCalled","_onBeforeDie","unloadFn","die","stopCriteria","handleMessage","context","_this2","action","_sendMessage","responseTime","beLeader","success","applyOnce","_awaitLeadershipPromise","onBeforeDie","_this3","clearInterval","interval","uFn","leaderElector","resolved","finish","whenDeathListener","setInterval","fallbackInterval","msgJson","postInternal","isLeaderListener","_leaderElector","elector","TabManager","emitOnAllTabs","callbacks","start","reset","pause","resume","createLeaderElection","registry","leader","allIdle","awaitLeadership","id","idle","active","onIdle","onActive","bool","isIdle","Object","values","every","v","send","isActive","some","onDuplicate","isAllIdle","setAllIdle","IdleTimer","Component","props","oldDate","lastActive","lastIdle","idleTime","remaining","pageX","pageY","tId","eventsBound","callbackRefs","debounce","throttle","_onAction","onAction","eventsThrottle","handleEvent","_handleEvent","bind","startOnMount","startManually","_toggleIdleState","getRemainingTime","getElapsedTime","getLastActiveTime","getLastIdleTime","getTotalIdleTime","getTotalActiveTime","_setupTabManager","_bindEvents","prevProps","_unbindEvents","timeout","manager","console","error","children","crossTab","assign","element","events","passive","capture","force","setState","prevState","_this4","stopOnIdle","elapsedTimeSinceLastActive","remote","timeLeft","propTypes","PropTypes","number","arrayOf","string","func","oneOfType","object","shape","oneOf","defaultProps","useIdleTimer","useRef","firstLoad","_timeout","emitOnIdle","emitOnActive","emitOnAction","useEffect","current","intermediateOnAction","useMemo","callOnAction","nextIdle","eventsWereBound"],"mappings":"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","sourcesContent":["/**\n * Determine if we are in a browser\n * or a server environment\n * @type {Boolean}\n * @private\n */\nexport const IS_BROWSER =\n  (typeof window === 'undefined' ? 'undefined' : typeof window) === 'object'\n\n/**\n * Default element to listen for events on\n * @type {Object}\n * @private\n */\nexport const DEFAULT_ELEMENT = IS_BROWSER ? document : {}\n\n/**\n * The default events to determine activity\n * @type {Array}\n * @private\n */\nexport const DEFAULT_EVENTS = [\n  'mousemove',\n  'keydown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'mousedown',\n  'touchstart',\n  'touchmove',\n  'MSPointerDown',\n  'MSPointerMove',\n  'visibilitychange'\n]\n\n/**\n * Creates a debounced function that delays invoking func until\n * after delay milliseconds has elapsed since the last time the\n * debounced function was invoked.\n * @name debounced\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function debounced (fn, delay) {\n  let timerId\n  function result (...args) {\n    if (timerId) {\n      clearTimeout(timerId)\n    }\n    timerId = setTimeout(() => {\n      fn(...args)\n      timerId = null\n    }, delay)\n  }\n\n  result.cancel = function () {\n    clearTimeout(timerId)\n  }\n\n  return result\n}\n\n/**\n * Creates a throttled function that only invokes func at most\n * once per every wait milliseconds.\n * @name throttled\n * @param  {Function} fn   Function to debounce\n * @param  {Number} delay  How long to wait\n * @return {Function}      Executed Function\n * @private\n **/\nexport function throttled (fn, delay) {\n  let lastCall = 0\n  return function (...args) {\n    const now = new Date().getTime()\n    if (now - lastCall < delay) {\n      return\n    }\n    lastCall = now\n    return fn(...args)\n  }\n}\n\nlet lastMs = 0\nlet additional = 0\n\n/**\n * Returns current time in microseconds.\n *\n * @returns {Number} current time in microseconds\n * @private\n */\nexport function microSeconds () {\n  const ms = new Date().getTime()\n  if (ms === lastMs) {\n    additional++\n    return ms * 1000 + additional\n  } else {\n    lastMs = ms\n    additional = 0\n    return ms * 1000\n  }\n}\n\n/**\n * Generate and return a random token.\n *\n * @returns {String} Random token.\n * @private\n */\nexport function randomToken () {\n  return Math.random().toString(36).substring(2)\n}\n\n/**\n * Checks if a js object is a promise.\n *\n * @param {*} obj  Any javascript object.\n * @returns {Boolean} Wether or not this object is a promise.\n */\nexport function isPromise (obj) {\n  if (obj && typeof obj.then === 'function') {\n    /* istanbul ignore next */\n    return true\n  } else {\n    return false\n  }\n}\n\n/**\n * Sleeps for x amount of milliseconds.\n *\n * @param {Number} time   Amount of time in milliseconds.\n * @returns {Promise}\n * @private\n */\nexport function sleep (time = 0) {\n  return new Promise(resolve => setTimeout(resolve, time))\n}\n\n/**\n * Get the current timestamp.\n *\n * @returns {Number}\n * @private\n */\nexport function now () {\n  return new Date().getTime()\n}\n\n/**\n * Waits until the given function returns true\n * @param  {function}  fn\n * @return {Promise}\n */\nexport function waitUntil (fn, timeout = 0, interval = 20) {\n  let timedOut = false\n  let ok = false\n\n  /* istanbul ignore next */\n  if (timeout !== 0) {\n    sleep(timeout).then(() => {\n      timedOut = true\n    })\n  }\n\n  return new Promise((resolve, reject) => {\n    const runLoop = () => {\n      if (ok) {\n        resolve()\n        return\n      }\n      /* istanbul ignore next */\n      if (timedOut) {\n        reject(new Error(`❌ waitUntil reached timeout of ${timeout}ms`))\n        return\n      }\n      sleep(interval).then(() => {\n        ok = fn()\n        runLoop()\n      })\n    }\n    runLoop()\n  })\n}\n","/* eslint-env browser */\nimport { microSeconds } from '../../utils'\n\nexport const type = 'broadcastChannel'\n\nexport function create (channelName) {\n  const state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName)\n  }\n\n  state.bc.onmessage = msg => {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data)\n    }\n  }\n\n  return state\n}\n\nexport function close (channelState) {\n  channelState.bc.close()\n}\n\nexport function postMessage (channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false)\n    return Promise.resolve()\n  } catch (err) {\n    /* istanbul ignore next */\n    return Promise.reject(err)\n  }\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  if (typeof BroadcastChannel === 'function') {\n    return true\n  } else {\n    /* istanbul ignore next */\n    return false\n  }\n}\n\nexport function averageResponseTime () {\n  return 150\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { now } from '../utils'\n\nexport default class ObliviousSet {\n  constructor (ttl = 1000 * 60) {\n    this.ttl = ttl\n    this.set = new Set()\n    this.timeMap = new Map()\n  }\n\n  has (value) {\n    return this.set.has(value)\n  }\n\n  add (value) {\n    this.timeMap.set(value, now())\n    this.set.add(value)\n    this._removeTooOldValues()\n  }\n\n  clear () {\n    this.set.clear()\n    this.timeMap.clear()\n  }\n\n  _removeTooOldValues () {\n    const olderThen = now() - this.ttl\n    const iterator = this.set[Symbol.iterator]()\n\n    while (true) {\n      const value = iterator.next().value\n      if (!value) return // no more elements\n      const time = this.timeMap.get(value)\n      if (time < olderThen) {\n        this.timeMap.delete(value)\n        this.set.delete(value)\n      } else {\n        // We reached a value that is not old enough\n        return\n      }\n    }\n  }\n}\n","import ObliviousSet from '../ObliviousSet'\n\nimport {\n  randomToken,\n  microSeconds\n} from '../../utils'\n\nexport const type = 'localStorage'\n\n/**\n * Returns local storage instance\n */\nexport function getLocalStorage () {\n  let localStorage\n  if (typeof window === 'undefined') return null\n  try {\n    localStorage = window.localStorage\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage\n  } catch (e) {\n    // New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n  return localStorage\n}\n\nexport function storageKey (channelName) {\n  return channelName\n}\n\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => {\n    const key = storageKey(channelState.channelName)\n    const writeObj = {\n      token: randomToken(),\n      time: new Date().getTime(),\n      data: messageJson,\n      uuid: channelState.uuid\n    }\n    const value = JSON.stringify(writeObj)\n    getLocalStorage().setItem(key, value)\n\n    /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n    const ev = document.createEvent('Event')\n    ev.initEvent('storage', true, true)\n    ev.key = key\n    ev.newValue = value\n    window.dispatchEvent(ev)\n\n    resolve()\n  })\n}\n\nexport function addStorageEventListener (channelName, fn) {\n  const key = storageKey(channelName)\n  const listener = ev => {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue))\n    }\n  }\n  window.addEventListener('storage', listener)\n  return listener\n}\nexport function removeStorageEventListener (listener) {\n  window.removeEventListener('storage', listener)\n}\n\nexport function create (channelName, options = {}) {\n  if (!canBeUsed()) {\n    /* istanbul ignore next */\n    throw new Error('❌ localStorage cannot be used.')\n  }\n\n  const uuid = randomToken()\n\n  /**\n     * eMIs\n     * contains all messages that have been emitted before\n     * @type {ObliviousSet}\n     */\n  const eMIs = new ObliviousSet(options.removeTimeout)\n\n  const state = {\n    channelName,\n    uuid,\n    eMIs // emittedMessagesIds\n  }\n\n  state.listener = addStorageEventListener(\n    channelName,\n    (msgObj) => {\n      if (!state.messagesCallback) return // no listener\n      if (msgObj.uuid === uuid) return // own message\n      if (!msgObj.token || eMIs.has(msgObj.token)) return // already emitted\n      if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return // too old\n\n      eMIs.add(msgObj.token)\n      state.messagesCallback(msgObj.data)\n    }\n  )\n\n  return state\n}\n\nexport function close (channelState) {\n  removeStorageEventListener(channelState.listener)\n}\n\nexport function onMessage (channelState, fn, time) {\n  channelState.messagesCallbackTime = time\n  channelState.messagesCallback = fn\n}\n\nexport function canBeUsed () {\n  const ls = getLocalStorage()\n\n  if (!ls) return false\n\n  try {\n    const key = '__check'\n    ls.setItem(key, 'works')\n    ls.removeItem(key)\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n\n    /* istanbul ignore next */\n    return false\n  }\n\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  const defaultTime = 120\n  const userAgent = navigator.userAgent.toLowerCase()\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2\n  }\n  return defaultTime\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import { microSeconds } from '../../utils'\n\nexport const type = 'simulate'\n\nconst SIMULATE_CHANNELS = new Set()\n\nexport function create (channelName) {\n  const state = {\n    name: channelName,\n    messagesCallback: null\n  }\n  SIMULATE_CHANNELS.add(state)\n\n  return state\n}\n\nexport function close (channelState) {\n  SIMULATE_CHANNELS.delete(channelState)\n}\n\nexport function postMessage (channelState, messageJson) {\n  return new Promise(resolve => setTimeout(() => {\n    const channelArray = Array.from(SIMULATE_CHANNELS)\n    channelArray\n      .filter(channel => channel.name === channelState.name)\n      .filter(channel => channel !== channelState)\n      .filter(channel => !!channel.messagesCallback)\n      .forEach(channel => channel.messagesCallback(messageJson))\n    resolve()\n  }, 5))\n}\n\nexport function onMessage (channelState, fn) {\n  channelState.messagesCallback = fn\n}\n\n/* istanbul ignore next */\nexport function canBeUsed () {\n  return true\n}\n\n/* istanbul ignore next */\nexport function averageResponseTime () {\n  return 5\n}\n\nexport default {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n}\n","import BroadcastChannelMethod from './methods/broadcastChannel'\nimport LocalStorageMethod from './methods/localStorage'\nimport SimulateMethod from './methods/simulate'\n\n// Order is important\nconst METHODS = [\n  BroadcastChannelMethod,\n  LocalStorageMethod\n]\n\nexport function chooseMethod (options = {}) {\n  if (options.type) {\n    // For testing\n    if (options.type === 'simulate') {\n      return SimulateMethod\n    }\n\n    // Chosen type\n    const method = METHODS.find(m => m.type === options.type)\n    if (!method) throw new Error(`❌ Method ${options.type} is not supported.`)\n    else return method\n  }\n\n  const useMethod = METHODS.find(method => method.canBeUsed())\n\n  /* istanbul ignore next */\n  if (!useMethod) {\n    throw new Error(`❌ No method found ${JSON.stringify(METHODS.map(m => m.type))}`)\n  }\n  return useMethod\n}\n","import { chooseMethod } from './methodChooser'\nimport { isPromise } from '../utils'\n\nexport class MessageChannel {\n  constructor (name, options = {}) {\n    this.name = name\n    this.options = options\n    this.method = chooseMethod(this.options)\n    this.closed = false\n\n    // isListening\n    this._isListening = false\n\n    /**\n     * _onMessageListener\n     * setting onmessage twice,\n     * will overwrite the first listener\n     */\n    this._onMessageListener = null\n\n    /**\n     * _addEventListeners\n     */\n    this._addEventListeners = {\n      message: [],\n      internal: []\n    }\n\n    /**\n     * Un send message promises\n     * where the sending is still in progress\n     * @type {Set<Promise>}\n     */\n    this._unSendMessagePromises = new Set()\n\n    /**\n     * _beforeClose\n     * array of promises that will be awaited\n     * before the channel is closed\n     */\n    this._beforeClose = []\n\n    /**\n     * _preparePromise\n     */\n    this._preparePromises = null\n    _prepareChannel(this)\n  }\n\n  postMessage (msg) {\n    if (this.closed) {\n      throw new Error(\n        '❌ Cannot post message after channel has closed'\n      )\n    }\n    return _post(this, 'message', msg)\n  }\n\n  postInternal (msg) {\n    return _post(this, 'internal', msg)\n  }\n\n  set onmessage (fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _removeListenerObject(this, 'message', this._onMessageListener)\n    if (fn && typeof fn === 'function') {\n      this._onMessageListener = listenObj\n      _addListenerObject(this, 'message', listenObj)\n    } else {\n      /* istanbul ignore next */\n      this._onMessageListener = null\n    }\n  }\n\n  /* istanbul ignore next */\n  get onmessage () {\n    return this._onMessageListener\n  }\n\n  addEventListener (type, fn) {\n    const time = this.method.microSeconds()\n    const listenObj = {\n      time,\n      fn\n    }\n    _addListenerObject(this, type, listenObj)\n  }\n\n  removeEventListener (type, fn) {\n    const obj = this._addEventListeners[type].find(obj => obj.fn === fn)\n    _removeListenerObject(this, type, obj)\n  }\n\n  close () {\n    if (this.closed) {\n      return\n    }\n    this.closed = true\n    const awaitPrepare = this._preparePromises ? this._preparePromises : Promise.resolve()\n\n    this._onMessageListener = null\n    this._addEventListeners.message = []\n\n    return awaitPrepare\n      // Wait until all current sending are processed\n      .then(() => Promise.all(Array.from(this._unSendMessagePromises)))\n      // Run before-close hooks\n      .then(() => Promise.all(this._beforeClose.map(fn => fn())))\n      // Close the channel\n      .then(() => this.method.close(this._state))\n  }\n\n  get type () {\n    return this.method.type\n  }\n\n  isClosed () {\n    return this.closed\n  }\n}\n\nfunction _post (messageChannel, type, msg) {\n  const time = messageChannel.method.microSeconds()\n  const msgObj = {\n    time,\n    type,\n    data: msg\n  }\n\n  const awaitPrepare = messageChannel._preparePromises ? messageChannel._preparePromises : Promise.resolve()\n  return awaitPrepare.then(() => {\n    const sendPromise = messageChannel.method.postMessage(\n      messageChannel._state,\n      msgObj\n    )\n\n    // add/remove to un-send messages list\n    messageChannel._unSendMessagePromises.add(sendPromise)\n    sendPromise\n      .catch()\n      .then(() => messageChannel._unSendMessagePromises.delete(sendPromise))\n\n    return sendPromise\n  })\n}\n\nfunction _prepareChannel (channel) {\n  const maybePromise = channel.method.create(channel.name, channel.options)\n  /* istanbul ignore next */\n  if (isPromise(maybePromise)) {\n    channel._preparePromises = maybePromise\n    maybePromise.then(s => {\n      channel._state = s\n    })\n  } else {\n    channel._state = maybePromise\n  }\n}\n\nfunction _hasMessageListeners (channel) {\n  if (channel._addEventListeners.message.length > 0) return true\n  if (channel._addEventListeners.internal.length > 0) return true\n  return false\n}\n\nfunction _addListenerObject (channel, type, obj) {\n  channel._addEventListeners[type].push(obj)\n  _startListening(channel)\n}\n\nfunction _removeListenerObject (channel, type, obj) {\n  channel._addEventListeners[type] = channel._addEventListeners[type].filter(o => o !== obj)\n  _stopListening(channel)\n}\n\nfunction _startListening (channel) {\n  if (!channel._isListening && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n\n    const listenerFn = msgObj => {\n      channel._addEventListeners[msgObj.type].forEach(obj => {\n        if (msgObj.time >= obj.time) {\n          obj.fn(msgObj.data)\n        }\n      })\n    }\n\n    const time = channel.method.microSeconds()\n    if (channel._preparePromises) {\n      /* istanbul ignore next */\n      channel._preparePromises.then(() => {\n        channel._isListening = true\n        channel.method.onMessage(\n          channel._state,\n          listenerFn,\n          time\n        )\n      })\n    } else {\n      channel._isListening = true\n      channel.method.onMessage(\n        channel._state,\n        listenerFn,\n        time\n      )\n    }\n  }\n}\n\nfunction _stopListening (channel) {\n  if (channel._isListening && !_hasMessageListeners(channel)) {\n    // no one is listening, stop subscribing\n    channel._isListening = false\n    const time = channel.method.microSeconds()\n    channel.method.onMessage(\n      channel._state,\n      null,\n      time\n    )\n  }\n}\n","import { IS_BROWSER, sleep, randomToken } from '../utils'\n\nclass LeaderElection {\n  constructor (channel, options) {\n    this._channel = channel\n    this._options = options\n\n    this.isLeader = false\n    this.isDead = false\n    this.token = randomToken()\n\n    this._isApplying = false\n    this._reApply = false\n\n    // things to clean up\n    this._unloadFns = []\n    this._listeners = []\n    this._intervals = []\n    this._duplicateListeners = () => { }\n    this._duplicateCalled = false\n    this._onBeforeDie = async () => {}\n\n    const unloadFn = async () => this.die()\n\n    if (IS_BROWSER) {\n      window.addEventListener('beforeUnload', unloadFn)\n      window.addEventListener('unload', unloadFn)\n\n      this._unloadFns.push(['beforeUnload', unloadFn])\n      this._unloadFns.push(['unload', unloadFn])\n    }\n  }\n\n  applyOnce () {\n    if (this.isLeader) return Promise.resolve(false)\n    if (this.isDead) return Promise.resolve(false)\n\n    // do nothing if already running\n    if (this._isApplying) {\n      this._reApply = true\n      return Promise.resolve(false)\n    }\n    this._isApplying = true\n\n    let stopCriteria = false\n    const received = []\n\n    const handleMessage = (msg) => {\n      if (msg.context === 'leader' && msg.token !== this.token) {\n        received.push(msg)\n\n        if (msg.action === 'apply') {\n          // Other is applying\n          if (msg.token > this.token) {\n            // Other has higher token, stop applying\n            stopCriteria = true\n          }\n        }\n\n        if (msg.action === 'tell') {\n          // Other is already leader\n          stopCriteria = true\n        }\n      }\n    }\n    this._channel.addEventListener('internal', handleMessage)\n\n    return _sendMessage(this, 'apply') // send out that this one is applying\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this, 'apply')\n      })\n      .then(() => sleep(this._options.responseTime)) // let others time to respond\n      .then(() => {\n        if (stopCriteria) return Promise.reject(new Error())\n        else return _sendMessage(this)\n      })\n      .then(() => beLeader(this)) // no one disagreed -> this one is now leader\n      .then(() => true)\n      .catch(() => false) // apply not successful\n      .then(success => {\n        this._channel.removeEventListener('internal', handleMessage)\n        this._isApplying = false\n        if (!success && this._reApply) {\n          this._reApply = false\n          return this.applyOnce()\n        } else return success\n      })\n  }\n\n  awaitLeadership () {\n    if (\n      !this._awaitLeadershipPromise\n    ) {\n      this._awaitLeadershipPromise = _awaitLeadershipOnce(this)\n    }\n    return this._awaitLeadershipPromise\n  }\n\n  set onDuplicate (fn) {\n    this._duplicateListeners = fn\n  }\n\n  /* istanbul ignore next */\n  get onDuplicate () {\n    return this._duplicateListeners\n  }\n\n  set onBeforeDie (fn) {\n    this._onBeforeDie = fn\n  }\n\n  /* istanbul ignore next */\n  get onBeforeDie () {\n    return this._onBeforeDie\n  }\n\n  async die () {\n    if (this.isDead) return\n    this.isDead = true\n\n    await this.onBeforeDie()\n    this._listeners.forEach(listener => this._channel.removeEventListener('internal', listener))\n    this._intervals.forEach(interval => clearInterval(interval))\n    this._unloadFns.forEach(uFn => {\n      if (IS_BROWSER) {\n        window.removeEventListener(uFn[0], uFn[1])\n      }\n    })\n    return _sendMessage(this, 'death')\n  }\n}\n\nfunction _awaitLeadershipOnce (leaderElector) {\n  if (leaderElector.isLeader) return Promise.resolve()\n\n  return new Promise(resolve => {\n    let resolved = false\n\n    function finish () {\n      /* istanbul ignore next */\n      if (resolved) {\n        return\n      }\n      resolved = true\n      clearInterval(interval)\n      leaderElector._channel.removeEventListener('internal', whenDeathListener)\n      resolve(true)\n    }\n\n    // try once now\n    leaderElector.applyOnce().then(() => {\n      if (leaderElector.isLeader) {\n        finish()\n      }\n    })\n\n    // try on fallbackInterval\n    const interval = setInterval(() => {\n      /* istanbul ignore next */\n      leaderElector.applyOnce().then(() => {\n        if (leaderElector.isLeader) {\n          finish()\n        }\n      })\n    }, leaderElector._options.fallbackInterval)\n    leaderElector._intervals.push(interval)\n\n    // try when other leader dies\n    const whenDeathListener = msg => {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.applyOnce().then(() => {\n          if (leaderElector.isLeader) finish()\n        })\n      }\n    }\n    leaderElector._channel.addEventListener('internal', whenDeathListener)\n    leaderElector._listeners.push(whenDeathListener)\n  })\n}\n\n/**\n * Sends and internal message over the broadcast-channel\n */\nfunction _sendMessage (leaderElector, action) {\n  const msgJson = {\n    context: 'leader',\n    action,\n    token: leaderElector.token\n  }\n  return leaderElector._channel.postInternal(msgJson)\n}\n\nexport function beLeader (leaderElector) {\n  leaderElector.isLeader = true\n\n  const isLeaderListener = msg => {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell')\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._duplicateCalled) {\n      /**\n       * Another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       */\n      leaderElector._duplicateCalled = true\n      leaderElector._duplicateListeners() // message the lib user so the app can handle the problem\n      _sendMessage(leaderElector, 'tell') // ensure other leader also knows the problem\n    }\n  }\n  leaderElector._channel.addEventListener('internal', isLeaderListener)\n  leaderElector._listeners.push(isLeaderListener)\n  return _sendMessage(leaderElector, 'tell')\n}\n\nexport function createLeaderElection (channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('❌ MessageChannel already has a leader-elector')\n  }\n\n  const elector = new LeaderElection(channel, options)\n  channel._beforeClose.push(async () => elector.die())\n\n  channel._leaderElector = elector\n  return elector\n}\n","import { MessageChannel, createLeaderElection } from './MessageChannel'\nexport const TabManager = ({\n  type,\n  channelName,\n  fallbackInterval,\n  responseTime,\n  emitOnAllTabs,\n  callbacks,\n  start,\n  reset,\n  pause,\n  resume\n}) => {\n  const channel = new MessageChannel(channelName, { type })\n  const elector = createLeaderElection(channel, { fallbackInterval, responseTime })\n  const registry = {}\n\n  // Register self\n  registry[elector.token] = false\n\n  let leader = false\n  let allIdle = true\n\n  const isLeader = () => leader\n\n  elector.awaitLeadership().then(() => {\n    leader = true\n  })\n\n  channel.addEventListener('message', ([type, id]) => {\n    switch (type) {\n      case 'register':\n        registry[id] = false\n        break\n      case 'deregister':\n        delete registry[id]\n        break\n      case 'idle':\n        idle(id)\n        break\n      case 'active':\n        active(id)\n        break\n      case 'emitIdle':\n        callbacks.onIdle()\n        break\n      case 'emitActive':\n        callbacks.onActive()\n        break\n      case 'start':\n        start(true)\n        break\n      case 'reset':\n        reset(true)\n        break\n      case 'pause':\n        pause(true)\n        break\n      case 'resume':\n        resume(true)\n        break\n      default:\n        // no op\n    }\n  })\n\n  const setAllIdle = bool => {\n    allIdle = bool\n  }\n\n  const isAllIdle = () => allIdle\n\n  const idle = (id = elector.token) => {\n    registry[id] = true\n    const isIdle = Object.values(registry).every(v => v)\n    if (!allIdle && isIdle) {\n      allIdle = true\n      if (isLeader()) {\n        callbacks.onIdle()\n        if (emitOnAllTabs) send('emitIdle')\n      } else {\n        send('idle')\n      }\n    }\n  }\n\n  const active = (id = elector.token) => {\n    registry[id] = false\n    const isActive = Object.values(registry).some(v => !v)\n    if (allIdle && isActive) {\n      allIdle = false\n      if (isLeader()) {\n        callbacks.onActive()\n        if (emitOnAllTabs) send('emitActive')\n      } else {\n        send('active')\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  elector.onDuplicate = async () => await elector.die()\n  elector.onBeforeDie = async () => await send('deregister')\n\n  const send = async message => channel.postMessage([message, elector.token])\n\n  const close = async () => {\n    await elector.die()\n    await channel.close()\n  }\n\n  // Register self with remote tabs\n  send('register')\n\n  return { close, send, isLeader, idle, active, isAllIdle, setAllIdle }\n}\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name IdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @class IdleTimer\n * @private\n */\nclass IdleTimer extends Component {\n  /**\n   * Creates an instance of IdleTimer\n   * bind all of our internal events here\n   * for best performance\n   * @param {Object} props\n   * @return {IdleTimer}\n   * @private\n   */\n  constructor (props) {\n    super(props)\n\n    /**\n     * Sets initial component state\n     * @type {Object}\n     * @private\n     */\n    this.state = {\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      lastIdle: null,\n      idleTime: 0,\n      remaining: null,\n      pageX: null,\n      pageY: null\n    }\n\n    /**\n     * The timer instance\n     * @type {Timeout}\n     * @private\n     */\n    this.tId = null\n\n    /**\n     * Wether or not events are bound\n     * @type {boolean}\n     * @private\n     */\n    this.eventsBound = false\n\n    this.callbackRefs = {}\n\n    // Debounce and throttle can't both be set\n    if (props.debounce > 0 && props.throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Create debounced action if applicable\n    if (props.debounce > 0) {\n      this._onAction = debounced(props.onAction, props.debounce)\n\n    // Create throttled action if applicable\n    } else if (props.throttle > 0) {\n      this._onAction = throttled(props.onAction, props.throttle)\n\n    // Set custom onAction\n    } else {\n      this._onAction = props.onAction\n    }\n\n    // Create a throttle event handler if applicable\n    if (props.eventsThrottle > 0) {\n      this.handleEvent = throttled(this._handleEvent.bind(this), props.eventsThrottle)\n    } else {\n      this.handleEvent = this._handleEvent.bind(this)\n    }\n\n    // If startOnMount is set, idle state defaults to true\n    if (!props.startOnMount || props.startManually) {\n      this.state.idle = true\n    }\n\n    // Bind all events to component scope, built for speed 🚀\n    this._toggleIdleState = this._toggleIdleState.bind(this)\n    this.start = this.start.bind(this)\n    this.reset = this.reset.bind(this)\n    this.pause = this.pause.bind(this)\n    this.resume = this.resume.bind(this)\n    this.isIdle = this.isIdle.bind(this)\n    this.getRemainingTime = this.getRemainingTime.bind(this)\n    this.getElapsedTime = this.getElapsedTime.bind(this)\n    this.getLastActiveTime = this.getLastActiveTime.bind(this)\n    this.getLastIdleTime = this.getLastIdleTime.bind(this)\n    this.getTotalIdleTime = this.getTotalIdleTime.bind(this)\n    this.getTotalActiveTime = this.getTotalActiveTime.bind(this)\n  }\n\n  /**\n   * Runs once the component has mounted\n   * here we handle automatically starting\n   * the idletimer\n   * @private\n   */\n  componentDidMount () {\n    const { startOnMount, startManually } = this.props\n\n    // Set up cross tab\n    this._setupTabManager()\n\n    if (startManually) return\n    if (startOnMount) {\n      this.start()\n    } else {\n      this._bindEvents()\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    // Update debounce function\n    if ((prevProps.debounce !== this.props.debounce) && this.props.debounce > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = debounced(this.props.onAction, this.props.debounce)\n    } else\n    // Update throttle function\n    if ((prevProps.throttle !== this.props.throttle) && this.props.throttle > 0) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = throttled(this.props.onAction, this.props.throttle)\n    } else\n    // Remove throttle or debounce\n    if (\n      (prevProps.throttle && this.props.throttle === 0) ||\n      (prevProps.debounce && this.props.debounce === 0)\n    ) {\n      if (this._onAction.cancel) this._onAction.cancel()\n      this._onAction = this.props.onAction\n    }\n\n    // Update event throttle function\n    if (prevProps.eventsThrottle !== this.props.eventsThrottle) {\n      this._unbindEvents()\n      this.handleEvent = throttled(this._handleEvent.bind(this), this.props.eventsThrottle)\n      this._bindEvents()\n    }\n    // Update timeout value\n    if (prevProps.timeout !== this.props.timeout) {\n      if (this.state.idle) this.reset()\n    }\n\n    // Update callback refs\n    if (prevProps.onActive !== this.props.onActive) this.callbackRefs.onActive = this.props.onActive\n    if (prevProps.onIdle !== this.props.onIdle) this.callbackRefs.onIdle = this.props.onIdle\n  }\n\n  /**\n   * Called before the component un-mounts\n   * here we clear the timer and remove\n   * all the event listeners\n   * @private\n   */\n  componentWillUnmount () {\n    // Clear timeout to prevent delayed state changes\n    clearTimeout(this.tId)\n    this._unbindEvents(true)\n    // Cancel any debounced onAction handlers\n    if (this._onAction.cancel) this._onAction.cancel()\n    /* istanbul ignore next */\n    if (this.manager) {\n      this.manager.close().catch(console.error)\n    }\n  }\n\n  /**\n   * Render children if IdleTimer is used as a wrapper\n   * @return {Component} children\n   * @private\n   */\n  render () {\n    const { children } = this.props\n    return children || null\n  }\n\n  /**\n   * Setup the Tab Manager.\n   * @private\n   */\n  _setupTabManager () {\n    const { crossTab, onIdle, onActive } = this.props\n    this.callbackRefs = { onIdle, onActive }\n\n    /* istanbul ignore next */\n    if (crossTab) {\n      const {\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs\n      } = Object.assign({\n        channelName: 'idle-timer',\n        fallbackInterval: 2000,\n        responseTime: 100,\n        removeTimeout: 1000 * 60,\n        emitOnAllTabs: false\n      }, crossTab === true ? {} : crossTab)\n\n      this.manager = TabManager({\n        type,\n        channelName,\n        fallbackInterval,\n        responseTime,\n        emitOnAllTabs,\n        callbacks: this.callbackRefs,\n        start: this.start,\n        reset: this.reset,\n        pause: this.pause,\n        resume: this.resume\n      })\n    }\n  }\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  _bindEvents () {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    const { element, events, passive, capture } = this.props\n    if (!this.eventsBound) {\n      events.forEach(e => {\n        element.addEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  _unbindEvents (force = false) {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    const { element, events, passive, capture } = this.props\n    if (this.eventsBound || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, this.handleEvent, {\n          capture,\n          passive\n        })\n      })\n      this.eventsBound = false\n    }\n  }\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  _toggleIdleState (e) {\n    // Fire the appropriate action\n    // and pass the event through\n    // Toggle the idle state\n    this.setState((prevState) => ({\n      idle: !prevState.idle,\n      lastIdle: !prevState.idle ? (+new Date()) - this.props.timeout : prevState.lastIdle,\n      idleTime: prevState.idle ? prevState.idleTime + (+new Date()) - prevState.lastIdle : prevState.idleTime\n    }), () => {\n      const { onActive, onIdle, stopOnIdle } = this.props\n      const { idle } = this.state\n      if (idle) {\n        if (stopOnIdle) {\n          // Clear any existing timeout\n          clearTimeout(this.tId)\n          this.tId = null\n          // Unbind events\n          this._unbindEvents()\n        }\n\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.idle()\n        } else {\n          onIdle(e)\n        }\n      } else {\n        this._bindEvents()\n        if (this.manager) {\n          /* istanbul ignore next */\n          this.manager.active()\n        } else {\n          onActive(e)\n        }\n      }\n    })\n  }\n\n  /**\n   * Event handler for supported event types\n   * @param  {Object} e event object\n   * @private\n   */\n  _handleEvent (e) {\n    const { remaining, pageX, pageY, idle } = this.state\n    const { timeout, stopOnIdle } = this.props\n\n    // Fire onAction event\n    this._onAction(e)\n\n    // Already active, ignore events\n    if (remaining) return\n\n    // Mousemove event\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      /* istanbul ignore next */\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      /* istanbul ignore next */\n      const elapsed = this.getElapsedTime()\n      /* istanbul ignore next */\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - this.getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if ((idle && !stopOnIdle) || (!idle && elapsedTimeSinceLastActive > timeout)) {\n      this._toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    this.setState({\n      lastActive: +new Date(),\n      pageX: e.pageX,\n      pageY: e.pageY\n    })\n\n    // If the user is idle and stopOnIdle flag is not set\n    // set a new timeout\n    if (idle) {\n      if (!stopOnIdle) {\n        this.tId = setTimeout(this._toggleIdleState, timeout)\n      }\n    } else {\n      this.tId = setTimeout(this._toggleIdleState, timeout)\n    }\n  }\n\n  /**\n   * Set initial state and start timer\n   * @name start\n   */\n  start (remote = true) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('start')\n      }\n    }\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Restore initial state and restart timer, calling onActive\n   * @name reset\n   */\n  reset (remote = false) {\n    // Clear timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Bind the events\n    this._bindEvents()\n\n    if (this.state.idle) {\n      if (this.manager) {\n        /* istanbul ignore next */\n        this.manager.active()\n      } else {\n        this.props.onActive()\n      }\n    }\n\n    if (this.manager) {\n      /* istanbul ignore next */\n      this.manager.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('reset')\n      }\n    }\n\n    // Reset state\n    this.setState({\n      idle: false,\n      oldDate: +new Date(),\n      lastActive: +new Date(),\n      remaining: null\n    })\n\n    // Set new timeout\n    const { timeout } = this.props\n    this.tId = setTimeout(this._toggleIdleState, timeout)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  pause (remote = false) {\n    // Timer is already paused\n    const { remaining } = this.state\n    if (remaining !== null) return\n\n    // Unbind events\n    this._unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(this.tId)\n    this.tId = null\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('pause')\n      }\n    }\n\n    // Define how much is left on the timer\n    this.setState({\n      remaining: this.getRemainingTime()\n    })\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  resume (remote = false) {\n    // Timer is not paused\n    const { remaining, idle } = this.state\n    if (remaining === null) return\n\n    // Bind events\n    this._bindEvents()\n\n    // Send event to other tabs\n    if (this.manager) {\n      /* istanbul ignore next */\n      if (!remote && this.props.crossTab.emitOnAllTabs) {\n        this.manager.send('resume')\n      }\n    }\n\n    // Start timer and clear remaining\n    // if we are in the active state\n    if (!idle) {\n      // Set a new timeout\n      this.tId = setTimeout(this._toggleIdleState, remaining)\n      // Set new state\n      this.setState({ remaining: null, lastActive: +new Date() })\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  getRemainingTime () {\n    const { remaining, lastActive } = this.state\n    const { timeout } = this.props\n\n    // If idle there is no time remaining\n    if (remaining !== null) {\n      return remaining < 0 ? 0 : remaining\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = timeout - ((+new Date()) - lastActive)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  getElapsedTime () {\n    const { oldDate } = this.state\n    return (+new Date()) - oldDate\n  }\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  getLastIdleTime () {\n    const { lastIdle } = this.state\n    return lastIdle\n  }\n\n  /**\n   * Total time the user was idle\n   * @name getTotalIdleTime\n   * @return {number}\n   */\n  getTotalIdleTime () {\n    const { idle, lastIdle, idleTime } = this.state\n    if (idle) {\n      return ((+new Date()) - lastIdle) + idleTime\n    } else {\n      return idleTime\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  getLastActiveTime () {\n    const { lastActive } = this.state\n    return lastActive\n  }\n\n  /**\n   * Total time the user was active\n   * @name getTotalActiveTime\n   * @return {number}\n   */\n  getTotalActiveTime () {\n    return this.getElapsedTime() - this.getTotalIdleTime()\n  }\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {boolean}\n   */\n  isIdle () {\n    const { idle } = this.state\n    return idle\n  }\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @name isLeader\n   * @return {boolean}\n   */\n  isLeader () {\n    return this.manager ? this.manager.isLeader() : true\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {Number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds\n   * default: 0\n   * @type {Number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds\n   * default: 200\n   * @type {Number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, reset() must be\n   * called manually to restart the timer\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default IdleTimer\n","/**\n *  ___    _ _     _____ _\n * |_ _|__| | | __|_   _(_)_ __ ___   ___ _ __\n *  | |/ _` | |/ _ \\| | | | '_ ` _ \\ / _ \\ '__|\n *  | | (_| | |  __/| | | | | | | | |  __/ |\n * |___\\__,_|_|\\___||_| |_|_| |_| |_|\\___|_|\n *\n * @name useIdleTimer\n * @author Randy Lebeau\n * @private\n */\n\nimport { useEffect, useRef, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { TabManager } from './TabManager'\nimport { IS_BROWSER, DEFAULT_ELEMENT, DEFAULT_EVENTS, debounced, throttled } from './utils'\n\n/**\n * Detects when your user is idle\n * @function useIdleTimer\n * @private\n */\nfunction useIdleTimer ({\n  timeout = 1000 * 60 * 20,\n  element = DEFAULT_ELEMENT,\n  events = DEFAULT_EVENTS,\n  onIdle = () => { },\n  onActive = () => { },\n  onAction = () => { },\n  debounce = 0,\n  throttle = 0,\n  eventsThrottle = 200,\n  startOnMount = true,\n  startManually = false,\n  stopOnIdle = false,\n  capture = true,\n  passive = true,\n  crossTab = false\n} = {}) {\n  const eventsBound = useRef(false)\n  const idle = useRef(true)\n  const oldDate = useRef(+new Date())\n  const remaining = useRef(null)\n  const pageX = useRef(null)\n  const pageY = useRef(null)\n  const tId = useRef(null)\n  const lastActive = useRef(null)\n  const lastIdle = useRef(null)\n  const idleTime = useRef(0)\n  const firstLoad = useRef(true)\n  const _timeout = useRef(timeout)\n  const manager = useRef(null)\n\n  /* istanbul ignore next */\n  if (crossTab) {\n    if (crossTab === true) crossTab = {}\n    crossTab = Object.assign({\n      channelName: 'idle-timer',\n      fallbackInterval: 2000,\n      responseTime: 100,\n      removeTimeout: 1000 * 60,\n      emitOnAllTabs: false\n    }, crossTab)\n  }\n\n  // Event emitters\n  const emitOnIdle = useRef(onIdle)\n  const emitOnActive = useRef(onActive)\n  const emitOnAction = useRef(onAction)\n\n  useEffect(() => {\n    emitOnIdle.current = onIdle\n  }, [onIdle])\n\n  useEffect(() => {\n    emitOnActive.current = onActive\n  }, [onActive])\n\n  useEffect(() => {\n    emitOnAction.current = onAction\n  }, [onAction])\n\n  const intermediateOnAction = useMemo(() => {\n    function callOnAction (e) {\n      emitOnAction.current(e)\n    }\n\n    // Cancel any existing debounce timeouts\n    if (callOnAction.cancel) callOnAction.cancel()\n\n    // Create debounced action if applicable\n    if (debounce > 0) {\n      return debounced(callOnAction, debounce)\n\n      // Create throttled action if applicable\n    } else if (throttle > 0) {\n      return throttled(callOnAction, throttle)\n\n      // No throttle or debounce\n    } else {\n      return callOnAction\n    }\n  }, [throttle, debounce])\n\n  /**\n   * Toggles the idle state and calls\n   * the correct action function\n   * @private\n   */\n  const _toggleIdleState = e => {\n    const nextIdle = !idle.current\n    idle.current = nextIdle\n    if (nextIdle) {\n      if (stopOnIdle) {\n        // Clear any existing timeout\n        clearTimeout(tId.current)\n        tId.current = null\n        // Unbind events\n        _unbindEvents()\n      }\n      lastIdle.current = (+new Date()) - _timeout.current\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.idle()\n      } else {\n        emitOnIdle.current(e)\n      }\n    } else {\n      idleTime.current += (+new Date()) - lastIdle.current\n      _bindEvents()\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current(e)\n      }\n    }\n  }\n\n  /**\n   * Event handler\n   * @param {Event} e\n   */\n  const _handleEvent = e => {\n    // Fire onAction event\n    intermediateOnAction(e)\n\n    // Already active, ignore events\n    if (remaining.current) return\n\n    // Mousemove event\n    /* istanbul ignore next */\n    if (e.type === 'mousemove') {\n      // If coords are same, it didn't move\n      if (e.pageX === pageX && e.pageY === pageY) {\n        return\n      }\n      // If coords don't exist how could it move\n      if (typeof e.pageX === 'undefined' && typeof e.pageY === 'undefined') {\n        return\n      }\n      // Under 200 ms is hard to do\n      // continuous activity will bypass this\n      const elapsed = getElapsedTime()\n      if (elapsed < 200) {\n        return\n      }\n    }\n\n    // Clear any existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Determine last time User was active, as can't rely on setTimeout ticking at the correct interval\n    const elapsedTimeSinceLastActive = +new Date() - getLastActiveTime()\n\n    // If the user is idle or last active time is more than timeout, flip the idle state\n    if (\n      (idle.current && !stopOnIdle) ||\n      (!idle.current && elapsedTimeSinceLastActive > _timeout.current)\n    ) {\n      _toggleIdleState(e)\n    }\n\n    // Store when the user was last active\n    // and update the mouse coordinates\n    lastActive.current = +new Date()\n    pageX.current = e.pageX\n    pageY.current = e.pageY\n\n    // If the user is active, set a new timeout\n    if (!idle.current) {\n      tId.current = setTimeout(_toggleIdleState, _timeout.current)\n    }\n  }\n\n  /**\n   * Reference to current handleEvent function.\n   * @private\n   */\n  const handleEvent = useRef(_handleEvent)\n\n  /**\n   * Binds the specified events\n   * @private\n   */\n  const _bindEvents = () => {\n    // Don't bind events if\n    // we are not in a browser\n    if (!IS_BROWSER) return\n    // Otherwise we bind all the events\n    // to the supplied element\n    if (!eventsBound.current) {\n      events.forEach(e => {\n        element.addEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = true\n    }\n  }\n\n  /**\n   * Unbinds all the bound events\n   * @private\n   */\n  const _unbindEvents = (force = false) => {\n    // If we are not in a browser\n    // we don't need to unbind events\n    if (!IS_BROWSER) return\n    // Unbind all events\n    if (eventsBound.current || force) {\n      events.forEach(e => {\n        element.removeEventListener(e, handleEvent.current, {\n          capture,\n          passive\n        })\n      })\n      eventsBound.current = false\n    }\n  }\n\n  /**\n   * Time remaining before idle\n   * @name getRemainingTime\n   * @return {number} Milliseconds remaining\n   */\n  const getRemainingTime = () => {\n    // If idle there is no time remaining\n    if (remaining.current !== null) {\n      return remaining.current < 0 ? 0 : remaining.current\n    }\n\n    // Determine remaining, if negative idle didn't finish flipping, just return 0\n    const timeLeft = _timeout.current - ((+new Date()) - lastActive.current)\n    return timeLeft < 0 ? 0 : timeLeft\n  }\n\n  /**\n   * How much time has elapsed\n   * @name getElapsedTime\n   * @return {Timestamp}\n   */\n  const getElapsedTime = () => (+new Date()) - oldDate.current\n\n  /**\n   * Last time the user was idle\n   * @name getLastIdleTime\n   * @return {Timestamp}\n   */\n  const getLastIdleTime = () => lastIdle.current\n\n  /**\n   * Get the total time user is idle\n   * @name getTotalIdleTime\n   * @return {number} Milliseconds idle\n   */\n  const getTotalIdleTime = () => {\n    if (idle.current) {\n      return ((+new Date()) - lastIdle.current) + idleTime.current\n    } else {\n      return idleTime.current\n    }\n  }\n\n  /**\n   * Last time the user was active\n   * @name getLastActiveTime\n   * @return {Timestamp}\n   */\n  const getLastActiveTime = () => lastActive.current\n\n  /**\n   * Get the total time user is active\n   * @name getTotalActiveTime\n   * @return {number} Milliseconds active\n   */\n  const getTotalActiveTime = () => getElapsedTime() - getTotalIdleTime()\n\n  /**\n   * Returns wether or not the user is idle\n   * @name isIdle\n   * @return {Boolean}\n   */\n  const isIdle = () => idle.current\n\n  /**\n   * Returns wether or not this is the leader tab\n   * @returns {Boolean}\n   */\n  const isLeader = () => manager.current ? manager.current.isLeader() : true\n\n  /**\n  * Set initial state and start timer\n  * @name reset\n  */\n  const start = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Set state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('start')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n  * Restore initial state and restart timer, calling onActive\n  * @name reset\n  */\n  const reset = (remote = false) => {\n    // Clear timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Bind the events\n    _bindEvents()\n\n    // Emit active\n    if (idle.current) {\n      if (manager.current) {\n        /* istanbul ignore next */\n        manager.current.active()\n      } else {\n        emitOnActive.current()\n      }\n    }\n\n    // Reset state\n    idle.current = false\n    oldDate.current = +new Date()\n    lastActive.current = +new Date()\n    remaining.current = null\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      manager.current.setAllIdle(false)\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('reset')\n      }\n    }\n\n    // Set new timeout\n    tId.current = setTimeout(_toggleIdleState, _timeout.current)\n  }\n\n  /**\n   * Store remaining time and stop timer\n   * @name pause\n   */\n  const pause = (remote = false) => {\n    // Timer is already paused\n    if (remaining.current !== null) return\n\n    // Unbind events\n    _unbindEvents()\n\n    // Clear existing timeout\n    clearTimeout(tId.current)\n    tId.current = null\n\n    // Define how much is left on the timer\n    remaining.current = getRemainingTime()\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('pause')\n      }\n    }\n  }\n\n  /**\n   * Resumes a paused timer\n   * @name resume\n   */\n  const resume = (remote = false) => {\n    // Timer is not paused\n    if (remaining.current === null) return\n\n    // Bind events\n    _bindEvents()\n\n    // Start timer and clear remaining\n    // if we are in the idle state\n    if (!idle.current) {\n      // Set a new timeout\n      tId.current = setTimeout(_toggleIdleState, remaining.current)\n      // Set states\n      remaining.current = null\n      lastActive.current = +new Date()\n    }\n\n    if (manager.current) {\n      /* istanbul ignore next */\n      if (!remote && crossTab.emitOnAllTabs) {\n        manager.current.send('resume')\n      }\n    }\n  }\n\n  /**\n   * Hook lifecycle\n   */\n  useEffect(() => {\n    // Debounce and throttle can't both be set\n    if (debounce > 0 && throttle > 0) {\n      throw new Error('onAction can either be throttled or debounced (not both)')\n    }\n\n    // Set up cross tab\n    /* istanbul ignore next */\n    if (crossTab) {\n      manager.current = TabManager({\n        type: crossTab.type,\n        channelName: crossTab.channelName,\n        fallbackInterval: crossTab.fallbackInterval,\n        responseTime: crossTab.responseTime,\n        emitOnAllTabs: crossTab.emitOnAllTabs,\n        callbacks: {\n          onIdle: emitOnIdle.current,\n          onActive: emitOnActive.current\n        },\n        start,\n        reset,\n        pause,\n        resume\n      })\n    }\n\n    // If startOnMount is enabled, start the timer\n    if (startManually) {\n      return async () => {\n        clearTimeout(tId.current)\n        _unbindEvents(true)\n        if (crossTab) await manager.current.close()\n      }\n    }\n\n    if (startOnMount) {\n      start()\n    } else {\n      _bindEvents()\n    }\n\n    // Clear and unbind on unmount\n    return async () => {\n      clearTimeout(tId.current)\n      _unbindEvents(true)\n      if (intermediateOnAction.cancel) intermediateOnAction.cancel()\n      if (crossTab) await manager.current.close()\n    }\n  }, [])\n\n  useEffect(() => {\n    const eventsWereBound = eventsBound.current\n    if (eventsWereBound) _unbindEvents()\n    if (eventsThrottle > 0) {\n      handleEvent.current = throttled(_handleEvent, eventsThrottle)\n    } else {\n      handleEvent.current = _handleEvent\n    }\n    if (eventsWereBound) _bindEvents()\n  }, [eventsThrottle])\n\n  useEffect(() => {\n    _timeout.current = timeout\n    if (!firstLoad.current && idle.current) {\n      reset()\n    }\n    firstLoad.current = false\n  }, [timeout])\n\n  return {\n    isIdle,\n    isLeader,\n    start,\n    pause,\n    reset,\n    resume,\n    getLastIdleTime,\n    getTotalIdleTime,\n    getLastActiveTime,\n    getTotalActiveTime,\n    getElapsedTime,\n    getRemainingTime\n  }\n}\n\n/**\n * Type checks for every property\n * @type {Object}\n * @private\n */\nuseIdleTimer.propTypes = {\n  /**\n   * Activity Timeout in milliseconds\n   * default: 1200000\n   * @type {number}\n   */\n  timeout: PropTypes.number,\n  /**\n   * DOM events to listen to\n   * default: see [default events](https://github.com/SupremeTechnopriest/react-idle-timer#default-events)\n   * @type {Array}\n   */\n  events: PropTypes.arrayOf(PropTypes.string),\n  /**\n   * Function to call when user is idle.\n   * default: () => {}\n   * @type {Function}\n   */\n  onIdle: PropTypes.func,\n  /**\n   * Function to call when user becomes active.\n   * default: () => {}\n   * @type {Function}\n   */\n  onActive: PropTypes.func,\n  /**\n   * Function to call on user actions.\n   * default: () => {}\n   * @type {Function}\n   */\n  onAction: PropTypes.func,\n  /**\n   * Debounce the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  debounce: PropTypes.number,\n  /**\n   * Throttle the onAction function by setting delay in milliseconds.\n   * default: 0\n   * @type {number}\n   */\n  throttle: PropTypes.number,\n  /**\n   * Throttle the event handler function by setting delay in milliseconds.\n   * default: 200\n   * @type {number}\n   */\n  eventsThrottle: PropTypes.number,\n  /**\n   * Element reference to bind activity listeners to.\n   * default: document\n   * @type {Object}\n   */\n  element: PropTypes.oneOfType([PropTypes.object, PropTypes.element]),\n  /**\n   * Start the timer on mount.\n   * default: true\n   * @type {Boolean}\n   */\n  startOnMount: PropTypes.bool,\n  /**\n   * Require the timer to be started manually.\n   * default: false\n   * @type {Boolean}\n   */\n  startManually: PropTypes.bool,\n  /**\n   * Once the user goes idle the IdleTimer will not\n   * reset on user input instead, start() or reset() must be\n   * called manually to restart the timer.\n   * default: false\n   * @type {Boolean}\n   */\n  stopOnIdle: PropTypes.bool,\n  /**\n   * Bind events passively.\n   * default: true\n   * @type {Boolean}\n   */\n  passive: PropTypes.bool,\n  /**\n   * Capture events.\n   * default: true\n   * @type {Boolean}\n   */\n  capture: PropTypes.bool,\n  /**\n   * Cross Tab functionality.\n   * default: false\n   * @type {Boolean|Object}\n   */\n  crossTab: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.shape({\n      type: PropTypes.oneOf(['broadcastChannel', 'localStorage', 'simulate']),\n      channelName: PropTypes.string,\n      fallbackInterval: PropTypes.number,\n      responseTime: PropTypes.number,\n      removeTimeout: PropTypes.number,\n      emitOnAllTabs: PropTypes.bool\n    })\n  ])\n}\n\n/**\n * Sets default property values\n * @type {Object}\n * @private\n */\nuseIdleTimer.defaultProps = {\n  timeout: 1000 * 60 * 20,\n  element: DEFAULT_ELEMENT,\n  events: DEFAULT_EVENTS,\n  onIdle: () => { },\n  onActive: () => { },\n  onAction: () => { },\n  debounce: 0,\n  throttle: 0,\n  eventsThrottle: 200,\n  startOnMount: true,\n  startManually: false,\n  stopOnIdle: false,\n  capture: true,\n  passive: true,\n  crossTab: false\n}\n\nexport default useIdleTimer\n"]},"metadata":{},"sourceType":"module"}