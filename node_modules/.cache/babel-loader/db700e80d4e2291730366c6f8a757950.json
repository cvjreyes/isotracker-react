{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Preview from './Preview';\n/* istanbul ignore next */\n\nexport var context = /*#__PURE__*/React.createContext({\n  previewUrls: new Map(),\n  setPreviewUrls: function setPreviewUrls() {\n    return null;\n  },\n  current: null,\n  setCurrent: function setCurrent() {\n    return null;\n  },\n  setShowPreview: function setShowPreview() {\n    return null;\n  },\n  setMousePosition: function setMousePosition() {\n    return null;\n  },\n  registerImage: function registerImage() {\n    return function () {\n      return null;\n    };\n  }\n});\nvar Provider = context.Provider;\n\nvar Group = function Group(_ref) {\n  var _ref$previewPrefixCls = _ref.previewPrefixCls,\n      previewPrefixCls = _ref$previewPrefixCls === void 0 ? 'rc-image-preview' : _ref$previewPrefixCls,\n      children = _ref.children,\n      _ref$icons = _ref.icons,\n      icons = _ref$icons === void 0 ? {} : _ref$icons,\n      preview = _ref.preview;\n\n  var _ref2 = _typeof(preview) === 'object' ? preview : {},\n      _ref2$visible = _ref2.visible,\n      previewVisible = _ref2$visible === void 0 ? undefined : _ref2$visible,\n      _ref2$onVisibleChange = _ref2.onVisibleChange,\n      onPreviewVisibleChange = _ref2$onVisibleChange === void 0 ? undefined : _ref2$onVisibleChange,\n      _ref2$getContainer = _ref2.getContainer,\n      getContainer = _ref2$getContainer === void 0 ? undefined : _ref2$getContainer,\n      _ref2$current = _ref2.current,\n      currentIndex = _ref2$current === void 0 ? 0 : _ref2$current;\n\n  var _useState = useState(new Map()),\n      _useState2 = _slicedToArray(_useState, 2),\n      previewUrls = _useState2[0],\n      setPreviewUrls = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      current = _useState4[0],\n      setCurrent = _useState4[1];\n\n  var _useMergedState = useMergedState(!!previewVisible, {\n    value: previewVisible,\n    onChange: onPreviewVisibleChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      isShowPreview = _useMergedState2[0],\n      setShowPreview = _useMergedState2[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mousePosition = _useState6[0],\n      setMousePosition = _useState6[1];\n\n  var isControlled = previewVisible !== undefined;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentControlledKey = previewUrlsKeys[currentIndex];\n\n  var registerImage = function registerImage(id, url) {\n    var unRegister = function unRegister() {\n      setPreviewUrls(function (oldPreviewUrls) {\n        var clonePreviewUrls = new Map(oldPreviewUrls);\n        var deleteResult = clonePreviewUrls.delete(id);\n        return deleteResult ? clonePreviewUrls : oldPreviewUrls;\n      });\n    }; // we don't need to test this if canPreview changed when url stays the same\n\n    /* istanbul ignore next */\n\n\n    if (previewUrls.get(id) === url) {\n      return unRegister;\n    }\n\n    setPreviewUrls(function (oldPreviewUrls) {\n      return new Map(oldPreviewUrls).set(id, url);\n    });\n    return unRegister;\n  };\n\n  var onPreviewClose = function onPreviewClose(e) {\n    e.stopPropagation();\n    setShowPreview(false);\n    setMousePosition(null);\n  };\n\n  React.useEffect(function () {\n    setCurrent(currentControlledKey);\n  }, [currentControlledKey]);\n  React.useEffect(function () {\n    if (!isShowPreview && isControlled) {\n      setCurrent(currentControlledKey);\n    }\n  }, [currentControlledKey, isControlled, isShowPreview]);\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      isPreviewGroup: true,\n      previewUrls: previewUrls,\n      setPreviewUrls: setPreviewUrls,\n      current: current,\n      setCurrent: setCurrent,\n      setShowPreview: setShowPreview,\n      setMousePosition: setMousePosition,\n      registerImage: registerImage\n    }\n  }, children, /*#__PURE__*/React.createElement(Preview, {\n    \"aria-hidden\": !isShowPreview,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    src: previewUrls.get(current),\n    icons: icons,\n    getContainer: getContainer\n  }));\n};\n\nexport default Group;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/rc-image/es/PreviewGroup.js"],"names":["_slicedToArray","_typeof","React","useState","useMergedState","Preview","context","createContext","previewUrls","Map","setPreviewUrls","current","setCurrent","setShowPreview","setMousePosition","registerImage","Provider","Group","_ref","_ref$previewPrefixCls","previewPrefixCls","children","_ref$icons","icons","preview","_ref2","_ref2$visible","visible","previewVisible","undefined","_ref2$onVisibleChange","onVisibleChange","onPreviewVisibleChange","_ref2$getContainer","getContainer","_ref2$current","currentIndex","_useState","_useState2","_useState3","_useState4","_useMergedState","value","onChange","_useMergedState2","isShowPreview","_useState5","_useState6","mousePosition","isControlled","previewUrlsKeys","Array","from","keys","currentControlledKey","id","url","unRegister","oldPreviewUrls","clonePreviewUrls","deleteResult","delete","get","set","onPreviewClose","e","stopPropagation","useEffect","createElement","isPreviewGroup","prefixCls","onClose","src"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Preview from './Preview';\n/* istanbul ignore next */\n\nexport var context = /*#__PURE__*/React.createContext({\n  previewUrls: new Map(),\n  setPreviewUrls: function setPreviewUrls() {\n    return null;\n  },\n  current: null,\n  setCurrent: function setCurrent() {\n    return null;\n  },\n  setShowPreview: function setShowPreview() {\n    return null;\n  },\n  setMousePosition: function setMousePosition() {\n    return null;\n  },\n  registerImage: function registerImage() {\n    return function () {\n      return null;\n    };\n  }\n});\nvar Provider = context.Provider;\n\nvar Group = function Group(_ref) {\n  var _ref$previewPrefixCls = _ref.previewPrefixCls,\n      previewPrefixCls = _ref$previewPrefixCls === void 0 ? 'rc-image-preview' : _ref$previewPrefixCls,\n      children = _ref.children,\n      _ref$icons = _ref.icons,\n      icons = _ref$icons === void 0 ? {} : _ref$icons,\n      preview = _ref.preview;\n\n  var _ref2 = _typeof(preview) === 'object' ? preview : {},\n      _ref2$visible = _ref2.visible,\n      previewVisible = _ref2$visible === void 0 ? undefined : _ref2$visible,\n      _ref2$onVisibleChange = _ref2.onVisibleChange,\n      onPreviewVisibleChange = _ref2$onVisibleChange === void 0 ? undefined : _ref2$onVisibleChange,\n      _ref2$getContainer = _ref2.getContainer,\n      getContainer = _ref2$getContainer === void 0 ? undefined : _ref2$getContainer,\n      _ref2$current = _ref2.current,\n      currentIndex = _ref2$current === void 0 ? 0 : _ref2$current;\n\n  var _useState = useState(new Map()),\n      _useState2 = _slicedToArray(_useState, 2),\n      previewUrls = _useState2[0],\n      setPreviewUrls = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      current = _useState4[0],\n      setCurrent = _useState4[1];\n\n  var _useMergedState = useMergedState(!!previewVisible, {\n    value: previewVisible,\n    onChange: onPreviewVisibleChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      isShowPreview = _useMergedState2[0],\n      setShowPreview = _useMergedState2[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mousePosition = _useState6[0],\n      setMousePosition = _useState6[1];\n\n  var isControlled = previewVisible !== undefined;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentControlledKey = previewUrlsKeys[currentIndex];\n\n  var registerImage = function registerImage(id, url) {\n    var unRegister = function unRegister() {\n      setPreviewUrls(function (oldPreviewUrls) {\n        var clonePreviewUrls = new Map(oldPreviewUrls);\n        var deleteResult = clonePreviewUrls.delete(id);\n        return deleteResult ? clonePreviewUrls : oldPreviewUrls;\n      });\n    }; // we don't need to test this if canPreview changed when url stays the same\n\n    /* istanbul ignore next */\n\n\n    if (previewUrls.get(id) === url) {\n      return unRegister;\n    }\n\n    setPreviewUrls(function (oldPreviewUrls) {\n      return new Map(oldPreviewUrls).set(id, url);\n    });\n    return unRegister;\n  };\n\n  var onPreviewClose = function onPreviewClose(e) {\n    e.stopPropagation();\n    setShowPreview(false);\n    setMousePosition(null);\n  };\n\n  React.useEffect(function () {\n    setCurrent(currentControlledKey);\n  }, [currentControlledKey]);\n  React.useEffect(function () {\n    if (!isShowPreview && isControlled) {\n      setCurrent(currentControlledKey);\n    }\n  }, [currentControlledKey, isControlled, isShowPreview]);\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      isPreviewGroup: true,\n      previewUrls: previewUrls,\n      setPreviewUrls: setPreviewUrls,\n      current: current,\n      setCurrent: setCurrent,\n      setShowPreview: setShowPreview,\n      setMousePosition: setMousePosition,\n      registerImage: registerImage\n    }\n  }, children, /*#__PURE__*/React.createElement(Preview, {\n    \"aria-hidden\": !isShowPreview,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    src: previewUrls.get(current),\n    icons: icons,\n    getContainer: getContainer\n  }));\n};\n\nexport default Group;"]},"metadata":{},"sourceType":"module"}