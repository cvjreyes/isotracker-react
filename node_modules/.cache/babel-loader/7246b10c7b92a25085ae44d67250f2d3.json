{"ast":null,"code":"import \"core-js/modules/es.array.iterator\";\nimport \"core-js/modules/es.map\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/web.dom-collections.iterator\";\nimport { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\nimport { CellCoords } from \"./../3rdparty/walkontable/src/index.mjs\";\n/**\r\n * MouseDown handler.\r\n *\r\n * @param {object} options The handler options.\r\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\r\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\r\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\n\nexport function mouseDown(_ref) {\n  var isShiftKey = _ref.isShiftKey,\n      isLeftClick = _ref.isLeftClick,\n      isRightClick = _ref.isRightClick,\n      coords = _ref.coords,\n      selection = _ref.selection,\n      controller = _ref.controller;\n  var currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\n  var selectedCorner = selection.isSelectedByCorner();\n  var selectedRow = selection.isSelectedByRowHeader();\n\n  if (isShiftKey && currentSelection) {\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cells) {\n      selection.setRangeEnd(coords);\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cells) {\n      selection.setRangeEnd(new CellCoords(coords.row, coords.col));\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\n      selection.setRangeEnd(new CellCoords(currentSelection.to.row, coords.col));\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\n      selection.setRangeEnd(new CellCoords(coords.row, currentSelection.to.col));\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\n    }\n  } else {\n    var allowRightClickSelection = !selection.inInSelection(coords);\n    var performSelection = isLeftClick || isRightClick && allowRightClickSelection; // clicked row header and when some column was selected\n\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\n      if (performSelection) {\n        selection.selectColumns(coords.col, coords.col, coords.row);\n      } // clicked column header and when some row was selected\n\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\n      if (performSelection) {\n        selection.selectRows(coords.row, coords.row, coords.col);\n      }\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cells) {\n      if (performSelection) {\n        selection.setRangeStart(coords);\n      }\n    } else if (coords.col < 0 && coords.row < 0) {\n      selection.selectAll(true, true);\n    }\n  }\n}\n/**\r\n * MouseOver handler.\r\n *\r\n * @param {object} options The handler options.\r\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\n\nexport function mouseOver(_ref2) {\n  var isLeftClick = _ref2.isLeftClick,\n      coords = _ref2.coords,\n      selection = _ref2.selection,\n      controller = _ref2.controller;\n\n  if (!isLeftClick) {\n    return;\n  }\n\n  var selectedRow = selection.isSelectedByRowHeader();\n  var selectedColumn = selection.isSelectedByColumnHeader();\n  var countCols = selection.tableProps.countCols();\n  var countRows = selection.tableProps.countRows();\n\n  if (selectedColumn && !controller.column) {\n    selection.setRangeEnd(new CellCoords(countRows - 1, coords.col));\n  } else if (selectedRow && !controller.row) {\n    selection.setRangeEnd(new CellCoords(coords.row, countCols - 1));\n  } else if (!controller.cell) {\n    selection.setRangeEnd(coords);\n  }\n}\nvar handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\n/**\r\n * Mouse handler for selection functionality.\r\n *\r\n * @param {Event} event An native event to handle.\r\n * @param {object} options The handler options.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\n\nexport function handleMouseEvent(event, _ref3) {\n  var coords = _ref3.coords,\n      selection = _ref3.selection,\n      controller = _ref3.controller;\n  handlers.get(event.type)({\n    coords: coords,\n    selection: selection,\n    controller: controller,\n    isShiftKey: event.shiftKey,\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\n    isRightClick: isRightClickEvent(event)\n  });\n}","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/selection/mouseEventHandler.mjs"],"names":["isRightClick","isRightClickEvent","isLeftClick","isLeftClickEvent","CellCoords","mouseDown","_ref","isShiftKey","coords","selection","controller","currentSelection","isSelected","getSelectedRange","current","selectedCorner","isSelectedByCorner","selectedRow","isSelectedByRowHeader","row","col","cells","setRangeEnd","column","to","selectRows","Math","max","from","selectColumns","allowRightClickSelection","inInSelection","performSelection","setRangeStart","selectAll","mouseOver","_ref2","selectedColumn","isSelectedByColumnHeader","countCols","tableProps","countRows","cell","handlers","Map","handleMouseEvent","event","_ref3","get","type","shiftKey"],"mappings":"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","sourcesContent":["import \"core-js/modules/es.array.iterator.js\";\r\nimport \"core-js/modules/es.map.js\";\r\nimport \"core-js/modules/es.object.to-string.js\";\r\nimport \"core-js/modules/es.string.iterator.js\";\r\nimport \"core-js/modules/web.dom-collections.iterator.js\";\r\nimport { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\r\nimport { CellCoords } from \"./../3rdparty/walkontable/src/index.mjs\";\r\n/**\r\n * MouseDown handler.\r\n *\r\n * @param {object} options The handler options.\r\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\r\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\r\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\r\n\r\nexport function mouseDown(_ref) {\r\n  var isShiftKey = _ref.isShiftKey,\r\n      isLeftClick = _ref.isLeftClick,\r\n      isRightClick = _ref.isRightClick,\r\n      coords = _ref.coords,\r\n      selection = _ref.selection,\r\n      controller = _ref.controller;\r\n  var currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\r\n  var selectedCorner = selection.isSelectedByCorner();\r\n  var selectedRow = selection.isSelectedByRowHeader();\r\n\r\n  if (isShiftKey && currentSelection) {\r\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cells) {\r\n      selection.setRangeEnd(coords);\r\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cells) {\r\n      selection.setRangeEnd(new CellCoords(coords.row, coords.col));\r\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\r\n      selection.setRangeEnd(new CellCoords(currentSelection.to.row, coords.col));\r\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\r\n      selection.setRangeEnd(new CellCoords(coords.row, currentSelection.to.col));\r\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\r\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\r\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\r\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\r\n    }\r\n  } else {\r\n    var allowRightClickSelection = !selection.inInSelection(coords);\r\n    var performSelection = isLeftClick || isRightClick && allowRightClickSelection; // clicked row header and when some column was selected\r\n\r\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\r\n      if (performSelection) {\r\n        selection.selectColumns(coords.col, coords.col, coords.row);\r\n      } // clicked column header and when some row was selected\r\n\r\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\r\n      if (performSelection) {\r\n        selection.selectRows(coords.row, coords.row, coords.col);\r\n      }\r\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cells) {\r\n      if (performSelection) {\r\n        selection.setRangeStart(coords);\r\n      }\r\n    } else if (coords.col < 0 && coords.row < 0) {\r\n      selection.selectAll(true, true);\r\n    }\r\n  }\r\n}\r\n/**\r\n * MouseOver handler.\r\n *\r\n * @param {object} options The handler options.\r\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\r\n\r\nexport function mouseOver(_ref2) {\r\n  var isLeftClick = _ref2.isLeftClick,\r\n      coords = _ref2.coords,\r\n      selection = _ref2.selection,\r\n      controller = _ref2.controller;\r\n\r\n  if (!isLeftClick) {\r\n    return;\r\n  }\r\n\r\n  var selectedRow = selection.isSelectedByRowHeader();\r\n  var selectedColumn = selection.isSelectedByColumnHeader();\r\n  var countCols = selection.tableProps.countCols();\r\n  var countRows = selection.tableProps.countRows();\r\n\r\n  if (selectedColumn && !controller.column) {\r\n    selection.setRangeEnd(new CellCoords(countRows - 1, coords.col));\r\n  } else if (selectedRow && !controller.row) {\r\n    selection.setRangeEnd(new CellCoords(coords.row, countCols - 1));\r\n  } else if (!controller.cell) {\r\n    selection.setRangeEnd(coords);\r\n  }\r\n}\r\nvar handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\r\n/**\r\n * Mouse handler for selection functionality.\r\n *\r\n * @param {Event} event An native event to handle.\r\n * @param {object} options The handler options.\r\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\r\n * @param {Selection} options.selection The Selection class instance.\r\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\r\n *                                    operation will be performed in later selection stages.\r\n */\r\n\r\nexport function handleMouseEvent(event, _ref3) {\r\n  var coords = _ref3.coords,\r\n      selection = _ref3.selection,\r\n      controller = _ref3.controller;\r\n  handlers.get(event.type)({\r\n    coords: coords,\r\n    selection: selection,\r\n    controller: controller,\r\n    isShiftKey: event.shiftKey,\r\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\r\n    isRightClick: isRightClickEvent(event)\r\n  });\r\n}"]},"metadata":{},"sourceType":"module"}