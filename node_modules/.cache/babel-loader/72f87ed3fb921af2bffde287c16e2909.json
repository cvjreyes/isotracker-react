{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import DataTable from\"../../components/datatable/datatable\";import ReportBtns from\"../../components/reportBtns/reportBtns\";import StateTable from\"../../components/stateTable/stateTable\";import NavBtns from\"../../components/navBtns/navBtns\";import DragAndDrop from\"../../components/dragAndDrop/dragAndDrop\";import\"./isoCtrl.css\";import React,{useState,useEffect}from'react';import ActionButtons from\"../../components/actionBtns/actionBtns\";import ActionExtra from\"../../components/actionExtra/actionExtra\";import ProgressTable from\"../../components/progressTable/progressTable\";import SelectPag from\"../../components/selectPag/selectPag\";import CheckInTable from\"../../components/checkInTable/checkInTable\";import NavBar from'../../components/navBar/navBar';import MyTrayBtn from\"../../components/myTrayBtn/myTrayBtn\";import MyTrayTable from\"../../components/myTrayTable/myTrayTable\";import BinBtn from'../../components/binBtn/binBtn';import BinTable from\"../../components/binTable/binTable\";import OnHoldTable from\"../../components/onHoldTable/onHoldTable\";import StatusDataTable from\"../../components/statusDataTable/statusDataTable\";import HistoryDataTable from\"../../components/historyDataTable/historyDataTable\";import RoleDropDown from\"../../components/roleDropDown/roleDropDown\";import Alert from'@material-ui/lab/Alert';import Collapse from'@material-ui/core/Collapse';import OnHoldBtn from\"../../components/onHoldBtn/onHoldBtn\";import ProcInsBtn from\"../../components/procInsBtn/procInsBtn\";import ReportsBtn from\"../../components/reportsBtn/reportsBtn\";import ProcInstTable from\"../../components/procInstTable/procInstTable\";import download from'downloadjs';import JSZip from'jszip';import{saveAs}from'file-saver';import*as FileSaver from\"file-saver\";import*as XLSX from\"xlsx\";import ReportBoxBtns from\"../../components/reportBoxBtns/reportBoxBtns\";import IssuedBtn from\"../../components/issuedBtn/issuedBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IsoCtrl=function IsoCtrl(){var _useState=useState(8),_useState2=_slicedToArray(_useState,2),pagination=_useState2[0],setPagination=_useState2[1];//Controla el numero de entradas por pagina de la tabla\nvar user=\"admin\";//De momento esta variable controla el tipo de user\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentRole=_useState4[0],setCurrentRole=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),roles=_useState6[0],setRoles=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selected=_useState8[0],setSelected=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),updateData=_useState10[0],setUpdateData=_useState10[1];var _useState11=useState(\" \"),_useState12=_slicedToArray(_useState11,2),comment=_useState12[0],setComment=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),commentAlert=_useState14[0],setCommentAlert=_useState14[1];var _useState15=useState(new JSZip()),_useState16=_slicedToArray(_useState15,2),downloadZip=_useState16[0],setDownloadzip=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),errorUnclaim=_useState20[0],setErrorUnclaim=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),errorPI=_useState22[0],setErrorPI=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),errorCL=_useState24[0],setErrorCL=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),transactionSuccess=_useState26[0],setTransactionSuccess=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),errorReports=_useState28[0],setErrorReports=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),progress=_useState30[0],setProgress=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),realProgress=_useState32[0],setRealProgress=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),progressISO=_useState34[0],setProgressISO=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),realProgressISO=_useState36[0],setRealProgressISO=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),updateProgress=_useState38[0],setUpdateProgress=_useState38[1];var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});var _useState39=useState(secureStorage.getItem(\"tab\")),_useState40=_slicedToArray(_useState39,2),currentTab=_useState40[0],setCurrentTab=_useState40[1];//Controla la tabla y botones que se muestran\n//La altura de la tabla es fija en funcion de la paginacion para evitar que los botones se muevan\nvar dataTableHeight=8;if(pagination===8){dataTableHeight=\"520px\";}if(pagination===25){dataTableHeight=\"1220px\";}if(pagination===50){dataTableHeight=\"2230px\";}if(pagination===100){dataTableHeight=\"4300px\";}//Componentes de la pagina que varian en funcion del estado\nvar uploadButton,actionButtons,actionText,actionExtra,commentBox,progressTableWidth,tableContent,procInsBtn,progTable,issuedBtn;var currentTabText=currentTab;tableContent=/*#__PURE__*/_jsx(DataTable,{forceUnclaim:forceUnclaim.bind(_this),onChange:function onChange(value){return setSelected(value);},selected:selected,pagination:pagination,currentTab:currentTab,currentRole:currentRole,updateData:updateData});var pageSelector=/*#__PURE__*/_jsx(SelectPag,{onChange:function onChange(value){return setPagination(value);},pagination:pagination});var currentUser=secureStorage.getItem('user');var body={user:currentUser};useEffect(function(){setUpdateData(!updateData);var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetch(\"http://localhost:5000/api/roles/user\",options).then(function(response){return response.json();}).then(function(json){setRoles(json.roles);if(secureStorage.getItem('role')!==null){setCurrentRole(secureStorage.getItem('role'));}else{secureStorage.setItem('role',json.roles[0]);setCurrentRole(secureStorage.getItem('role'));}}).catch(function(error){console.log(error);});setErrorPI(false);setErrorCL(false);setUpdateData(!updateData);setTransactionSuccess(false);setErrorUnclaim(false);setErrorReports(false);setLoading(false);},[currentRole]);useEffect(function(){setErrorPI(false);setErrorCL(false);setTransactionSuccess(false);setErrorUnclaim(false);setLoading(false);setErrorReports(false);},[currentTab]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(process.env.REACT_APP_PROGRESS===\"1\")){_context.next=7;break;}_context.next=3;return getProgress();case 3:_context.next=5;return setUpdateData(!updateData);case 5:console.log(progress);console.log(realProgress);case 7:case\"end\":return _context.stop();}}},_callee);})),[updateProgress]);var getProgress=function getProgress(){var options={method:\"GET\"};fetch(\"http://localhost:5000/currentProgressISO\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(json){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return setProgressISO(json.progressISO);case 2:_context2.next=4;return setRealProgressISO(json.realprogressISO);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}());fetch(\"http://localhost:5000/currentProgress\",options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(json){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return setProgress(json.progress);case 2:_context3.next=4;return setRealProgress(json.realprogress);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());};var claim=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var i,_body,options,_i,_body2,_options,_i2,_body3,_options2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setErrorReports(false);setErrorCL(false);setErrorUnclaim(false);setTransactionSuccess(false);setErrorPI(false);console.log(selected);if(!(selected.length>0)){_context4.next=44;break;}setLoading(true);localStorage.setItem(\"update\",true);if(!(currentTab===\"Process\")){_context4.next=21;break;}i=0;case 11:if(!(i<selected.length)){_context4.next=19;break;}_body={user:currentUser,file:selected[i],role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body)};_context4.next=16;return fetch(\"http://localhost:5000/claimProc\",options);case 16:i++;_context4.next=11;break;case 19:_context4.next=42;break;case 21:if(!(currentTab===\"Instrument\")){_context4.next=33;break;}_i=0;case 23:if(!(_i<selected.length)){_context4.next=31;break;}_body2={user:currentUser,file:selected[_i],role:currentRole};_options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body2)};_context4.next=28;return fetch(\"http://localhost:5000/claimInst\",_options);case 28:_i++;_context4.next=23;break;case 31:_context4.next=42;break;case 33:_i2=0;case 34:if(!(_i2<selected.length)){_context4.next=42;break;}_body3={user:currentUser,file:selected[_i2],role:currentRole};_options2={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body3)};_context4.next=39;return fetch(\"http://localhost:5000/claim\",_options2);case 39:_i2++;_context4.next=34;break;case 42:setUpdateData(!updateData);setLoading(false);case 44:case\"end\":return _context4.stop();}}},_callee4);}));return function claim(_x3){return _ref4.apply(this,arguments);};}();var forceClaim=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(username){var i,_body4,options;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setErrorReports(false);setErrorCL(false);setErrorUnclaim(false);setTransactionSuccess(false);setErrorPI(false);if(!(selected.length>0)){_context5.next=20;break;}setLoading(true);localStorage.setItem(\"update\",true);i=0;case 9:if(!(i<selected.length)){_context5.next=18;break;}_body4={user:username,file:selected[i],los:currentUser};console.log(_body4);options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body4)};_context5.next=15;return fetch(\"http://localhost:5000/forceClaim\",options);case 15:i++;_context5.next=9;break;case 18:setUpdateData(!updateData);setLoading(false);case 20:case\"end\":return _context5.stop();}}},_callee5);}));return function forceClaim(_x4){return _ref5.apply(this,arguments);};}();var unclaim=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(event){var i,_body5,options,_i3,_body6,_options3,_i4,_body7,_options4;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:setErrorReports(false);setErrorUnclaim(false);setErrorCL(false);setTransactionSuccess(false);setErrorPI(false);if(!(selected.length>0)){_context6.next=45;break;}setLoading(true);localStorage.setItem(\"update\",true);if(!(currentRole===\"Process\")){_context6.next=20;break;}i=0;case 10:if(!(i<selected.length)){_context6.next=18;break;}_body5={user:currentUser,file:selected[i],role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body5)};_context6.next=15;return fetch(\"http://localhost:5000/unclaimProc\",options);case 15:i++;_context6.next=10;break;case 18:_context6.next=42;break;case 20:if(!(currentRole===\"Instrument\")){_context6.next=33;break;}_i3=0;case 22:if(!(_i3<selected.length)){_context6.next=31;break;}_body6={user:currentUser,file:selected[_i3],role:currentRole};_options3={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body6)};console.log(_body6);_context6.next=28;return fetch(\"http://localhost:5000/unclaimInst\",_options3);case 28:_i3++;_context6.next=22;break;case 31:_context6.next=42;break;case 33:_i4=0;case 34:if(!(_i4<selected.length)){_context6.next=42;break;}_body7={user:currentUser,file:selected[_i4],role:currentRole};_options4={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body7)};_context6.next=39;return fetch(\"http://localhost:5000/unclaim\",_options4).then(function(response){return response.json();}).catch(function(err){setErrorUnclaim(true);});case 39:_i4++;_context6.next=34;break;case 42:_context6.next=44;return setUpdateData(!updateData);case 44:setLoading(false);case 45:case\"end\":return _context6.stop();}}},_callee6);}));return function unclaim(_x5){return _ref6.apply(this,arguments);};}();function forceUnclaim(_x6){return _forceUnclaim.apply(this,arguments);}function _forceUnclaim(){_forceUnclaim=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(fileName){var body,options;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:setErrorReports(false);setErrorCL(false);setErrorUnclaim(false);setTransactionSuccess(false);setErrorPI(false);setLoading(true);localStorage.setItem(\"update\",true);body={user:currentUser,file:fileName,role:currentRole};console.log(body);options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};console.log(body);_context8.next=13;return fetch(\"http://localhost:5000/forceUnclaim\",options);case 13:_context8.next=15;return setUpdateData(!updateData);case 15:setLoading(false);case 16:case\"end\":return _context8.stop();}}},_callee8);}));return _forceUnclaim.apply(this,arguments);}var verifyClick=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(event){var i,_body8,options;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:setErrorReports(false);setErrorCL(false);setErrorUnclaim(false);setTransactionSuccess(false);setErrorPI(false);setLoading(true);console.log(\"Envio a verify\");if(!(selected.length>0)){_context7.next=21;break;}localStorage.setItem(\"update\",true);i=0;case 10:if(!(i<selected.length)){_context7.next=18;break;}_body8={user:currentUser,file:selected[i],role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body8)};_context7.next=15;return fetch(\"http://localhost:5000/verify\",options);case 15:i++;_context7.next=10;break;case 18:_context7.next=20;return setUpdateData(!updateData);case 20:setLoading(false);case 21:case\"end\":return _context7.stop();}}},_callee7);}));return function verifyClick(_x7){return _ref7.apply(this,arguments);};}();function cancelVerifyClick(_x8){return _cancelVerifyClick.apply(this,arguments);}function _cancelVerifyClick(){_cancelVerifyClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(filename){var body,options;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:setErrorReports(false);setErrorUnclaim(false);setTransactionSuccess(false);setLoading(true);localStorage.setItem(\"update\",true);body={user:currentUser,file:filename,role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context9.next=9;return fetch(\"http://localhost:5000/cancelVerify\",options);case 9:_context9.next=11;return setUpdateData(!updateData);case 11:setLoading(false);case 12:case\"end\":return _context9.stop();}}},_callee9);}));return _cancelVerifyClick.apply(this,arguments);}function transaction(_x9){return _transaction.apply(this,arguments);}function _transaction(){_transaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(destiny){var i,_body9,options,_loop,_i5,deleted,hold,_i6,_body11,_options6;return _regeneratorRuntime.wrap(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!(selected.length>0)){_context12.next=61;break;}setErrorReports(false);setErrorCL(false);setErrorUnclaim(false);setErrorPI(false);setTransactionSuccess(false);setLoading(true);if(!(destiny===\"Design\")){_context12.next=28;break;}if(!(comment.length>1)){_context12.next=24;break;}setComment(\" \");setCommentAlert(false);localStorage.setItem(\"update\",true);i=0;case 13:if(!(i<selected.length)){_context12.next=22;break;}_body9={user:currentUser,fileName:selected[i],to:destiny,role:secureStorage.getItem(\"role\"),comment:comment,deleted:0,onhold:0};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body9)};_context12.next=18;return fetch(\"http://localhost:5000/api/transaction\",options);case 18:setTransactionSuccess(true);case 19:i++;_context12.next=13;break;case 22:_context12.next=26;break;case 24:console.log(\"vacio\");setCommentAlert(true);case 26:_context12.next=56;break;case 28:if(!(destiny===\"LDE/Isocontrol\")){_context12.next=41;break;}_loop=/*#__PURE__*/_regeneratorRuntime.mark(function _loop(_i5){var options;return _regeneratorRuntime.wrap(function _loop$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/json\"}};_context11.next=3;return fetch(\"http://localhost:5000/piStatus/\"+selected[_i5],options).then(function(response){return response.json();}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(json){var deleted,hold,_body10,_options5;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(json.sit===1||json.sit===4||json.spo===1||json.spo===4)){_context10.next=5;break;}localStorage.setItem(\"update\",true);setErrorPI(true);_context10.next=13;break;case 5:setCommentAlert(false);localStorage.setItem(\"update\",true);hold=0;_body10={user:currentUser,fileName:selected[_i5],to:destiny,role:secureStorage.getItem(\"role\"),comment:null,deleted:deleted,onhold:hold};_options5={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body10)};_context10.next=12;return fetch(\"http://localhost:5000/api/transaction\",_options5).then(function(response){return response.json();}).then(function(json){console.log(json);}).catch(function(error){setErrorCL(true);});case 12:setTransactionSuccess(true);case 13:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x16){return _ref8.apply(this,arguments);};}());case 3:case\"end\":return _context11.stop();}}},_loop);});_i5=0;case 31:if(!(_i5<selected.length)){_context12.next=36;break;}return _context12.delegateYield(_loop(_i5),\"t0\",33);case 33:_i5++;_context12.next=31;break;case 36:_context12.next=38;return setUpdateData(!updateData);case 38:setLoading(false);_context12.next=56;break;case 41:setCommentAlert(false);localStorage.setItem(\"update\",true);hold=0;if(destiny===\"Recycle bin\"){deleted=1;}if(destiny===\"On hold\"){hold=1;}_i6=0;case 47:if(!(_i6<selected.length)){_context12.next=56;break;}_body11={user:currentUser,fileName:selected[_i6],to:destiny,role:secureStorage.getItem(\"role\"),comment:null,deleted:deleted,onhold:hold};_options6={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body11)};_context12.next=52;return fetch(\"http://localhost:5000/api/transaction\",_options6);case 52:setTransactionSuccess(true);case 53:_i6++;_context12.next=47;break;case 56:_context12.next=58;return setUpdateData(!updateData);case 58:setLoading(false);_context12.next=61;return getProgress();case 61:case\"end\":return _context12.stop();}}},_callee11);}));return _transaction.apply(this,arguments);}function returnLead(_x10){return _returnLead.apply(this,arguments);}function _returnLead(){_returnLead=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(destiny){var i,_body12,options;return _regeneratorRuntime.wrap(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:setErrorReports(false);setErrorUnclaim(false);setErrorCL(false);setTransactionSuccess(false);setErrorPI(false);setLoading(true);localStorage.setItem(\"update\",true);i=0;case 8:if(!(i<selected.length)){_context13.next=17;break;}_body12={user:currentUser,fileName:selected[i],to:destiny};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body12)};_context13.next=13;return fetch(\"http://localhost:5000/api/returnLead\",options);case 13:setTransactionSuccess(true);case 14:i++;_context13.next=8;break;case 17:_context13.next=19;return setUpdateData(!updateData);case 19:setLoading(false);_context13.next=22;return getProgress();case 22:case\"end\":return _context13.stop();}}},_callee12);}));return _returnLead.apply(this,arguments);}function handleComment(event){setComment(event.target.value);}function restore(){return _restore.apply(this,arguments);}function _restore(){_restore=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){var i,_body13,options;return _regeneratorRuntime.wrap(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:setErrorReports(false);setErrorUnclaim(false);setErrorCL(false);setTransactionSuccess(false);setErrorPI(false);console.log(selected.length);if(!(selected.length>0)){_context14.next=25;break;}setLoading(true);localStorage.setItem(\"update\",true);i=0;case 10:if(!(i<selected.length)){_context14.next=19;break;}_body13={fileName:selected[i],user:currentUser,deleted:0,onhold:0};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body13)};_context14.next=15;return fetch(\"http://localhost:5000/restore\",options);case 15:setTransactionSuccess(true);case 16:i++;_context14.next=10;break;case 19:_context14.next=21;return setUpdateData(!updateData);case 21:console.log(\"restored\");setLoading(false);_context14.next=25;return getProgress();case 25:case\"end\":return _context14.stop();}}},_callee13);}));return _restore.apply(this,arguments);}function procOrInst(tab){if(tab===\"Process\"||tab===\"Instrument\"){setCurrentTab(tab);}else if(currentRole===\"Process\"){setCurrentTab(\"Process\");}else{setCurrentTab(\"Instrument\");}}function sendProcessClick(_x11){return _sendProcessClick.apply(this,arguments);}function _sendProcessClick(){_sendProcessClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(fileName){var body,options;return _regeneratorRuntime.wrap(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:setErrorReports(false);setErrorUnclaim(false);setErrorCL(false);setTransactionSuccess(false);setLoading(true);localStorage.setItem(\"update\",true);body={user:currentUser,file:fileName,role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context15.next=10;return fetch(\"http://localhost:5000/process\",options);case 10:_context15.next=12;return setUpdateData(!updateData);case 12:setLoading(false);case 13:case\"end\":return _context15.stop();}}},_callee14);}));return _sendProcessClick.apply(this,arguments);}function sendInstrumentClick(_x12){return _sendInstrumentClick.apply(this,arguments);}function _sendInstrumentClick(){_sendInstrumentClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(fileName){var body,options;return _regeneratorRuntime.wrap(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:setErrorReports(false);setErrorUnclaim(false);setTransactionSuccess(false);setErrorCL(false);setLoading(true);localStorage.setItem(\"update\",true);body={user:currentUser,file:fileName,role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};_context16.next=10;return fetch(\"http://localhost:5000/instrument\",options);case 10:_context16.next=12;return setUpdateData(!updateData);case 12:setLoading(false);case 13:case\"end\":return _context16.stop();}}},_callee15);}));return _sendInstrumentClick.apply(this,arguments);}function updateD(){setUpdateData(!updateData);}function downloadFiles(){return _downloadFiles.apply(this,arguments);}function _downloadFiles(){_downloadFiles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(){var _loop2,i,_loop3,_i7,zipname;return _regeneratorRuntime.wrap(function _callee16$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:setErrorReports(false);setErrorCL(false);setTransactionSuccess(false);setErrorUnclaim(false);setLoading(true);localStorage.setItem(\"update\",true);if(!(selected.length===1)){_context19.next=17;break;}localStorage.setItem(\"update\",true);_loop2=/*#__PURE__*/_regeneratorRuntime.mark(function _loop2(i){var options;return _regeneratorRuntime.wrap(function _loop2$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/pdf\"}};_context17.next=3;return fetch(\"http://localhost:5000/download/\"+selected[i],options).then(function(res){return res.blob();}).then(function(response){console.log(\"Se descarga\");download(new Blob([response]),selected[i],\"application/pdf\");});case 3:case\"end\":return _context17.stop();}}},_loop2);});i=0;case 10:if(!(i<selected.length)){_context19.next=15;break;}return _context19.delegateYield(_loop2(i),\"t0\",12);case 12:i++;_context19.next=10;break;case 15:_context19.next=28;break;case 17:if(!(selected.length>1)){_context19.next=28;break;}localStorage.setItem(\"update\",true);_loop3=/*#__PURE__*/_regeneratorRuntime.mark(function _loop3(_i7){var options;return _regeneratorRuntime.wrap(function _loop3$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:options={method:\"GET\",headers:{\"Content-Type\":\"application/pdf\"}};_context18.next=3;return fetch(\"http://localhost:5000/download/\"+selected[_i7],options).then(function(res){return res.blob();}).then(function(response){setDownloadzip(downloadZip.file(selected[_i7],new Blob([response]),{binary:true}));});case 3:case\"end\":return _context18.stop();}}},_loop3);});_i7=0;case 21:if(!(_i7<selected.length)){_context19.next=26;break;}return _context19.delegateYield(_loop3(_i7),\"t1\",23);case 23:_i7++;_context19.next=21;break;case 26:zipname=String(Date().toLocaleString().replace(/\\s/g,'-').split('-G').slice(0,-1));downloadZip.generateAsync({type:\"blob\"}).then(function(blob){// 1) generate the zip file\nsaveAs(blob,zipname);});case 28:_context19.next=30;return setUpdateData(!updateData);case 30:_context19.next=32;return setDownloadzip(new JSZip());case 32:setLoading(false);/* EN CASO DE QUERER ADJUNTOS\r\n        for (let i = 0; i < selected.length; i++){\r\n            const body ={\r\n                fileName: selected[i]\r\n            }\r\n            const options = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/pdf\"\r\n                }\r\n            }\r\n            \r\n            await fetch(\"http://localhost:5000/getAttach/\"+selected[i], options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await fetch(\"http://localhost:5000/download/\"+selected[i], options)\r\n                .then(res => res.blob())\r\n                .then( async response =>{\r\n                    setDownloadzip(downloadZip.file(selected[i], new Blob([response]),{binary:true}))   \r\n                    for(let i = 0; i < json.length; i++){\r\n                        await fetch(\"http://localhost:5000/download/\"+json[i], options)\r\n                        .then(res => res.blob())\r\n                        .then(response =>{\r\n                            setDownloadzip(downloadZip.file(json[i], new Blob([response]),{binary:true}))   \r\n                        })\r\n                    }\r\n                     \r\n                })\r\n            })\r\n        \r\n\r\n            \r\n    \r\n        }\r\n        const zipname = String(Date().toLocaleString().replace(/\\s/g, '-').split('-G').slice(0, -1))\r\n        downloadZip.generateAsync({type:\"blob\"}).then(function (blob) { // 1) generate the zip file\r\n            saveAs(blob,  zipname)\r\n        })  \r\n        \r\n        await setDownloadzip(new JSZip())   \r\n        await setAttachFiles(null)\r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n        */case 33:case\"end\":return _context19.stop();}}},_callee16);}));return _downloadFiles.apply(this,arguments);}function downloadHistory(){return _downloadHistory.apply(this,arguments);}function _downloadHistory(){_downloadHistory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){return _regeneratorRuntime.wrap(function _callee17$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:setErrorReports(false);_context20.next=3;return fetch(\"http://localhost:5000/downloadHistory/\").then(function(response){return response.json();}).then(function(json){var headers=[\"ISO_ID\",\"FROM\",\"TO\",\"DATE\",\"COMMENT\",\"USER\"];exportToExcel(JSON.parse(json),\"Comments\",headers);});case 3:case\"end\":return _context20.stop();}}},_callee17);}));return _downloadHistory.apply(this,arguments);}function downloadStatus(){return _downloadStatus.apply(this,arguments);}function _downloadStatus(){_downloadStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){return _regeneratorRuntime.wrap(function _callee18$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:setErrorReports(false);_context21.next=3;return fetch(\"http://localhost:5000/downloadStatus/\").then(function(response){return response.json();}).then(function(json){var headers=[\"ISO_ID\",\"START_DATE\",\"CURRENT_DATE\",\"CONDITION\"];exportToExcel(JSON.parse(json),\"Status\",headers);});case 3:case\"end\":return _context21.stop();}}},_callee18);}));return _downloadStatus.apply(this,arguments);}var exportToExcel=function exportToExcel(apiData,fileName,headers){setErrorReports(false);var fileType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";var header_cells=['A1','B1','C1','D1','E1','F1','G1','H1','I1','J1','K1','L1','M1','O1'];var fileExtension=\".xlsx\";var ws=XLSX.utils.json_to_sheet(apiData);for(var i=0;i<headers.length;i++){ws[header_cells[i]].v=headers[i];}var wb={Sheets:{data:ws},SheetNames:[\"data\"]};var excelBuffer=XLSX.write(wb,{bookType:\"xlsx\",type:\"array\"});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+fileExtension);};function setUploading(_x13){return _setUploading.apply(this,arguments);}function _setUploading(){_setUploading=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(active){return _regeneratorRuntime.wrap(function _callee19$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:setErrorReports(false);setLoading(active);if(!active){setTransactionSuccess(true);}case 3:case\"end\":return _context22.stop();}}},_callee19);}));return _setUploading.apply(this,arguments);}function setErrorReport(){return _setErrorReport.apply(this,arguments);}function _setErrorReport(){_setErrorReport=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(){return _regeneratorRuntime.wrap(function _callee20$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:setErrorReports(true);case 1:case\"end\":return _context23.stop();}}},_callee20);}));return _setErrorReport.apply(this,arguments);}function issue(_x14,_x15){return _issue.apply(this,arguments);}function _issue(){_issue=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(transmittal,date){var i,_body14,options;return _regeneratorRuntime.wrap(function _callee21$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:setErrorReports(false);setTransactionSuccess(false);setErrorCL(false);setErrorUnclaim(false);setLoading(true);console.log(transmittal);if(!(selected.length>0)){_context24.next=22;break;}localStorage.setItem(\"update\",true);i=0;case 9:if(!(i<selected.length)){_context24.next=17;break;}_body14={user:currentUser,file:selected[i],role:currentRole,transmittal:transmittal,date:date};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body14)};_context24.next=14;return fetch(\"http://localhost:5000/toIssue\",options);case 14:i++;_context24.next=9;break;case 17:_context24.next=19;return setUpdateData(!updateData);case 19:setLoading(false);_context24.next=22;return getProgress();case 22:case\"end\":return _context24.stop();}}},_callee21);}));return _issue.apply(this,arguments);}function newRev(){return _newRev.apply(this,arguments);}function _newRev(){_newRev=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(){var i,_body15,options;return _regeneratorRuntime.wrap(function _callee22$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:setErrorReports(false);setTransactionSuccess(false);setErrorCL(false);setErrorUnclaim(false);setLoading(true);if(!(selected.length>0)){_context25.next=20;break;}localStorage.setItem(\"update\",true);i=0;case 8:if(!(i<selected.length)){_context25.next=16;break;}_body15={user:currentUser,file:selected[i],role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body15)};_context25.next=13;return fetch(\"http://localhost:5000/newRev\",options);case 13:i++;_context25.next=8;break;case 16:setUpdateData(!updateData);setLoading(false);_context25.next=20;return getProgress();case 20:case\"end\":return _context25.stop();}}},_callee22);}));return _newRev.apply(this,arguments);}function request(){return _request.apply(this,arguments);}function _request(){_request=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(){var i,_body16,options;return _regeneratorRuntime.wrap(function _callee23$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:setErrorReports(false);setTransactionSuccess(false);setErrorCL(false);setErrorUnclaim(false);setLoading(true);if(!(selected.length>0)){_context26.next=18;break;}localStorage.setItem(\"update\",true);i=0;case 8:if(!(i<selected.length)){_context26.next=16;break;}_body16={user:currentUser,file:selected[i],role:currentRole};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_body16)};_context26.next=13;return fetch(\"http://localhost:5000/request\",options);case 13:i++;_context26.next=8;break;case 16:setUpdateData(!updateData);setLoading(false);case 18:case\"end\":return _context26.stop();}}},_callee23);}));return _request.apply(this,arguments);}if(currentTab===\"Upload IsoFiles\"){secureStorage.setItem(\"tab\",\"Upload IsoFiles\");uploadButton=/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-info btn-lg\",style:{backgroundColor:\"#17a2b8\",width:\"180px\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Upload\"})});tableContent=/*#__PURE__*/_jsx(DragAndDrop,{mode:\"upload\",user:currentUser,uploaded:getProgress.bind(_this)});pageSelector=null;}if(currentTab===\"Design\"&&currentRole===\"Design\"){uploadButton=/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-info btn-lg\",style:{backgroundColor:\"lightblue\",width:\"180px\"},onClick:function onClick(){return setCurrentTab(\"Upload IsoFiles\");},children:/*#__PURE__*/_jsx(\"b\",{children:\"Upload\"})});}if(currentTab===\"LDE/IsoControl\"){actionExtra=/*#__PURE__*/_jsx(ActionExtra,{});}if(currentTab===\"CheckBy\"){tableContent=/*#__PURE__*/_jsx(CheckInTable,{});}if(currentTab===\"My Tray\"){tableContent=/*#__PURE__*/_jsx(MyTrayTable,{onChange:function onChange(value){return setSelected(value);},cancelVerifyClick:cancelVerifyClick.bind(_this),sendProcessClick:sendProcessClick.bind(_this),sendInstrumentClick:sendInstrumentClick.bind(_this),updateD:updateD.bind(_this),pagination:pagination,currentRole:currentRole,currentUser:currentUser,selected:selected,updateData:updateData});}if(currentTab===\"Recycle bin\"){tableContent=/*#__PURE__*/_jsx(BinTable,{onChange:function onChange(value){return setSelected(value);},selected:selected,pagination:pagination,currentTab:currentTab,updateData:updateData});}if(currentTab===\"On hold\"){tableContent=/*#__PURE__*/_jsx(OnHoldTable,{onChange:function onChange(value){return setSelected(value);},selected:selected,pagination:pagination,currentTab:currentTab,updateData:updateData});}if(currentTab===\"Status\"){tableContent=/*#__PURE__*/_jsx(StatusDataTable,{pagination:pagination,role:currentRole});}if(currentTab===\"History\"){tableContent=/*#__PURE__*/_jsx(HistoryDataTable,{pagination:pagination});}if(currentRole===\"Process\"||currentRole===\"Instrument\"||currentRole===\"SpecialityLead\"){procInsBtn=/*#__PURE__*/_jsx(ProcInsBtn,{onChange:function onChange(value){return procOrInst(value);},currentTab:currentTab});}if(currentTab===\"Process\"||currentTab===\"Instrument\"){tableContent=/*#__PURE__*/_jsx(ProcInstTable,{onChange:function onChange(value){return setSelected(value);},selected:selected,pagination:pagination,currentTab:currentTab,updateData:updateData});}if(currentTab===\"Reports\"){tableContent=/*#__PURE__*/_jsx(ReportBoxBtns,{downloadHistory:downloadHistory.bind(_this),downloadStatus:downloadStatus.bind(_this),setErrorReport:setErrorReport.bind(_this),setUploading:setUploading.bind(_this)});}if(currentTab===\"My Tray\"||currentTab===\"LDE/IsoControl\"){commentBox=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Comments\",class:\"comments\",cols:\"100\",rows:\"2\",required:\"\",maxlength:\"400\",name:\"comments\",value:comment,onChange:handleComment})});}if(process.env.REACT_APP_PROGRESS===\"1\"){progTable=/*#__PURE__*/_jsx(ProgressTable,{role:currentRole,updateData:updateData,progress:progress,realProgress:realProgress,progressISO:progressISO,realProgressISO:realProgressISO});}if((currentRole===\"Design\"||currentRole===\"DesignLead\")&&currentTab===\"Design\"||(currentRole===\"Stress\"||currentRole===\"StressLead\")&&currentTab===\"Stress\"||(currentRole===\"Supports\"||currentRole===\"SupportsLead\")&&currentTab===\"Supports\"||currentRole===\"Materials\"&&currentTab===\"Materials\"||currentRole===\"Issuer\"&&currentTab===\"Issuer\"||currentRole===\"SpecialityLead\"||currentTab===\"SpecialityLead\"||currentTab===\"My Tray\"||(currentTab===\"Recycle bin\"||currentTab===\"On hold\")&&currentRole===\"DesignLead\"||currentRole===\"SpecialityLead\"||currentTab===\"Process\"&&currentRole===\"Process\"||currentRole===\"Instrument\"&&currentTab===\"Instrument\"||(currentRole===\"Design\"||currentRole===\"DesignLead\")&&currentTab===\"Issued\"){actionText=/*#__PURE__*/_jsx(\"b\",{className:\"progress__text\",children:\"Click an action for selected IsoFiles:\"});actionButtons=/*#__PURE__*/_jsx(ActionButtons,{claimClick:claim.bind(_this),verifyClick:verifyClick.bind(_this),unclaimClick:unclaim.bind(_this),transaction:transaction.bind(_this),restoreClick:restore.bind(_this),returnLead:returnLead.bind(_this),downloadFiles:downloadFiles.bind(_this),forceClaim:forceClaim.bind(_this),issue:issue.bind(_this),newRev:newRev.bind(_this),request:request.bind(_this),onlyDownload:false,currentTab:currentTab,user:currentUser,role:currentRole});}else if(currentTab!==\"History\"&&currentTab!==\"Upload IsoFiles\"&&currentTab!==\"Recycle bin\"&&currentTab!==\"Reports\"){actionText=/*#__PURE__*/_jsx(\"b\",{className:\"progress__text\",children:\"Click an action for selected IsoFiles:\"});actionButtons=/*#__PURE__*/_jsx(ActionButtons,{claimClick:claim.bind(_this),verifyClick:verifyClick.bind(_this),unclaimClick:unclaim.bind(_this),transaction:transaction.bind(_this),restoreClick:restore.bind(_this),returnLead:returnLead.bind(_this),downloadFiles:downloadFiles.bind(_this),forceClaim:forceClaim.bind(_this),issue:issue.bind(_this),newRev:newRev.bind(_this),request:request.bind(_this),onlyDownload:true,currentTab:currentTab,user:currentUser,role:currentRole});}if(currentTab===\"LDE/IsoControl\"||currentTab===\"Issued\"){issuedBtn=/*#__PURE__*/_jsx(IssuedBtn,{onChange:function onChange(value){return setCurrentTab(\"Issued\");},currentTab:currentTab});}//El usuario admin ve mas parte de la tabla de progreso\nif(user===\"admin\"){progressTableWidth=\"35%\";}else{progressTableWidth=\"15%\";}return/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(NavBar,{onChange:function onChange(value){return setCurrentTab(value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"isoCtrl__container\",children:[/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(Collapse,{in:loading,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"47%\",zIndex:\"3\"},severity:\"info\",children:\"Processing...\"})}),/*#__PURE__*/_jsx(Collapse,{in:errorPI,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"37%\",zIndex:\"3\"},severity:\"error\",children:\"At least one isometric was on revision and wasn't sent to LDE/Isocontrol\"})}),/*#__PURE__*/_jsx(Collapse,{in:transactionSuccess,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"47%\",zIndex:\"3\"},severity:\"success\",children:\"Successful!\"})}),/*#__PURE__*/_jsx(Collapse,{in:errorUnclaim,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"44%\",zIndex:\"3\"},severity:\"error\",children:\"Can't unclaim an iso assigned by LOS!\"})}),/*#__PURE__*/_jsx(Collapse,{in:errorReports,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"45%\",zIndex:\"3\"},severity:\"error\",children:\"Missing columns!\"})}),/*#__PURE__*/_jsx(Collapse,{in:errorCL,children:/*#__PURE__*/_jsx(Alert,{style:{position:\"fixed\",left:\"46%\",zIndex:\"3\"},severity:\"error\",children:\"Missing clean!\"})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"title__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"roleSelector__container\",children:/*#__PURE__*/_jsx(RoleDropDown,{style:{paddingLeft:\"2px\"},onChange:function onChange(value){return setCurrentRole(value);},roles:roles})}),/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"iso__title\",children:\"IsoTracker\"})})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"iso__subtitle\",children:currentTabText})]}),/*#__PURE__*/_jsx(\"table\",{style:{width:\"100%\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(MyTrayBtn,{onChange:function onChange(value){return setCurrentTab(value);},currentTab:currentTab}),/*#__PURE__*/_jsx(\"td\",{className:\"reportBtns__container\",style:{width:\"380px\"},children:/*#__PURE__*/_jsx(ReportBtns,{onChange:function onChange(value){return setCurrentTab(value);},currentTab:currentTab})}),/*#__PURE__*/_jsx(\"td\",{children:uploadButton}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"750px\",position:\"inline-block\",right:\"0\"},children:progTable})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"stateTable__container\",children:/*#__PURE__*/_jsx(\"td\",{style:{width:\"75 %\"},children:/*#__PURE__*/_jsx(StateTable,{})})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",width:\"500px\"},children:[pageSelector,/*#__PURE__*/_jsx(BinBtn,{onChange:function onChange(value){return setCurrentTab(\"Recycle bin\");},currentTab:currentTab}),/*#__PURE__*/_jsx(OnHoldBtn,{onChange:function onChange(value){return setCurrentTab(\"On hold\");},currentTab:currentTab}),/*#__PURE__*/_jsx(ReportsBtn,{onChange:function onChange(value){return setCurrentTab(\"Reports\");},currentTab:currentTab}),procInsBtn,issuedBtn]}),/*#__PURE__*/_jsxs(\"div\",{style:{height:dataTableHeight},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),tableContent]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom__container\",children:[/*#__PURE__*/_jsx(Collapse,{in:commentAlert,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Add a comment before sending the isos back to design!\"})}),/*#__PURE__*/_jsxs(\"center\",{className:\"actionBtns__container\",children:[actionText,actionButtons]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"center\",{className:\"commentBox__container\",children:commentBox})]})]}),/*#__PURE__*/_jsx(\"center\",{className:\"navBtns__center\",children:/*#__PURE__*/_jsx(NavBtns,{onChange:function onChange(value){return setCurrentTab(value);},currentTab:currentTab,currentRole:currentRole})}),/*#__PURE__*/_jsx(\"br\",{})]});};export default IsoCtrl;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/pages/isoCtrl/isoCtrl.js"],"names":["DataTable","ReportBtns","StateTable","NavBtns","DragAndDrop","React","useState","useEffect","ActionButtons","ActionExtra","ProgressTable","SelectPag","CheckInTable","NavBar","MyTrayBtn","MyTrayTable","BinBtn","BinTable","OnHoldTable","StatusDataTable","HistoryDataTable","RoleDropDown","Alert","Collapse","OnHoldBtn","ProcInsBtn","ReportsBtn","ProcInstTable","download","JSZip","saveAs","FileSaver","XLSX","ReportBoxBtns","IssuedBtn","IsoCtrl","pagination","setPagination","user","currentRole","setCurrentRole","roles","setRoles","selected","setSelected","updateData","setUpdateData","comment","setComment","commentAlert","setCommentAlert","downloadZip","setDownloadzip","loading","setLoading","errorUnclaim","setErrorUnclaim","errorPI","setErrorPI","errorCL","setErrorCL","transactionSuccess","setTransactionSuccess","errorReports","setErrorReports","progress","setProgress","realProgress","setRealProgress","progressISO","setProgressISO","realProgressISO","setRealProgressISO","updateProgress","setUpdateProgress","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","getItem","currentTab","setCurrentTab","dataTableHeight","uploadButton","actionButtons","actionText","actionExtra","commentBox","progressTableWidth","tableContent","procInsBtn","progTable","issuedBtn","currentTabText","forceUnclaim","bind","value","pageSelector","currentUser","body","options","method","headers","JSON","stringify","fetch","then","response","json","setItem","catch","error","console","log","process","env","REACT_APP_PROGRESS","getProgress","realprogressISO","realprogress","claim","event","length","i","file","role","forceClaim","username","los","unclaim","err","fileName","verifyClick","cancelVerifyClick","filename","transaction","destiny","to","deleted","onhold","sit","spo","hold","returnLead","handleComment","target","restore","procOrInst","tab","sendProcessClick","sendInstrumentClick","updateD","downloadFiles","res","blob","Blob","binary","zipname","String","Date","toLocaleString","replace","split","slice","generateAsync","type","downloadHistory","exportToExcel","parse","downloadStatus","apiData","fileType","header_cells","fileExtension","ws","utils","json_to_sheet","v","wb","Sheets","SheetNames","excelBuffer","write","bookType","setUploading","active","setErrorReport","issue","transmittal","date","newRev","request","backgroundColor","width","position","left","zIndex","paddingLeft","right","height"],"mappings":"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","sourcesContent":["import DataTable from \"../../components/datatable/datatable\"\r\nimport ReportBtns from \"../../components/reportBtns/reportBtns\"\r\nimport StateTable from \"../../components/stateTable/stateTable\"\r\nimport NavBtns from \"../../components/navBtns/navBtns\"\r\nimport DragAndDrop from \"../../components/dragAndDrop/dragAndDrop\"\r\nimport \"./isoCtrl.css\"\r\nimport React, { useState , useEffect} from 'react'\r\nimport ActionButtons from \"../../components/actionBtns/actionBtns\"\r\nimport ActionExtra from \"../../components/actionExtra/actionExtra\"\r\nimport ProgressTable from \"../../components/progressTable/progressTable\"\r\nimport SelectPag from \"../../components/selectPag/selectPag\"\r\nimport CheckInTable from \"../../components/checkInTable/checkInTable\"\r\nimport NavBar from '../../components/navBar/navBar'\r\nimport MyTrayBtn from \"../../components/myTrayBtn/myTrayBtn\"\r\nimport MyTrayTable from \"../../components/myTrayTable/myTrayTable\"\r\nimport BinBtn from '../../components/binBtn/binBtn'\r\nimport BinTable from \"../../components/binTable/binTable\"\r\nimport OnHoldTable from \"../../components/onHoldTable/onHoldTable\"\r\nimport StatusDataTable from \"../../components/statusDataTable/statusDataTable\"\r\nimport HistoryDataTable from \"../../components/historyDataTable/historyDataTable\"\r\nimport RoleDropDown from \"../../components/roleDropDown/roleDropDown\"\r\n\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport OnHoldBtn from \"../../components/onHoldBtn/onHoldBtn\"\r\nimport ProcInsBtn from \"../../components/procInsBtn/procInsBtn\"\r\nimport ReportsBtn from \"../../components/reportsBtn/reportsBtn\"\r\nimport ProcInstTable from \"../../components/procInstTable/procInstTable\"\r\nimport download from 'downloadjs'\r\nimport JSZip from 'jszip'\r\nimport { saveAs } from 'file-saver';\r\nimport * as FileSaver from \"file-saver\";\r\nimport * as XLSX from \"xlsx\";\r\nimport ReportBoxBtns from \"../../components/reportBoxBtns/reportBoxBtns\"\r\nimport IssuedBtn from \"../../components/issuedBtn/issuedBtn\"\r\n\r\n\r\nconst IsoCtrl = () => {\r\n   \r\n    \r\n    const[pagination, setPagination] = useState(8) //Controla el numero de entradas por pagina de la tabla\r\n    const user = \"admin\" //De momento esta variable controla el tipo de user\r\n    const [currentRole, setCurrentRole] = useState();\r\n    const [roles, setRoles] = useState();\r\n    const [selected, setSelected] = useState([]);\r\n    const [updateData, setUpdateData] = useState();\r\n    const [comment, setComment] = useState(\" \");\r\n    const [commentAlert, setCommentAlert] = useState(false);\r\n    const [downloadZip, setDownloadzip] = useState(new JSZip());\r\n    const [loading, setLoading] = useState(false);\r\n    const [errorUnclaim, setErrorUnclaim] = useState(false);\r\n    const [errorPI, setErrorPI] = useState(false);\r\n    const [errorCL, setErrorCL] = useState(false);\r\n    const [transactionSuccess, setTransactionSuccess] = useState(false);\r\n    const [errorReports, setErrorReports] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [realProgress, setRealProgress] = useState(0);\r\n    const [progressISO, setProgressISO] = useState(0);\r\n    const [realProgressISO, setRealProgressISO] = useState(0);\r\n    const [updateProgress, setUpdateProgress] = useState(0);\r\n\r\n    const CryptoJS = require(\"crypto-js\");\r\n    const SecureStorage = require(\"secure-web-storage\");\r\n    var SECRET_KEY = 'sanud2ha8shd72h';\r\n    \r\n    var secureStorage = new SecureStorage(localStorage, {\r\n        hash: function hash(key) {\r\n            key = CryptoJS.SHA256(key, SECRET_KEY);\r\n    \r\n            return key.toString();\r\n        },\r\n        encrypt: function encrypt(data) {\r\n            data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString();\r\n    \r\n            return data;\r\n        },\r\n        decrypt: function decrypt(data) {\r\n            data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString(CryptoJS.enc.Utf8);\r\n    \r\n            return data;\r\n        }\r\n    });\r\n\r\n    const [currentTab, setCurrentTab] = useState(secureStorage.getItem(\"tab\")) //Controla la tabla y botones que se muestran\r\n    //La altura de la tabla es fija en funcion de la paginacion para evitar que los botones se muevan\r\n    var dataTableHeight = 8\r\n\r\n    if (pagination === 8){\r\n        dataTableHeight = \"520px\"\r\n    }if(pagination === 25){\r\n        dataTableHeight = \"1220px\"\r\n    }if(pagination === 50){\r\n        dataTableHeight = \"2230px\"\r\n    }if(pagination === 100){\r\n        dataTableHeight = \"4300px\"\r\n    }\r\n\r\n    //Componentes de la pagina que varian en funcion del estado\r\n    var uploadButton, actionButtons, actionText, actionExtra, commentBox, progressTableWidth, tableContent, procInsBtn, progTable, issuedBtn\r\n    var currentTabText = currentTab\r\n    tableContent = <DataTable forceUnclaim = {forceUnclaim.bind(this)} onChange={value=> setSelected(value)} selected = {selected} pagination = {pagination} currentTab = {currentTab} currentRole={currentRole} updateData = {updateData}/>\r\n    var pageSelector = <SelectPag onChange={value => setPagination(value)} pagination = {pagination}/>\r\n    var currentUser = secureStorage.getItem('user')\r\n\r\n    const body = {\r\n        user: currentUser,\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        setUpdateData(!updateData)\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n        fetch(\"http://localhost:5000/api/roles/user\", options)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                setRoles(json.roles);\r\n                if(secureStorage.getItem('role') !== null){\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }else{\r\n                    secureStorage.setItem('role', json.roles[0])\r\n                    setCurrentRole(secureStorage.getItem('role'))\r\n                }\r\n                }\r\n            )\r\n            .catch(error => {\r\n                console.log(error);\r\n            })       \r\n            setErrorPI(false)\r\n            setErrorCL(false)\r\n            setUpdateData(!updateData)\r\n            setTransactionSuccess(false);\r\n            setErrorUnclaim(false)\r\n            setErrorReports(false)\r\n            setLoading(false)\r\n    },[currentRole]);\r\n\r\n    useEffect(()=>{\r\n        setErrorPI(false);\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false)\r\n        setErrorUnclaim(false)\r\n        setLoading(false)\r\n        setErrorReports(false)\r\n    }, [currentTab])\r\n\r\n    useEffect(async()=>{\r\n        if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n            \r\n            await getProgress()\r\n            await setUpdateData(!updateData)\r\n            console.log(progress)\r\n            console.log(realProgress)\r\n            \r\n\r\n        }\r\n    },[updateProgress])\r\n\r\n    const getProgress = () =>{\r\n        const options = {\r\n            method: \"GET\",\r\n        }\r\n        fetch(\"http://localhost:5000/currentProgressISO\", options)\r\n        .then(response => response.json())\r\n        .then(async json =>{\r\n             await setProgressISO(json.progressISO)\r\n             await setRealProgressISO(json.realprogressISO)\r\n        })\r\n\r\n        fetch(\"http://localhost:5000/currentProgress\", options)\r\n        .then(response => response.json())\r\n        .then(async json =>{\r\n             await setProgress(json.progress)\r\n             await setRealProgress(json.realprogress)\r\n        })\r\n        \r\n    }\r\n\r\n    const claim = async(event) => {\r\n        setErrorReports(false)\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        console.log(selected)\r\n        if(selected.length > 0){\r\n            setLoading(true)\r\n            localStorage.setItem(\"update\", true)\r\n            if(currentTab === \"Process\"){\r\n                for (let i = 0; i < selected.length; i++){\r\n                \r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/claimProc\", options)\r\n                }\r\n            }else if(currentTab === \"Instrument\"){\r\n                for (let i = 0; i < selected.length; i++){\r\n                \r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/claimInst\", options)\r\n                }\r\n            }else{\r\n                for (let i = 0; i < selected.length; i++){\r\n                \r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/claim\", options)\r\n                }\r\n            \r\n            }\r\n            setUpdateData(!updateData)\r\n            setLoading(false)\r\n            \r\n        }\r\n     \r\n    }   \r\n    \r\n    const forceClaim = async(username) =>{\r\n        setErrorReports(false)\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        if(selected.length > 0){\r\n            setLoading(true)\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                \r\n                const body ={\r\n                    user : username,\r\n                    file: selected[i],\r\n                    los: currentUser\r\n                }\r\n                console.log(body)\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/forceClaim\", options)\r\n            }\r\n            setUpdateData(!updateData)\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const unclaim = async (event) =>{\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        if(selected.length > 0){\r\n            setLoading(true)\r\n            localStorage.setItem(\"update\", true)\r\n            if (currentRole === \"Process\"){\r\n                for (let i = 0; i < selected.length; i++){\r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/unclaimProc\", options)\r\n                }\r\n            }else if(currentRole === \"Instrument\"){\r\n                for (let i = 0; i < selected.length; i++){\r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    console.log(body)\r\n                    await fetch(\"http://localhost:5000/unclaimInst\", options)\r\n                }\r\n            }else{\r\n                for (let i = 0; i < selected.length; i++){\r\n                    const body ={\r\n                        user : currentUser,\r\n                        file: selected[i],\r\n                        role: currentRole\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/unclaim\", options)\r\n                    .then(response => response.json())\r\n                    .catch(err => {\r\n                        setErrorUnclaim(true)\r\n                    });\r\n                }\r\n            }\r\n            await setUpdateData(!updateData)\r\n            setLoading(false)\r\n        }\r\n        \r\n    }\r\n\r\n    async function forceUnclaim(fileName){\r\n        setErrorReports(false)\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n        const body ={\r\n            user : currentUser,\r\n            file: fileName,\r\n            role: currentRole\r\n        }\r\n        console.log(body)\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n        console.log(body)\r\n        await fetch(\"http://localhost:5000/forceUnclaim\", options)\r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    const verifyClick = async(event) =>{\r\n        setErrorReports(false)\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        setLoading(true)\r\n        console.log(\"Envio a verify\")\r\n        if(selected.length > 0){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                \r\n                const body ={\r\n                    user : currentUser,\r\n                    file: selected[i],\r\n                    role: currentRole\r\n                }\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/verify\", options)\r\n            }\r\n            await setUpdateData(!updateData)\r\n            setLoading(false)\r\n        }    \r\n    }\r\n\r\n    async function cancelVerifyClick(filename){\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n            \r\n            const body ={\r\n                user : currentUser,\r\n                file: filename,\r\n                role: currentRole\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            await fetch(\"http://localhost:5000/cancelVerify\", options)\r\n        \r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n            \r\n    }\r\n\r\n    async function transaction(destiny){\r\n        \r\n        if(selected.length > 0){\r\n            setErrorReports(false)\r\n            setErrorCL(false)\r\n            setErrorUnclaim(false)\r\n            setErrorPI(false);\r\n            setTransactionSuccess(false);\r\n            setLoading(true)\r\n            if(destiny === \"Design\"){\r\n                if(comment.length > 1){\r\n                    setComment(\" \")\r\n                    setCommentAlert(false)\r\n                    localStorage.setItem(\"update\", true)\r\n                    for (let i = 0; i < selected.length; i++){\r\n                        const body ={\r\n                            user : currentUser,\r\n                            fileName: selected[i],\r\n                            to: destiny,\r\n                            role: secureStorage.getItem(\"role\"),\r\n                            comment: comment,\r\n                            deleted: 0,\r\n                            onhold: 0\r\n                        }\r\n                        const options = {\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                \"Content-Type\": \"application/json\"\r\n                            },\r\n                            body: JSON.stringify(body)\r\n                        }\r\n                        await fetch(\"http://localhost:5000/api/transaction\", options)\r\n                        setTransactionSuccess(true)\r\n                    }\r\n                }else{\r\n                    console.log(\"vacio\")\r\n                    setCommentAlert(true)\r\n                }\r\n            }else if (destiny === \"LDE/Isocontrol\"){\r\n                for (let i = 0; i < selected.length; i++){\r\n                    const options = {\r\n                        method: \"GET\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                    }\r\n                    await fetch(\"http://localhost:5000/piStatus/\"+selected[i], options)\r\n                    .then(response => response.json())\r\n                    .then(async json =>{\r\n                        if(json.sit === 1 || json.sit === 4 || json.spo === 1 || json.spo === 4){\r\n                            localStorage.setItem(\"update\", true)\r\n                            setErrorPI(true);\r\n                        }else{\r\n                            setCommentAlert(false)\r\n                            localStorage.setItem(\"update\", true)\r\n                            let deleted, hold = 0\r\n                    \r\n                            const body ={\r\n                                user : currentUser,\r\n                                fileName: selected[i],\r\n                                to: destiny,\r\n                                role: secureStorage.getItem(\"role\"),\r\n                                comment: null,\r\n                                deleted: deleted,\r\n                                onhold: hold\r\n                            }\r\n                            const options = {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    \"Content-Type\": \"application/json\"\r\n                                },\r\n                                body: JSON.stringify(body)\r\n                            }\r\n                            await fetch(\"http://localhost:5000/api/transaction\", options)\r\n                            .then(response => response.json())\r\n                            .then(json=>{\r\n                                console.log(json)\r\n                            })\r\n                            .catch(error =>{\r\n                                setErrorCL(true)\r\n                            })\r\n\r\n                            setTransactionSuccess(true)\r\n                        }\r\n                    })\r\n                }\r\n                await setUpdateData(!updateData)\r\n                setLoading(false)\r\n            }else{\r\n                setCommentAlert(false)\r\n                localStorage.setItem(\"update\", true)\r\n                let deleted, hold = 0\r\n\r\n                if(destiny === \"Recycle bin\"){\r\n                    deleted = 1\r\n                }\r\n\r\n                if(destiny === \"On hold\"){\r\n                    hold = 1\r\n                }\r\n                for (let i = 0; i < selected.length; i++){\r\n                    \r\n                    const body ={\r\n                        user : currentUser,\r\n                        fileName: selected[i],\r\n                        to: destiny,\r\n                        role: secureStorage.getItem(\"role\"),\r\n                        comment: null,\r\n                        deleted: deleted,\r\n                        onhold: hold\r\n                    }\r\n                    const options = {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        body: JSON.stringify(body)\r\n                    }\r\n                    await fetch(\"http://localhost:5000/api/transaction\", options)\r\n                    setTransactionSuccess(true)\r\n                }\r\n            }\r\n            await setUpdateData(!updateData)\r\n            setLoading(false)\r\n            await getProgress()\r\n        }    \r\n    }\r\n\r\n    async function returnLead(destiny){\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n        for (let i = 0; i < selected.length; i++){\r\n                    \r\n            const body ={\r\n                user : currentUser,\r\n                fileName: selected[i],\r\n                to: destiny,\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            await fetch(\"http://localhost:5000/api/returnLead\", options)\r\n            setTransactionSuccess(true)\r\n        }\r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n        await getProgress()\r\n    }\r\n    \r\n\r\n    function handleComment(event){\r\n        setComment(event.target.value)\r\n    }\r\n\r\n    async function restore(){\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false);\r\n        setErrorPI(false)\r\n        console.log(selected.length)\r\n        if(selected.length > 0){\r\n            setLoading(true)\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                const body ={\r\n                    fileName: selected[i],\r\n                    user: currentUser,\r\n                    deleted: 0,\r\n                    onhold: 0\r\n                }\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/restore\", options)\r\n                setTransactionSuccess(true)\r\n            }\r\n            await setUpdateData(!updateData)\r\n            console.log(\"restored\")\r\n            setLoading(false)\r\n            await getProgress()\r\n        }\r\n    }\r\n\r\n    function procOrInst(tab) {\r\n        if(tab === \"Process\" || tab === \"Instrument\"){\r\n            setCurrentTab(tab)\r\n        }else if (currentRole === \"Process\"){\r\n            setCurrentTab(\"Process\")\r\n        }else{\r\n            setCurrentTab(\"Instrument\")\r\n        }\r\n    }\r\n\r\n    async function sendProcessClick(fileName){\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false);\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n            \r\n            const body ={\r\n                user : currentUser,\r\n                file: fileName,\r\n                role: currentRole\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            await fetch(\"http://localhost:5000/process\", options)\r\n        \r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n    }\r\n\r\n    async function sendInstrumentClick(fileName){\r\n        setErrorReports(false)\r\n        setErrorUnclaim(false)\r\n        setTransactionSuccess(false);\r\n        setErrorCL(false)\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n            \r\n            const body ={\r\n                user : currentUser,\r\n                file: fileName,\r\n                role: currentRole\r\n            }\r\n            const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n            await fetch(\"http://localhost:5000/instrument\", options)\r\n        \r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n    }\r\n\r\n    function updateD(){\r\n        setUpdateData(!updateData)\r\n    }\r\n\r\n    async function downloadFiles(){\r\n        setErrorReports(false)\r\n        setErrorCL(false)\r\n        setTransactionSuccess(false);\r\n        setErrorUnclaim(false)\r\n        setLoading(true)\r\n        localStorage.setItem(\"update\", true)\r\n        if(selected.length === 1){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                const options = {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/pdf\"\r\n                    }\r\n                }\r\n                await fetch(\"http://localhost:5000/download/\"+selected[i], options)\r\n                .then(res => res.blob())\r\n                    .then(response =>{\r\n                        console.log(\"Se descarga\")\r\n                        download(new Blob([response]), selected[i], \"application/pdf\")\r\n                    })\r\n            }\r\n        }else if (selected.length > 1){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n\r\n                const options = {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/pdf\"\r\n                    }\r\n                }\r\n                await fetch(\"http://localhost:5000/download/\"+selected[i], options)\r\n                .then(res => res.blob())\r\n                    .then(response =>{\r\n                        setDownloadzip(downloadZip.file(selected[i], new Blob([response]),{binary:true}))   \r\n                    })\r\n            }\r\n            const zipname = String(Date().toLocaleString().replace(/\\s/g, '-').split('-G').slice(0, -1))\r\n            downloadZip.generateAsync({type:\"blob\"}).then(function (blob) { // 1) generate the zip file\r\n                saveAs(blob,  zipname)\r\n            })\r\n            \r\n        }\r\n        await setUpdateData(!updateData)\r\n        await setDownloadzip(new JSZip())   \r\n        setLoading(false)\r\n        /* EN CASO DE QUERER ADJUNTOS\r\n        for (let i = 0; i < selected.length; i++){\r\n            const body ={\r\n                fileName: selected[i]\r\n            }\r\n            const options = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/pdf\"\r\n                }\r\n            }\r\n            \r\n            await fetch(\"http://localhost:5000/getAttach/\"+selected[i], options)\r\n            .then(response => response.json())\r\n            .then(async json => {\r\n                await fetch(\"http://localhost:5000/download/\"+selected[i], options)\r\n                .then(res => res.blob())\r\n                .then( async response =>{\r\n                    setDownloadzip(downloadZip.file(selected[i], new Blob([response]),{binary:true}))   \r\n                    for(let i = 0; i < json.length; i++){\r\n                        await fetch(\"http://localhost:5000/download/\"+json[i], options)\r\n                        .then(res => res.blob())\r\n                        .then(response =>{\r\n                            setDownloadzip(downloadZip.file(json[i], new Blob([response]),{binary:true}))   \r\n                        })\r\n                    }\r\n                     \r\n                })\r\n            })\r\n        \r\n\r\n            \r\n    \r\n        }\r\n        const zipname = String(Date().toLocaleString().replace(/\\s/g, '-').split('-G').slice(0, -1))\r\n        downloadZip.generateAsync({type:\"blob\"}).then(function (blob) { // 1) generate the zip file\r\n            saveAs(blob,  zipname)\r\n        })  \r\n        \r\n        await setDownloadzip(new JSZip())   \r\n        await setAttachFiles(null)\r\n        await setUpdateData(!updateData)\r\n        setLoading(false)\r\n        */ \r\n    }\r\n\r\n    async function downloadHistory(){\r\n        setErrorReports(false)\r\n\r\n        await fetch(\"http://localhost:5000/downloadHistory/\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            const headers = [\"ISO_ID\", \"FROM\", \"TO\", \"DATE\", \"COMMENT\", \"USER\"]\r\n            exportToExcel(JSON.parse(json), \"Comments\", headers)\r\n        })\r\n    }\r\n\r\n    async function downloadStatus(){\r\n        setErrorReports(false)\r\n\r\n        await fetch(\"http://localhost:5000/downloadStatus/\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            const headers = [\"ISO_ID\", \"START_DATE\", \"CURRENT_DATE\", \"CONDITION\"]\r\n            exportToExcel(JSON.parse(json), \"Status\", headers)\r\n        })\r\n    }\r\n\r\n    const exportToExcel = (apiData, fileName, headers) => {\r\n        setErrorReports(false)\r\n        const fileType =\r\n          \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n        const header_cells = ['A1', 'B1', 'C1', 'D1', 'E1', 'F1', 'G1', 'H1', 'I1', 'J1', 'K1', 'L1', 'M1', 'O1']\r\n        const fileExtension = \".xlsx\";\r\n      \r\n          const ws = XLSX.utils.json_to_sheet(apiData);   \r\n          for(let i = 0; i < headers.length; i++){\r\n              ws[header_cells[i]].v = headers[i]\r\n          }\r\n          const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n          const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\r\n          const data = new Blob([excelBuffer], { type: fileType });\r\n          FileSaver.saveAs(data, fileName + fileExtension);\r\n\r\n    }\r\n\r\n    async function setUploading(active){\r\n        setErrorReports(false)\r\n        setLoading(active)\r\n        if(!active){\r\n            setTransactionSuccess(true)\r\n        }\r\n    }\r\n\r\n    async function setErrorReport(){\r\n        setErrorReports(true)\r\n    }\r\n\r\n    async function issue(transmittal, date){\r\n        setErrorReports(false)\r\n        setTransactionSuccess(false);\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setLoading(true)\r\n\r\n        console.log(transmittal)\r\n        \r\n        if (selected.length > 0){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                const body ={\r\n                    user : currentUser,\r\n                    file: selected[i],\r\n                    role: currentRole,\r\n                    transmittal: transmittal,\r\n                    date: date\r\n                }\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/toIssue\", options)\r\n            }\r\n            await setUpdateData(!updateData)\r\n            setLoading(false)\r\n            await getProgress()\r\n        }\r\n    }\r\n\r\n    async function newRev() {\r\n        setErrorReports(false)\r\n        setTransactionSuccess(false);\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setLoading(true)\r\n        if (selected.length > 0){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                const body ={\r\n                    user : currentUser,\r\n                    file: selected[i],\r\n                    role: currentRole,\r\n                }\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/newRev\", options)\r\n            }\r\n            setUpdateData(!updateData)\r\n            setLoading(false)\r\n            await getProgress()\r\n        }\r\n    }\r\n\r\n    async function request() {\r\n        setErrorReports(false)\r\n        setTransactionSuccess(false);\r\n        setErrorCL(false)\r\n        setErrorUnclaim(false)\r\n        setLoading(true)\r\n        if (selected.length > 0){\r\n            localStorage.setItem(\"update\", true)\r\n            for (let i = 0; i < selected.length; i++){\r\n                const body ={\r\n                    user : currentUser,\r\n                    file: selected[i],\r\n                    role: currentRole,\r\n                }\r\n                const options = {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                }\r\n                await fetch(\"http://localhost:5000/request\", options)\r\n                \r\n            }\r\n            setUpdateData(!updateData)\r\n            setLoading(false)\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    if(currentTab === \"Upload IsoFiles\"){\r\n        secureStorage.setItem(\"tab\", \"Upload IsoFiles\")\r\n        uploadButton = <button  type=\"button\" class=\"btn btn-info btn-lg\" style={{backgroundColor: \"#17a2b8\", width:\"180px\"}}><b>Upload</b></button>\r\n        tableContent = <DragAndDrop mode={\"upload\"} user={currentUser} uploaded={getProgress.bind(this)}/>\r\n        pageSelector = null\r\n    }if(currentTab === \"Design\" && currentRole === \"Design\"){\r\n        uploadButton = <button  type=\"button\" className=\"btn btn-info btn-lg\" style={{backgroundColor: \"lightblue\", width:\"180px\"}} onClick={() => setCurrentTab(\"Upload IsoFiles\")}><b>Upload</b></button>\r\n    }if(currentTab === \"LDE/IsoControl\"){\r\n        actionExtra = <ActionExtra/>\r\n    }if(currentTab === \"CheckBy\"){\r\n        tableContent = <CheckInTable/>\r\n    }if(currentTab === \"My Tray\"){\r\n        tableContent = <MyTrayTable  onChange={value=> setSelected(value)} cancelVerifyClick={cancelVerifyClick.bind(this)} sendProcessClick={sendProcessClick.bind(this)} sendInstrumentClick = {sendInstrumentClick.bind(this)} updateD = {updateD.bind(this)} pagination = {pagination} currentRole = {currentRole} currentUser = {currentUser} selected={selected} updateData = {updateData}/>\r\n    }if(currentTab === \"Recycle bin\"){\r\n        tableContent = <BinTable onChange={value=> setSelected(value)} selected = {selected} pagination = {pagination} currentTab = {currentTab} updateData = {updateData}/>\r\n    }if(currentTab === \"On hold\"){\r\n        tableContent = <OnHoldTable onChange={value=> setSelected(value)} selected = {selected} pagination = {pagination} currentTab = {currentTab} updateData = {updateData}/>\r\n    }if(currentTab === \"Status\"){\r\n        tableContent = <StatusDataTable pagination = {pagination} role = {currentRole}/>\r\n    }if(currentTab === \"History\"){\r\n        tableContent = <HistoryDataTable pagination = {pagination}/>   \r\n    }if(currentRole === \"Process\" || currentRole === \"Instrument\" || currentRole === \"SpecialityLead\"){\r\n        procInsBtn = <ProcInsBtn onChange={value => procOrInst(value)} currentTab = {currentTab} />\r\n    }if(currentTab === \"Process\" || currentTab === \"Instrument\"){\r\n        tableContent = <ProcInstTable onChange={value=> setSelected(value)} selected = {selected} pagination = {pagination} currentTab = {currentTab} updateData = {updateData} />\r\n    }if(currentTab === \"Reports\"){\r\n        tableContent = <ReportBoxBtns downloadHistory={downloadHistory.bind(this)} downloadStatus={downloadStatus.bind(this)} setErrorReport={setErrorReport.bind(this)} setUploading={setUploading.bind(this)}/>\r\n    }\r\n\r\n    if(currentTab === \"My Tray\" || currentTab === \"LDE/IsoControl\"){\r\n        commentBox = <div>\r\n            <textarea placeholder=\"Comments\" class=\"comments\" cols=\"100\" rows=\"2\" required=\"\" maxlength=\"400\" name=\"comments\" value={comment} onChange={handleComment}></textarea>\r\n        </div>\r\n    }\r\n\r\n    if(process.env.REACT_APP_PROGRESS === \"1\"){\r\n        progTable = <ProgressTable role = {currentRole} updateData = {updateData} progress={progress} realProgress={realProgress} progressISO={progressISO} realProgressISO={realProgressISO}/>\r\n    }\r\n\r\n    if(((currentRole === \"Design\" || currentRole === \"DesignLead\") && currentTab === \"Design\") || \r\n    ((currentRole === \"Stress\" || currentRole === \"StressLead\") && currentTab === \"Stress\") ||\r\n    ((currentRole === \"Supports\" || currentRole === \"SupportsLead\") && currentTab === \"Supports\") ||\r\n    ((currentRole === \"Materials\") && currentTab === \"Materials\") ||\r\n    ((currentRole === \"Issuer\") && currentTab === \"Issuer\") ||\r\n    ((currentRole === \"SpecialityLead\" || currentTab ===\"SpecialityLead\") ||\r\n    (currentTab=== \"My Tray\")) || (((currentTab === \"Recycle bin\" || currentTab === \"On hold\") && currentRole === \"DesignLead\") || \r\n    currentRole === \"SpecialityLead\") || (currentTab === \"Process\" && currentRole === \"Process\") ||\r\n    (currentRole === \"Instrument\" && currentTab === \"Instrument\") ||\r\n    (currentRole === \"Design\" || currentRole === \"DesignLead\") && currentTab === \"Issued\"){\r\n        actionText = <b className=\"progress__text\">Click an action for selected IsoFiles:</b>\r\n        actionButtons = <ActionButtons claimClick={claim.bind(this)} verifyClick={verifyClick.bind(this)} unclaimClick={unclaim.bind(this)} transaction={transaction.bind(this)} restoreClick={restore.bind(this)} returnLead={returnLead.bind(this)} downloadFiles={downloadFiles.bind(this)} forceClaim={forceClaim.bind(this)} issue={issue.bind(this)} newRev={newRev.bind(this)} request={request.bind(this)} onlyDownload = {false} currentTab = {currentTab} user={currentUser} role = {currentRole}/>\r\n    }else if(currentTab !== \"History\" && currentTab !== \"Upload IsoFiles\" && currentTab !== \"Recycle bin\" && currentTab !== \"Reports\"){\r\n        actionText = <b className=\"progress__text\">Click an action for selected IsoFiles:</b>\r\n        actionButtons = <ActionButtons claimClick={claim.bind(this)} verifyClick={verifyClick.bind(this)} unclaimClick={unclaim.bind(this)} transaction={transaction.bind(this)} restoreClick={restore.bind(this)} returnLead={returnLead.bind(this)} downloadFiles={downloadFiles.bind(this)} forceClaim={forceClaim.bind(this)} issue={issue.bind(this)} newRev={newRev.bind(this)} request={request.bind(this)} onlyDownload = {true} currentTab = {currentTab} user={currentUser} role = {currentRole}/>\r\n    }\r\n    if(currentTab === \"LDE/IsoControl\" || currentTab === \"Issued\"){\r\n        issuedBtn = <IssuedBtn onChange={value => setCurrentTab(\"Issued\")} currentTab = {currentTab}/>\r\n    }\r\n\r\n    //El usuario admin ve mas parte de la tabla de progreso\r\n    if (user === \"admin\"){\r\n        progressTableWidth = \"35%\";\r\n    }else{\r\n        progressTableWidth = \"15%\";\r\n    }\r\n    \r\n    return (\r\n        \r\n        <body>\r\n            <NavBar onChange={value => setCurrentTab(value)}/>\r\n\r\n            <div className=\"isoCtrl__container\">     \r\n                <center>\r\n                    <Collapse in={loading}>\r\n                        <Alert style={{position: \"fixed\", left: \"47%\", zIndex:\"3\"}} severity=\"info\"\r\n                            >\r\n                            Processing...\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <Collapse in={errorPI}>\r\n                        <Alert style={{position: \"fixed\", left: \"37%\", zIndex:\"3\"}} severity=\"error\"\r\n                            >\r\n                            At least one isometric was on revision and wasn't sent to LDE/Isocontrol\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <Collapse in={transactionSuccess}>\r\n                        <Alert style={{position: \"fixed\", left: \"47%\", zIndex:\"3\"}} severity=\"success\"\r\n                            >\r\n                            Successful!\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <Collapse in={errorUnclaim}>\r\n                        <Alert style={{position: \"fixed\", left: \"44%\", zIndex:\"3\"}} severity=\"error\"\r\n                            >\r\n                            Can't unclaim an iso assigned by LOS!\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <Collapse in={errorReports}>\r\n                        <Alert style={{position: \"fixed\", left: \"45%\", zIndex:\"3\"}} severity=\"error\"\r\n                            >\r\n                            Missing columns!\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <Collapse in={errorCL}>\r\n                        <Alert style={{position: \"fixed\", left: \"46%\", zIndex:\"3\"}} severity=\"error\"\r\n                            >\r\n                            Missing clean!\r\n                        </Alert>\r\n                    </Collapse>\r\n                    <h2 className=\"title__container\">\r\n                        <div className=\"roleSelector__container\">\r\n                            <RoleDropDown style={{paddingLeft: \"2px\"}} onChange={value => setCurrentRole(value)} roles = {roles}/>\r\n                         </div>\r\n                        <b >      \r\n                            <i className=\"iso__title\">IsoTracker</i>\r\n                        </b>\r\n                    </h2>\r\n                    <h3 className=\"iso__subtitle\">{currentTabText}</h3>\r\n                </center>\r\n                \r\n                <table style={{width: \"100%\"}}>\r\n                    <tbody>\r\n                        <tr>\r\n                        <MyTrayBtn onChange={value => setCurrentTab(value)} currentTab = {currentTab}/>\r\n                            <td className=\"reportBtns__container\" style={{width:\"380px\"}}>\r\n                                \r\n                                <ReportBtns onChange={value => setCurrentTab(value)} currentTab = {currentTab}/>\r\n                                \r\n                            </td>\r\n                            <td>\r\n                                {uploadButton}\r\n                            </td>   \r\n                                           \r\n                            <td style={{width: \"750px\",position:\"inline-block\", right: \"0\"}}>\r\n                                {progTable}\r\n                            </td>    \r\n                            \r\n                        </tr>\r\n                    </tbody>\r\n                </table>              \r\n                \r\n                <div className=\"stateTable__container\">\r\n                    <td style={{width: \"75 %\"}}>\r\n                        <StateTable/>\r\n                    </td>\r\n                </div>\r\n                <div style={{position: \"relative\", width:\"500px\"}}>\r\n                  {pageSelector}\r\n                  <BinBtn onChange={value => setCurrentTab(\"Recycle bin\")} currentTab = {currentTab}/>\r\n                  <OnHoldBtn onChange={value => setCurrentTab(\"On hold\")} currentTab = {currentTab}/>\r\n                  <ReportsBtn onChange={value => setCurrentTab(\"Reports\")} currentTab = {currentTab}/>\r\n                  {procInsBtn}\r\n                  {issuedBtn}\r\n\r\n                </div>\r\n                    \r\n                \r\n                <div style={{height: dataTableHeight}}>\r\n                    <br></br>\r\n                    <br></br> \r\n                    {tableContent}\r\n                </div>\r\n                <div className=\"bottom__container\">\r\n                    <Collapse in={commentAlert}>\r\n                        <Alert severity=\"error\"\r\n                            >\r\n                            Add a comment before sending the isos back to design!\r\n\r\n                            </Alert>\r\n                    </Collapse>\r\n                    <center className=\"actionBtns__container\">\r\n                        {actionText}\r\n                        {actionButtons}\r\n                    </center>\r\n                    <br></br>\r\n                    <center className=\"commentBox__container\">\r\n                        {commentBox}\r\n                    </center>\r\n                 \r\n                    \r\n                </div>\r\n            </div>\r\n            <center className=\"navBtns__center\">              \r\n                <NavBtns onChange={value => setCurrentTab(value)} currentTab = {currentTab} currentRole = {currentRole}/>               \r\n            </center>\r\n            <br></br>\r\n        </body>\r\n\r\n        \r\n    );\r\n};\r\n\r\nexport default IsoCtrl;\r\n"]},"metadata":{},"sourceType":"module"}