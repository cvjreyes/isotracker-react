{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Cabecera de IsoTracker con diferentes desplegables y botones\nimport React,{useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import TechnipLogo from\"../../assets/images/tpenr_logo.svg\";import Icapp from\"../../assets/images/icapp.png\";import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import'./navBar.css';import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CryptoJS=require(\"crypto-js\");var SecureStorage=require(\"secure-web-storage\");var SECRET_KEY='sanud2ha8shd72h';var secureStorage=new SecureStorage(localStorage,{hash:function hash(key){key=CryptoJS.SHA256(key,SECRET_KEY);return key.toString();},encrypt:function encrypt(data){data=CryptoJS.AES.encrypt(data,SECRET_KEY);data=data.toString();return data;},decrypt:function decrypt(data){data=CryptoJS.AES.decrypt(data,SECRET_KEY);data=data.toString(CryptoJS.enc.Utf8);return data;}});var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},title:{flexGrow:1}};});var NavBar=function NavBar(props){var classes=useStyles();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorElUser=_React$useState2[0],setAnchorElUser=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorElIso=_React$useState4[0],setAnchorElIso=_React$useState4[1];var history=useHistory();var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),username=_React$useState6[0],setUsername=_React$useState6[1];var handleClickUser=function handleClickUser(event){setAnchorElUser(event.currentTarget);};var handleCloseUser=function handleCloseUser(){setAnchorElUser(null);};var handleClickIso=function handleClickIso(event){setAnchorElIso(event.currentTarget);};var handleCloseIso=function handleCloseIso(selectedTab){setAnchorElIso(null);props.onChange(selectedTab);};var handleLogOut=function handleLogOut(){localStorage.clear();history.replace(\"/welcome\");};var handleHome=function handleHome(){setAnchorElUser(null);setAnchorElIso(null);history.replace(\"/home\");};useEffect(function(){var bodyUsername={email:secureStorage.getItem(\"user\")};var optionsUsername={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(bodyUsername)};fetch(\"http://localhost:5000/api/findByEmail\",optionsUsername).then(function(response){return response.json();}).then(function(json){setUsername(json.name);});});return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",className:\"navBar__container\",style:{borderBottomColor:\"rgb(211, 224, 233)\",borderLeftColor:\"rgb(211, 224, 233)\",bordeRightColor:\"rgb(211, 224, 233)\",borderTopColor:\"rgb(211, 224, 233)\",backgroundColor:\"white\"},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",style:{float:\"left\",paddingLeft:\"20px\"},href:\"/home\",children:/*#__PURE__*/_jsx(\"img\",{src:TechnipLogo,alt:\"technipLogo\",style:{height:\"50px\"}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.title}),/*#__PURE__*/_jsxs(Button,{onClick:handleClickIso,style:{marginRight:\"25px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:\"IsoTracker \"}),\"\\xA0\",/*#__PURE__*/_jsx(\"b\",{className:\"dropdown__arrow\",children:\"\\u25BC\"})]}),/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu-iso\",anchorEl:anchorElIso,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"},open:Boolean(anchorElIso),onClose:function onClose(event){return setAnchorElIso(null);},children:[/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Status\");},children:\"Status\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"History\");},children:\"History\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Design\");},children:\"Design\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Stress\");},children:\"Stress\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Support\");},children:\"Support\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Materials\");},children:\"Materials\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"Issuer\");},children:\"Issuer\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:function onClick(event){return handleCloseIso(\"LDE/IsoControl\");},children:\"Controls\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\",fontWeight:\"bold\"},onClick:function onClick(event){return handleCloseIso(\"CheckBy\");},children:\"CHECK BY_\"})]}),/*#__PURE__*/_jsx(\"li\",{className:\"icapp__button\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"icapp__text\",children:\"ICApp\"})})}),/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:Icapp,className:\"icapp__image\",alt:\"icappImage\"})}),/*#__PURE__*/_jsxs(Button,{\"aria-controls\":\"simple-menu\",\"aria-haspopup\":\"true\",onClick:handleClickUser,children:[/*#__PURE__*/_jsx(\"i\",{className:\"dropdown__text\",children:username}),\"\\xA0\",/*#__PURE__*/_jsx(\"b\",{className:\"dropdown__arrow\",children:\"\\u25BC\"})]}),/*#__PURE__*/_jsxs(Menu,{id:\"simple-menu\",anchorEl:anchorElUser,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"},open:Boolean(anchorElUser),onClose:handleCloseUser,children:[/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:handleHome,children:\"Home\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:handleCloseUser,children:\"Change password\"}),/*#__PURE__*/_jsx(MenuItem,{style:{fontFamily:\"Quicksand\",fontSize:\"13.33px\"},onClick:handleLogOut,children:/*#__PURE__*/_jsx(\"b\",{children:\"Logout\"})})]})]})})});};export default NavBar;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/navBar/navBar.js"],"names":["React","useEffect","makeStyles","AppBar","Toolbar","Typography","Button","Icapp","Menu","MenuItem","useHistory","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","props","classes","useState","anchorElUser","setAnchorElUser","anchorElIso","setAnchorElIso","history","username","setUsername","handleClickUser","event","currentTarget","handleCloseUser","handleClickIso","handleCloseIso","selectedTab","onChange","handleLogOut","clear","replace","handleHome","bodyUsername","email","getItem","optionsUsername","method","headers","body","JSON","stringify","fetch","then","response","json","name","borderBottomColor","borderLeftColor","bordeRightColor","borderTopColor","backgroundColor","float","paddingLeft","TechnipLogo","height","vertical","horizontal","Boolean","fontFamily","fontSize","fontWeight"],"mappings":"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","sourcesContent":["//Cabecera de IsoTracker con diferentes desplegables y botones\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TechnipLogo from \"../../assets/images/tpenr_logo.svg\"\r\nimport Icapp from \"../../assets/images/icapp.png\"\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport './navBar.css';\r\nimport {useHistory} from \"react-router\";\r\n\r\nconst CryptoJS = require(\"crypto-js\");\r\nconst SecureStorage = require(\"secure-web-storage\");\r\nvar SECRET_KEY = 'sanud2ha8shd72h';\r\n\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n\r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n\r\n        data = data.toString();\r\n\r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n\r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n\r\n        return data;\r\n    }\r\n});\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n  }));\r\n\r\nconst NavBar = (props) =>{\r\n    const classes = useStyles();\r\n    const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n    const [anchorElIso, setAnchorElIso] = React.useState(null);\r\n    const history = useHistory();\r\n    const[username, setUsername] = React.useState(\"\");\r\n\r\n    const handleClickUser = (event) => {\r\n        setAnchorElUser(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseUser = () => {\r\n        setAnchorElUser(null);\r\n    };\r\n\r\n    const handleClickIso = (event) => {\r\n        setAnchorElIso(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseIso = (selectedTab) => {\r\n        setAnchorElIso(null);\r\n        props.onChange(selectedTab);\r\n    };\r\n    const handleLogOut = () => {\r\n        localStorage.clear();\r\n        history.replace(\"/welcome\");\r\n    };\r\n    const handleHome = () =>{\r\n        setAnchorElUser(null);\r\n        setAnchorElIso(null);\r\n        history.replace(\"/home\");\r\n    }\r\n    useEffect(() =>{\r\n        const bodyUsername = {\r\n            email: secureStorage.getItem(\"user\")\r\n          }\r\n        const optionsUsername = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(bodyUsername)\r\n        }\r\n        fetch(\"http://localhost:5000/api/findByEmail\", optionsUsername)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            setUsername(json.name);\r\n        })\r\n    })\r\n    return(\r\n        <div className={classes.root}>\r\n            <AppBar position=\"fixed\" className=\"navBar__container\" style={{borderBottomColor: \"rgb(211, 224, 233)\", borderLeftColor: \"rgb(211, 224, 233)\", bordeRightColor: \"rgb(211, 224, 233)\", borderTopColor: \"rgb(211, 224, 233)\", backgroundColor: \"white\"}}>\r\n                <Toolbar>\r\n                    <a className=\"navbar-brand\" style={{float:\"left\", paddingLeft: \"20px\"}} href=\"/home\">\r\n                        <img src={TechnipLogo} alt=\"technipLogo\" style={{height:\"50px\"}}/>\r\n                    </a>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                    \r\n                    </Typography>\r\n                    <Button onClick={handleClickIso} style={{marginRight:\"25px\"}}>\r\n                        <i className=\"dropdown__text\">IsoTracker </i>&nbsp;<b className=\"dropdown__arrow\">▼</b>\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"simple-menu-iso\"\r\n                        anchorEl={anchorElIso}\r\n                        getContentAnchorEl={null}\r\n                        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n                        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                        open={Boolean(anchorElIso)}\r\n                        onClose={(event) => setAnchorElIso(null)}\r\n                    >\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Status\")}>Status</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"History\")}>History</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Design\")}>Design</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Stress\")}>Stress</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Support\")}>Support</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Materials\")}>Materials</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"Issuer\")}>Issuer</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={(event) => handleCloseIso(\"LDE/IsoControl\")}>Controls</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\", fontWeight:\"bold\"}} onClick={(event) => handleCloseIso(\"CheckBy\")}>CHECK BY_</MenuItem>\r\n                    </Menu>\r\n                    <li className=\"icapp__button\"><a href=\"/\"><strong className=\"icapp__text\">ICApp</strong></a></li>\r\n                    <a className=\"navbar-brand\" href=\"/\">\r\n                        <img src={Icapp} className=\"icapp__image\" alt=\"icappImage\"/>\r\n                    </a>\r\n                    \r\n                    <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickUser}>\r\n                    <i className=\"dropdown__text\">{username}</i>&nbsp;<b className=\"dropdown__arrow\">▼</b>\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={anchorElUser}\r\n                        getContentAnchorEl={null}\r\n                        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n                        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                        open={Boolean(anchorElUser)}\r\n                        onClose={handleCloseUser}\r\n                    >\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={handleHome}>Home</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={handleCloseUser}>Change password</MenuItem>\r\n                    <MenuItem style={{fontFamily:\"Quicksand\", fontSize:\"13.33px\"}} onClick={handleLogOut}><b>Logout</b></MenuItem>\r\n                    </Menu>\r\n \r\n                    \r\n\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}