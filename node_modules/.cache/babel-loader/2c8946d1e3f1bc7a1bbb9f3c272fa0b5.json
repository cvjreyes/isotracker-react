{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\isotracker-dev\\\\isotracker-react\\\\src\\\\components\\\\qtrackerNWCPopUp\\\\qtrackerNWCPopUp.js\";\nimport React, { Component } from 'react';\nimport Modal from 'react-awesome-modal';\nimport SupervisorAccountIcon from '@mui/icons-material/SupervisorAccount';\nimport TreeView from '@mui/lab/TreeView';\nimport TreeItem, { treeItemClasses } from '@mui/lab/TreeItem';\nimport PropTypes from 'prop-types';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport './qtrackerNWCPopUp.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CryptoJS = require(\"crypto-js\");\n\nconst SecureStorage = require(\"secure-web-storage\");\n\nvar SECRET_KEY = 'sanud2ha8shd72h';\nvar secureStorage = new SecureStorage(localStorage, {\n  hash: function hash(key) {\n    key = CryptoJS.SHA256(key, SECRET_KEY);\n    return key.toString();\n  },\n  encrypt: function encrypt(data) {\n    data = CryptoJS.AES.encrypt(data, SECRET_KEY);\n    data = data.toString();\n    return data;\n  },\n  decrypt: function decrypt(data) {\n    data = CryptoJS.AES.decrypt(data, SECRET_KEY);\n    data = data.toString(CryptoJS.enc.Utf8);\n    return data;\n  }\n});\nconst StyledTreeItemRoot = styled(TreeItem)(({\n  theme\n}) => ({\n  color: theme.palette.text.secondary,\n  [`& .${treeItemClasses.content}`]: {\n    color: theme.palette.text.secondary,\n    borderTopRightRadius: theme.spacing(2),\n    borderBottomRightRadius: theme.spacing(2),\n    paddingRight: theme.spacing(1),\n    fontWeight: theme.typography.fontWeightMedium,\n    '&.Mui-expanded': {\n      fontWeight: theme.typography.fontWeightRegular\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover\n    },\n    '&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused': {\n      backgroundColor: `var(--tree-view-bg-color, ${theme.palette.action.selected})`,\n      color: 'var(--tree-view-color)'\n    },\n    [`& .${treeItemClasses.label}`]: {\n      fontWeight: 'inherit',\n      color: 'inherit'\n    }\n  },\n  [`& .${treeItemClasses.group}`]: {\n    marginLeft: 0,\n    [`& .${treeItemClasses.content}`]: {\n      paddingLeft: theme.spacing(2)\n    }\n  }\n}));\n\nfunction StyledTreeItem(props) {\n  const {\n    bgColor,\n    color,\n    labelIcon: LabelIcon,\n    labelInfo,\n    labelText,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(StyledTreeItemRoot, {\n    label: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        p: 0.5,\n        pr: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: LabelIcon,\n        color: \"inherit\",\n        sx: {\n          mr: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          fontWeight: 'inherit',\n          flexGrow: 1\n        },\n        children: labelText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        children: labelInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }, this),\n    style: {\n      '--tree-view-color': color,\n      '--tree-view-bg-color': bgColor\n    },\n    ...other\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 11\n  }, this);\n}\n\n_c = StyledTreeItem;\nStyledTreeItem.propTypes = {\n  bgColor: PropTypes.string,\n  color: PropTypes.string,\n  labelIcon: PropTypes.elementType.isRequired,\n  labelInfo: PropTypes.string,\n  labelText: PropTypes.string.isRequired\n};\nexport default class QtrackerNWCPopUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false,\n      spref: null,\n      pid: null,\n      attach: null,\n      pidlist: null,\n      descriptionArray: null\n    };\n  }\n\n  async componentDidMount() {\n    const options = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/description\", options).then(response => response.json()).then(async json => {\n      let description = [];\n      let descriptionArray = [];\n\n      for (let i = 0; i < json.rows.length; i++) {\n        description.push( /*#__PURE__*/_jsxDEV(\"option\", {\n          value: json.rows[i].pid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 34\n        }, this));\n        descriptionArray.push(json.rows[i].pid);\n      }\n\n      await this.setState({\n        pidlist: description\n      });\n      await this.setState({\n        descriptionArray: descriptionArray\n      });\n    });\n  }\n\n  async openModal() {\n    await this.setState({\n      visible: true,\n      spref: null,\n      pid: null,\n      attach: null\n    });\n  }\n\n  async closeModal() {\n    await this.setState({\n      visible: false,\n      spref: null,\n      pid: null,\n      attach: null\n    });\n    this.refs.spref.value = null;\n    this.refs.description.value = null;\n    this.refs.attach.value = null;\n  }\n\n  async request() {\n    if (this.state.spref && this.state.pid && this.state.attach && this.state.descriptionArray.indexOf(this.state.pid) > -1) {\n      const body = {\n        spref: this.state.spref,\n        pid: this.state.pid,\n        attach: this.state.attach,\n        user: secureStorage.getItem(\"user\")\n      };\n      const options = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      };\n      await fetch(\"http://\" + process.env.REACT_APP_SERVER + \":\" + process.env.REACT_APP_NODE_PORT + \"/requestSP\", options).then(response => response.json()).then(json => {\n        if (json.success) {\n          this.props.successRequest();\n        } else {\n          this.props.existsErrorRequest();\n        }\n      });\n      this.closeModal();\n    } else if (this.state.descriptionArray.indexOf(this.state.pid) < 0) {\n      this.props.errorPidRequest();\n    } else {\n      this.props.errorBlankRequest();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(StyledTreeItem, {\n        nodeId: \"8\",\n        labelText: \"NotWorkingComponent\",\n        labelIcon: SupervisorAccountIcon,\n        onClick: () => this.openModal()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Modal, {\n          visible: this.state.visible,\n          width: \"700\",\n          height: \"500\",\n          effect: \"fadeInUp\",\n          onClickAway: () => this.closeModal(),\n          children: [/*#__PURE__*/_jsxDEV(\"center\", {\n            className: \"qtracker_popUp__title\",\n            style: {\n              marginBottom: \"30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Request SP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 98\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"qtrackerRequest__container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"SPREF\",\n              id: \"spref\",\n              className: \"qtrackerPopUp__input__text\",\n              ref: \"spref\",\n              style: {\n                marginBottom: \"20px\",\n                color: 'black'\n              },\n              value: this.state.spref,\n              onChange: e => this.setState({\n                spref: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              className: \"qtrackerPopUp__input__text\",\n              rows: \"5\",\n              placeholder: \"Description\",\n              ref: \"description\",\n              style: {\n                marginBottom: \"20px\",\n                color: \"black\"\n              },\n              onChange: e => this.setState({\n                description: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"attach\",\n              className: \"qtrackerPopUp__input__text\",\n              ref: \"attach\",\n              style: {\n                marginBottom: \"30px\"\n              },\n              value: this.state.attach,\n              onChange: e => this.setState({\n                attach: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-sm btn-success\",\n              onClick: () => this.request(),\n              style: {\n                marginRight: \"5px\",\n                fontSize: \"16px\"\n              },\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-sm btn-danger\",\n              onClick: () => this.closeModal(),\n              style: {\n                marginLeft: \"5px\",\n                fontSize: \"16px\"\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"StyledTreeItem\");","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/src/components/qtrackerNWCPopUp/qtrackerNWCPopUp.js"],"names":["React","Component","Modal","SupervisorAccountIcon","TreeView","TreeItem","treeItemClasses","PropTypes","styled","Box","Typography","CryptoJS","require","SecureStorage","SECRET_KEY","secureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","StyledTreeItemRoot","theme","color","palette","text","secondary","content","borderTopRightRadius","spacing","borderBottomRightRadius","paddingRight","fontWeight","typography","fontWeightMedium","fontWeightRegular","backgroundColor","action","hover","selected","label","group","marginLeft","paddingLeft","StyledTreeItem","props","bgColor","labelIcon","LabelIcon","labelInfo","labelText","other","display","alignItems","p","pr","mr","flexGrow","propTypes","string","elementType","isRequired","QtrackerNWCPopUp","constructor","state","visible","spref","pid","attach","pidlist","descriptionArray","componentDidMount","options","method","headers","fetch","process","env","REACT_APP_SERVER","REACT_APP_NODE_PORT","then","response","json","description","i","rows","length","push","setState","openModal","closeModal","refs","value","request","indexOf","body","user","getItem","JSON","stringify","success","successRequest","existsErrorRequest","errorPidRequest","errorBlankRequest","render","marginBottom","e","target","marginRight","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Modal from 'react-awesome-modal';\r\nimport SupervisorAccountIcon from '@mui/icons-material/SupervisorAccount';\r\nimport TreeView from '@mui/lab/TreeView';\r\nimport TreeItem, { treeItemClasses } from '@mui/lab/TreeItem';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport './qtrackerNWCPopUp.css'\r\n\r\nconst CryptoJS = require(\"crypto-js\");\r\n    const SecureStorage = require(\"secure-web-storage\");\r\n    var SECRET_KEY = 'sanud2ha8shd72h';\r\n\r\n    var secureStorage = new SecureStorage(localStorage, {\r\n        hash: function hash(key) {\r\n            key = CryptoJS.SHA256(key, SECRET_KEY);\r\n    \r\n            return key.toString();\r\n        },\r\n        encrypt: function encrypt(data) {\r\n            data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString();\r\n    \r\n            return data;\r\n        },\r\n        decrypt: function decrypt(data) {\r\n            data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n    \r\n            data = data.toString(CryptoJS.enc.Utf8);\r\n    \r\n            return data;\r\n        }\r\n    });\r\n\r\n    const StyledTreeItemRoot = styled(TreeItem)(({ theme }) => ({\r\n        color: theme.palette.text.secondary,\r\n        [`& .${treeItemClasses.content}`]: {\r\n          color: theme.palette.text.secondary,\r\n          borderTopRightRadius: theme.spacing(2),\r\n          borderBottomRightRadius: theme.spacing(2),\r\n          paddingRight: theme.spacing(1),\r\n          fontWeight: theme.typography.fontWeightMedium,\r\n          '&.Mui-expanded': {\r\n            fontWeight: theme.typography.fontWeightRegular,\r\n          },\r\n          '&:hover': {\r\n            backgroundColor: theme.palette.action.hover,\r\n          },\r\n          '&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused': {\r\n            backgroundColor: `var(--tree-view-bg-color, ${theme.palette.action.selected})`,\r\n            color: 'var(--tree-view-color)',\r\n          },\r\n          [`& .${treeItemClasses.label}`]: {\r\n            fontWeight: 'inherit',\r\n            color: 'inherit',\r\n          },\r\n        },\r\n        [`& .${treeItemClasses.group}`]: {\r\n          marginLeft: 0,\r\n          [`& .${treeItemClasses.content}`]: {\r\n            paddingLeft: theme.spacing(2),\r\n          },\r\n        },\r\n      }));\r\n      \r\n      function StyledTreeItem(props) {\r\n        const {\r\n          bgColor,\r\n          color,\r\n          labelIcon: LabelIcon,\r\n          labelInfo,\r\n          labelText,\r\n          ...other\r\n        } = props;\r\n      \r\n        return (\r\n          <StyledTreeItemRoot\r\n            label={\r\n              <Box sx={{ display: 'flex', alignItems: 'center', p: 0.5, pr: 0}}>\r\n                <Box component={LabelIcon} color=\"inherit\" sx={{ mr: 1 }} />\r\n                <Typography variant=\"h5\" sx={{ fontWeight: 'inherit', flexGrow: 1 }}>\r\n                  {labelText}\r\n                </Typography>\r\n                <Typography variant=\"caption\">\r\n                  {labelInfo}\r\n                </Typography>\r\n              </Box>\r\n            }\r\n            style={{\r\n              '--tree-view-color': color,\r\n              '--tree-view-bg-color': bgColor,\r\n            }}\r\n            {...other}\r\n          />\r\n        );\r\n      }\r\n      \r\n      StyledTreeItem.propTypes = {\r\n        bgColor: PropTypes.string,\r\n        color: PropTypes.string,\r\n        labelIcon: PropTypes.elementType.isRequired,\r\n        labelInfo: PropTypes.string,\r\n        labelText: PropTypes.string.isRequired,\r\n      };\r\n\r\nexport default class QtrackerNWCPopUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible : false,\r\n            spref: null,\r\n            pid: null,\r\n            attach: null,\r\n            pidlist: null,\r\n            descriptionArray: null\r\n        }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n        }\r\n        await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/description\", options)\r\n        .then(response => response.json())\r\n        .then(async json => {\r\n            let description = []\r\n            let descriptionArray = []\r\n            for(let i = 0; i < json.rows.length; i++){\r\n                description.push(<option value={json.rows[i].pid}/>)\r\n                descriptionArray.push(json.rows[i].pid)\r\n            }\r\n            await this.setState({pidlist: description})\r\n            await this.setState({descriptionArray: descriptionArray})\r\n        }) \r\n    \r\n    }\r\n\r\n    async openModal() {\r\n        await this.setState({\r\n            visible : true,\r\n            spref: null,\r\n            pid: null,\r\n            attach: null\r\n        });\r\n    }\r\n\r\n    async closeModal() {\r\n        await this.setState({\r\n            visible : false,\r\n            spref: null,\r\n            pid: null,\r\n            attach: null\r\n        });\r\n\r\n        this.refs.spref.value = null;\r\n        this.refs.description.value = null;\r\n        this.refs.attach.value = null;\r\n\r\n    }\r\n\r\n    async request(){\r\n        \r\n        if(this.state.spref && this.state.pid && this.state.attach && this.state.descriptionArray.indexOf(this.state.pid) > -1){\r\n            const body ={\r\n                spref : this.state.spref,\r\n                pid: this.state.pid,\r\n                attach: this.state.attach,\r\n                user: secureStorage.getItem(\"user\")\r\n              }\r\n              const options = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(body)\r\n            }\r\n              await fetch(\"http://\"+process.env.REACT_APP_SERVER+\":\"+process.env.REACT_APP_NODE_PORT+\"/requestSP\", options)\r\n                  .then(response => response.json())\r\n                  .then(json => {\r\n                      if(json.success){\r\n                          this.props.successRequest()\r\n                      }else{\r\n                          this.props.existsErrorRequest()\r\n                      }\r\n                  })\r\n                  this.closeModal()\r\n        }else if(this.state.descriptionArray.indexOf(this.state.pid) < 0){\r\n            this.props.errorPidRequest()\r\n        }else{\r\n            this.props.errorBlankRequest()\r\n        }\r\n        \r\n    }    \r\n\r\n    \r\n\r\n    render() {       \r\n        \r\n\r\n        return (\r\n            <div>\r\n                    <StyledTreeItem\r\n                    nodeId=\"8\"\r\n                    labelText=\"NotWorkingComponent\"\r\n                    labelIcon={SupervisorAccountIcon}\r\n                    onClick={() => this.openModal()}\r\n                    />                \r\n                    <div>\r\n                    <Modal visible={this.state.visible} width=\"700\" height=\"500\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\r\n                        <center className=\"qtracker_popUp__title\" style={{marginBottom: \"30px\"}}><h3>Request SP</h3></center>\r\n                        <div className=\"qtrackerRequest__container\">\r\n                            <input type=\"text\" placeholder=\"SPREF\" id=\"spref\" className=\"qtrackerPopUp__input__text\" ref=\"spref\" style={{marginBottom: \"20px\", color:'black'}} value={this.state.spref} onChange={(e) => this.setState({spref: e.target.value})} ></input>\r\n\r\n                            <textarea name=\"description\" className=\"qtrackerPopUp__input__text\" rows=\"5\" placeholder=\"Description\" ref=\"description\" style={{marginBottom:\"20px\", color:\"black\"}} onChange={(e) => this.setState({description: e.target.value})}/>\r\n                            \r\n\r\n                            <input type=\"file\" id=\"attach\"className=\"qtrackerPopUp__input__text\"  ref=\"attach\" style={{marginBottom: \"30px\"}} value={this.state.attach} onChange={(e) => this.setState({attach: e.target.value})} ></input>\r\n                            <button class=\"btn btn-sm btn-success\" onClick={() => this.request()} style={{marginRight:\"5px\", fontSize:\"16px\"}}>Submit</button>\r\n                            <button class=\"btn btn-sm btn-danger\" onClick={() => this.closeModal()} style={{marginLeft:\"5px\", fontSize:\"16px\"}}>Cancel</button>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}