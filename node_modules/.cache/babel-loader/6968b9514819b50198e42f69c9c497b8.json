{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nimport { fastInnerHTML } from \"../../../helpers/dom/element.mjs\";\nimport { clone } from \"../../../helpers/object.mjs\";\n\nvar GhostTable = /*#__PURE__*/function () {\n  function GhostTable(plugin) {\n    _classCallCheck(this, GhostTable);\n    /**\r\n     * Reference to NestedHeaders plugin.\r\n     *\r\n     * @type {NestedHeaders}\r\n     */\n\n\n    this.nestedHeaders = plugin;\n    /**\r\n     * Temporary element created to get minimal headers widths.\r\n     *\r\n     * @type {*}\r\n     */\n\n    this.container = void 0;\n    /**\r\n     * Cached the headers widths.\r\n     *\r\n     * @type {Array}\r\n     */\n\n    this.widthsCache = [];\n  }\n  /**\r\n   * Build cache of the headers widths.\r\n   *\r\n   * @private\r\n   */\n\n\n  _createClass(GhostTable, [{\n    key: \"buildWidthsMapper\",\n    value: function buildWidthsMapper() {\n      this.container = this.nestedHeaders.hot.rootDocument.createElement('div');\n      this.buildGhostTable(this.container);\n      this.nestedHeaders.hot.rootElement.appendChild(this.container);\n      var columns = this.container.querySelectorAll('tr:last-of-type th');\n      var maxColumns = columns.length;\n      this.widthsCache.length = 0;\n\n      for (var i = 0; i < maxColumns; i++) {\n        this.widthsCache.push(columns[i].offsetWidth);\n      }\n\n      this.container.parentNode.removeChild(this.container);\n      this.container = null;\n      this.nestedHeaders.hot.render();\n    }\n    /**\r\n     * Build temporary table for getting minimal columns widths.\r\n     *\r\n     * @private\r\n     * @param {HTMLElement} container The element where the DOM nodes are injected.\r\n     */\n\n  }, {\n    key: \"buildGhostTable\",\n    value: function buildGhostTable(container) {\n      var rootDocument = this.nestedHeaders.hot.rootDocument;\n      var fragment = rootDocument.createDocumentFragment();\n      var table = rootDocument.createElement('table');\n      var lastRowColspan = false;\n      var isDropdownEnabled = !!this.nestedHeaders.hot.getSettings().dropdownMenu;\n      var maxRows = this.nestedHeaders.getLayersCount();\n      var maxCols = this.nestedHeaders.hot.countCols();\n      var lastRowIndex = maxRows - 1;\n\n      for (var row = 0; row < maxRows; row++) {\n        var tr = rootDocument.createElement('tr');\n        lastRowColspan = false;\n\n        for (var col = 0; col < maxCols; col++) {\n          var td = rootDocument.createElement('th');\n          var headerObj = clone(this.nestedHeaders.getHeaderSettings(row, col));\n\n          if (headerObj && !headerObj.isHidden) {\n            if (row === lastRowIndex) {\n              if (headerObj.colspan > 1) {\n                lastRowColspan = true;\n              }\n\n              if (isDropdownEnabled) {\n                headerObj.label += '<button class=\"changeType\"></button>';\n              }\n            }\n\n            fastInnerHTML(td, headerObj.label);\n            td.colSpan = headerObj.colspan;\n            tr.appendChild(td);\n          }\n        }\n\n        table.appendChild(tr);\n      } // We have to be sure the last row contains only the single columns.\n\n\n      if (lastRowColspan) {\n        {\n          var _tr = rootDocument.createElement('tr');\n\n          for (var _col = 0; _col < maxCols; _col++) {\n            var _td = rootDocument.createElement('th');\n\n            _tr.appendChild(_td);\n          }\n\n          table.appendChild(_tr);\n        }\n      }\n\n      fragment.appendChild(table);\n      container.appendChild(fragment);\n    }\n    /**\r\n     * Clear the widths cache.\r\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.container = null;\n      this.widthsCache.length = 0;\n    }\n  }]);\n\n  return GhostTable;\n}();\n\nexport default GhostTable;","map":{"version":3,"sources":["C:/xampp/htdocs/isotracker-dev/isotracker-react/node_modules/handsontable/plugins/nestedHeaders/utils/ghostTable.mjs"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","fastInnerHTML","clone","GhostTable","plugin","nestedHeaders","container","widthsCache","value","buildWidthsMapper","hot","rootDocument","createElement","buildGhostTable","rootElement","appendChild","columns","querySelectorAll","maxColumns","push","offsetWidth","parentNode","removeChild","render","fragment","createDocumentFragment","table","lastRowColspan","isDropdownEnabled","getSettings","dropdownMenu","maxRows","getLayersCount","maxCols","countCols","lastRowIndex","row","tr","col","td","headerObj","getHeaderSettings","isHidden","colspan","label","colSpan","_tr","_col","_td","clear"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nimport { fastInnerHTML } from \"../../../helpers/dom/element.mjs\";\r\nimport { clone } from \"../../../helpers/object.mjs\";\r\n\r\nvar GhostTable = /*#__PURE__*/function () {\r\n  function GhostTable(plugin) {\r\n    _classCallCheck(this, GhostTable);\r\n\r\n    /**\r\n     * Reference to NestedHeaders plugin.\r\n     *\r\n     * @type {NestedHeaders}\r\n     */\r\n    this.nestedHeaders = plugin;\r\n    /**\r\n     * Temporary element created to get minimal headers widths.\r\n     *\r\n     * @type {*}\r\n     */\r\n\r\n    this.container = void 0;\r\n    /**\r\n     * Cached the headers widths.\r\n     *\r\n     * @type {Array}\r\n     */\r\n\r\n    this.widthsCache = [];\r\n  }\r\n  /**\r\n   * Build cache of the headers widths.\r\n   *\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(GhostTable, [{\r\n    key: \"buildWidthsMapper\",\r\n    value: function buildWidthsMapper() {\r\n      this.container = this.nestedHeaders.hot.rootDocument.createElement('div');\r\n      this.buildGhostTable(this.container);\r\n      this.nestedHeaders.hot.rootElement.appendChild(this.container);\r\n      var columns = this.container.querySelectorAll('tr:last-of-type th');\r\n      var maxColumns = columns.length;\r\n      this.widthsCache.length = 0;\r\n\r\n      for (var i = 0; i < maxColumns; i++) {\r\n        this.widthsCache.push(columns[i].offsetWidth);\r\n      }\r\n\r\n      this.container.parentNode.removeChild(this.container);\r\n      this.container = null;\r\n      this.nestedHeaders.hot.render();\r\n    }\r\n    /**\r\n     * Build temporary table for getting minimal columns widths.\r\n     *\r\n     * @private\r\n     * @param {HTMLElement} container The element where the DOM nodes are injected.\r\n     */\r\n\r\n  }, {\r\n    key: \"buildGhostTable\",\r\n    value: function buildGhostTable(container) {\r\n      var rootDocument = this.nestedHeaders.hot.rootDocument;\r\n      var fragment = rootDocument.createDocumentFragment();\r\n      var table = rootDocument.createElement('table');\r\n      var lastRowColspan = false;\r\n      var isDropdownEnabled = !!this.nestedHeaders.hot.getSettings().dropdownMenu;\r\n      var maxRows = this.nestedHeaders.getLayersCount();\r\n      var maxCols = this.nestedHeaders.hot.countCols();\r\n      var lastRowIndex = maxRows - 1;\r\n\r\n      for (var row = 0; row < maxRows; row++) {\r\n        var tr = rootDocument.createElement('tr');\r\n        lastRowColspan = false;\r\n\r\n        for (var col = 0; col < maxCols; col++) {\r\n          var td = rootDocument.createElement('th');\r\n          var headerObj = clone(this.nestedHeaders.getHeaderSettings(row, col));\r\n\r\n          if (headerObj && !headerObj.isHidden) {\r\n            if (row === lastRowIndex) {\r\n              if (headerObj.colspan > 1) {\r\n                lastRowColspan = true;\r\n              }\r\n\r\n              if (isDropdownEnabled) {\r\n                headerObj.label += '<button class=\"changeType\"></button>';\r\n              }\r\n            }\r\n\r\n            fastInnerHTML(td, headerObj.label);\r\n            td.colSpan = headerObj.colspan;\r\n            tr.appendChild(td);\r\n          }\r\n        }\r\n\r\n        table.appendChild(tr);\r\n      } // We have to be sure the last row contains only the single columns.\r\n\r\n\r\n      if (lastRowColspan) {\r\n        {\r\n          var _tr = rootDocument.createElement('tr');\r\n\r\n          for (var _col = 0; _col < maxCols; _col++) {\r\n            var _td = rootDocument.createElement('th');\r\n\r\n            _tr.appendChild(_td);\r\n          }\r\n\r\n          table.appendChild(_tr);\r\n        }\r\n      }\r\n\r\n      fragment.appendChild(table);\r\n      container.appendChild(fragment);\r\n    }\r\n    /**\r\n     * Clear the widths cache.\r\n     */\r\n\r\n  }, {\r\n    key: \"clear\",\r\n    value: function clear() {\r\n      this.container = null;\r\n      this.widthsCache.length = 0;\r\n    }\r\n  }]);\r\n\r\n  return GhostTable;\r\n}();\r\n\r\nexport default GhostTable;"]},"metadata":{},"sourceType":"module"}